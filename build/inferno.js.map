{"version":3,"sources":["src/inferno.js"],"names":[],"mappings":"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","file":"src/inferno.js","sourcesContent":["\"use strict\";\n\nvar t7 = require(\"../t7\");\n\nt7.setValuesOnly(true);\n\nvar supportsTextContent = 'textContent' in document;\n\nvar events = {\n  \"onClick\": \"click\"\n};\n\nvar userAgent = navigator.userAgent,\n    isWebKit = userAgent.indexOf('WebKit') !== -1,\n    isFirefox = userAgent.indexOf('Firefox') !== -1,\n    isTrident = userAgent.indexOf('Trident') !== -1;\n\nvar version = \"0.1.2\";\n\nvar cachedNodes = null;\nvar rootlisteners = {\n  click: []\n};\nvar initialisedListeners = false;\n\nif(typeof window != \"undefined\") {\n  cachedNodes = {\n    div: document.createElement(\"div\"),\n    span: document.createElement(\"span\"),\n    a: document.createElement(\"a\"),\n    p: document.createElement(\"p\"),\n    li: document.createElement(\"li\"),\n    tr: document.createElement(\"tr\"),\n    td: document.createElement(\"td\")\n  };\n} else {\n  //we can't add listeners if we're not in the dom\n  rootlisteners = null;\n}\n\nfunction addRootDomEventListerners() {\n  if(rootlisteners !== null && initialisedListeners === false) {\n    initialisedListeners = true;\n    document.addEventListener(\"click\", function(e) {\n      for(var i = 0; i < rootlisteners.click.length; i = i + 1 | 0) {\n        if(rootlisteners.click[i].target === e.target) {\n          rootlisteners.click[i].callback.call(rootlisteners.click[i].component || null, e);\n          //Let's take this out for now\n          //listeners.click[i].component.forceUpdate();\n        }\n      }\n    });\n  }\n};\n\nvar Inferno = {};\n\nclass Component {\n  constructor(props) {\n    this.props = props;\n    this.state = {};\n  }\n  render() {}\n  forceUpdate() {}\n  setState(newStateItems) {\n    for(var stateItem in newStateItems) {\n      this.state[stateItem] = newStateItems[stateItem];\n    }\n    this.forceUpdate();\n  }\n  replaceState(newState) {\n    this.state = newSate;\n    this.forceUpdate();\n  }\n}\n\nInferno.Component = Component;\n\nInferno.tearDown = function(root) {\n  //TODO finish, remove events etc\n  //removeNode(node.rootNode[0]);\n  // if(node.dom) {\n  //   node.dom.removeChild(node.node[0].dom);\n  // } else {\n  //   node.rootNode[0].dom.innerHTML = \"\";\n  //   node.rootNode = null;\n  // }\n  var domParent = root.dom.parentNode;\n  removeChild(domParent, root);\n  root = null;\n};\n\nfunction norm(node, oldNode) {\n  var type = typeof node;\n  if (type === 'string') {\n    node = {tag: '#', children: node};\n  } else if (type === 'function') {\n    oldNode = node;\n    node = node();\n    node.construct = oldNode;\n    node = (node === undefined) ? oldNode : norm(node, oldNode);\n  }\n  return node;\n}\n\nfunction normIndex(children, i, oldChild) {\n  var origChild = children[i],\n    child = norm(origChild, oldChild);\n  if (origChild !== child) {\n    children[i] = child;\n  }\n  return child;\n}\n\nfunction normOnly(node, origChild, oldChild) {\n  var child = norm(origChild, oldChild);\n  if (origChild !== child && node) {\n    node.children = child;\n  }\n  return child;\n}\n\nfunction insertChild(domParent, domNode, nextChild, replace) {\n  if (nextChild) {\n    var domNextChild = nextChild.dom;\n    if (replace) {\n      var domLength = nextChild.domLength || 1;\n      if (domLength === 1) {\n        destroyNode(nextChild);\n        domParent.replaceChild(domNode, domNextChild);\n      } else {\n        domParent.insertBefore(domNode, domNextChild);\n        removeChild(domParent, nextChild);\n      }\n    } else {\n      domParent.insertBefore(domNode, domNextChild);\n    }\n  } else {\n    domParent.appendChild(domNode);\n  }\n}\n\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\nfunction isArray(value) {\n  return value instanceof Array;\n}\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\nfunction getOnlyChild(children, childrenType) {\n  return (childrenType === 1) ? children[0] : children;\n}\n\nfunction getChildrenType(children) {\n  if (isArray(children)) {\n    return children.length;\n  } else {\n    return (children || isString(children)) ? -1 : 0;\n  }\n}\n\nfunction destroyNode(node) {\n  if (!isString(node)) {\n    var domNode = node.dom;\n    if (domNode) {\n      if (domNode.virtualNode) {\n        domNode.virtualNode = undefined;\n      }\n    }\n    var children = node.children;\n    if (children) {\n      destroyNodes(children, getChildrenType(children));\n    }\n  }\n}\n\nfunction destroyNodes(nodes, nodesType) {\n  if (nodesType > 1) {\n    for (var i = 0, len = nodes.length; i < len; i = i + 1 | 0) {\n      destroyNode(nodes[i]);\n    }\n  } else if (nodesType !== 0) {\n    destroyNode(getOnlyChild(nodes, nodesType));\n  }\n}\n\nfunction removeChild(domElement, child) {\n  destroyNode(child);\n  var domChild = child.dom, domLength = child.domLength || 1,\n    domNextChild;\n  while (domLength--) {\n    domNextChild = (domLength > 0) ? domChild.nextSibling : null;\n    domElement.removeChild(domChild);\n    domChild = domNextChild;\n  }\n}\n\nfunction createAllChildren(domNode, node, ns, children, inFragment) {\n  var childrenType = getChildrenType(children);\n  if (childrenType > 1) {\n    for (var i = 0, childrenLength = children.length; i < childrenLength; i = i + 1 | 0) {\n      createNode(normIndex(children, i), domNode, ns);\n    }\n  } else if (childrenType !== 0) {\n    var child = getOnlyChild(children, childrenType);\n    if(typeof child === \"number\") {\n      child = child.toString();\n    }\n    if (!inFragment && isString(child)) {\n      setTextContent(domNode, child);\n    } else {\n      child = normOnly(node, child);\n      createNode(child, domNode, ns, null, false, !inFragment);\n    }\n  }\n}\n\nfunction createNode(node, domParent, parentNs, nextChild, replace, isOnlyDomChild) {\n  if (isTrident) {\n    return insertNodeHTML(node, domParent, nextChild, replace);\n  }\n\n  //check if this is a value node\n  if(node.index !== undefined) {\n    if(typeof node.value === 'string') {\n      node.lastValue = node.value;\n      setTextContent(domParent, node.value, false);\n    } else {\n      createAllChildren(domParent, node, ns, node.value, false);\n    }\n    return;\n  }\n\n  if(node.component) {\n    //if its a component, we make a new instance\n    if(typeof node.component === \"function\") {\n      node.component = new node.component(node.props);\n      node.component.forceUpdate = Inferno.render.bind(null, node.component.render.bind(node.component), domParent, node.component);\n      node.component.forceUpdate();\n      node.isDynamic = true;\n    }\n    //if this is a component\n    if(node.component instanceof Component) {\n      node.component.forceUpdate();\n    }\n    return true;\n  }\n\n  var domNode, tag = node.tag, children = node.children, ns;\n  switch (tag) {\n  case '#':\n    if (isOnlyDomChild) {\n      setTextContent(domParent, children);\n      return;\n    } else {\n      domNode = document.createTextNode(children);\n    }\n    break;\n  default:\n    switch (tag) {\n      case 'svg': ns = 'http://www.w3.org/2000/svg'; break;\n      case 'math': ns = 'http://www.w3.org/1998/Math/MathML'; break;\n      default: ns = parentNs; break;\n    }\n\n    var attrs = node.attrs,\n      is = attrs && attrs.is;\n    if (ns) {\n      node.ns = ns;\n      domNode = is ? document.createElementNS(ns, tag, is) : document.createElementNS(ns, tag);\n    } else {\n      if (cachedNodes[tag]) {\n        domNode = is ? document.createElement(tag, is) : cachedNodes[tag].cloneNode(false);\n      } else {\n        domNode = is ? document.createElement(tag, is) : document.createElement(tag);\n      }\n    }\n    node.dom = domNode;\n    if (isTrident && domParent) {\n      insertChild(domParent, domNode, nextChild, replace);\n    }\n\n    if (children !== undefined) {\n      if (typeof children === 'string') {\n        setTextContent(domNode, children, false);\n      } else if (node.children.index !== undefined) {\n        createAllChildren(domNode, node, ns, node.children.value, false);\n      } else {\n        createAllChildren(domNode, node, ns, children, false);\n      }\n    }\n\n    if (attrs) {\n      updateAttributes(domNode, tag, ns, attrs);\n    }\n    if (!isTrident && domParent) {\n      insertChild(domParent, domNode, nextChild, replace);\n    }\n    return;\n  }\n  if (domParent) {\n    insertChild(domParent, domNode, nextChild, replace);\n  }\n}\n\n//addRootDomEventListerners\n\nInferno.append = function(node, domParent) {\n  createNode(node, domParent);\n  return node;\n};\n\nInferno.update = function(values, node) {\n  updateNode(node, values);\n};\n\nInferno.render = function(values, domParent, component) {\n  var node = null;\n  if(typeof values === \"function\" && component !== undefined) {\n    if(component._rootNode === undefined) {\n      t7.setValuesOnly(false);\n      node = values();\n      createNode(node, domParent);\n      component._rootNode = node;\n    } else {\n\n    }\n  } else if(domParent.__rootNode === undefined) {\n    //create rootNode\n    node = values.nodeTree(values, values.components);\n    createNode(node, domParent);\n    domParent.__rootNode = node;\n  } else {\n    //update rootNode\n  }\n};\n\nfunction updateChildren(node, children, val) {\n  var i = 0, newNode = null, lastLength = 0;\n  if(children.length !== val.length) {\n    //an item added\n    lastLength = children.length;\n    if(val.length > lastLength) {\n      //simply clone the first node, if we have it\n      for(var i = lastLength; i < val.length; i = i + 1 | 0) {\n        newNode = val[i].nodeTree();\n        createNode(newNode, node.dom);\n        children.push(newNode);\n      }\n    }\n    //an item removeNode\n    else if(val.length < lastLength) {\n      for(var i = val.length; i < lastLength; i = i + 1 | 0) {\n        removeChild(node.dom, children[children.length - 1]);\n        children.pop();\n      }\n    }\n  }\n  for(i = 0; i < children.length; i = i + 1 | 0) {\n    updateNode(children[i], val[i], node.dom, children, i);\n  }\n}\n\nfunction updateNode(node, values, domParent, parentNode, index) {\n  var i = 0, val = null;\n  if(node.children) {\n    if(node.nodeTree != null && node.nodeTree !== values.nodeTree) {\n      removeChild(domParent, node);\n      t7.setValuesOnly(false);\n      node = values.nodeTree();\n      createNode(node, domParent);\n      parentNode[index] = node;\n    }\n    if(isArray(node.children)) {\n      //TODO\n    } else if(node.children.index != null) {\n      val = values[node.children.index];\n      if(node.children.lastVal !== val) {\n        node.children.lastVal = val;\n        if(isArray(node.children.value)) {\n          updateChildren(node, node.children.value, val);\n        } else if (typeof node.children.value === \"string\") {\n          if(node.children.value !== val) {\n            setTextContent(node.dom, val, true);\n          }\n        }\n      }\n    } else {\n      updateNode(node.children, values, node.dom, node, null)\n    }\n  }\n}\n\n\n// TODO find solution without empty text placeholders\nfunction emptyTextNode() {\n    return document.createTextNode('');\n};\n\nfunction isInputProperty(tag, attrName) {\n  switch (tag) {\n    case 'input':\n      return attrName === 'value' || attrName === 'checked';\n    case 'textarea':\n      return attrName === 'value';\n    case 'select':\n      return attrName === 'value' || attrName === 'selectedIndex';\n    case 'option':\n      return attrName === 'selected';\n  }\n};\n\nfunction updateAttributes(domElement, tag, ns, attrs, oldAttrs, recordChanges) {\n  var changes, attrName;\n  if (attrs) {\n    for (attrName in attrs) {\n      var changed = false,\n        attrValue = attrs[attrName];\n      if (attrName === 'style') {\n        var oldAttrValue = oldAttrs && oldAttrs[attrName];\n        if (oldAttrValue !== attrValue) {\n          changed = updateStyle(domElement, oldAttrValue, attrs, attrValue);\n        }\n      } else if (isInputProperty(tag, attrName)) {\n        if (domElement[attrName] !== attrValue) {\n          domElement[attrName] = attrValue;\n          changed = true;\n        }\n      } else if (!oldAttrs || oldAttrs[attrName] !== attrValue) {\n        if (attrName === 'class' && !ns) {\n          domElement.className = attrValue;\n        } else {\n          updateAttribute(domElement, attrName, attrValue);\n        }\n        changed = true;\n      }\n      if (changed && recordChanges) {\n        (changes || (changes = [])).push(attrName);\n      }\n    }\n  }\n  if (oldAttrs) {\n    for (attrName in oldAttrs) {\n      if ((!attrs || attrs[attrName] === undefined)) {\n        if (attrName === 'class' && !ns) {\n          domElement.className = '';\n        } else if (!isInputProperty(tag, attrName)) {\n          domElement.removeAttribute(attrName);\n        }\n        if (recordChanges) {\n          (changes || (changes = [])).push(attrName);\n        }\n      }\n    }\n  }\n  return changes;\n}\n\nfunction updateAttribute(domElement, name, value) {\n  if (value === false || value == null) {\n    domElement.removeAttribute(name);\n  } else {\n    if (value === true) {\n      value = '';\n    }\n    var colonIndex = name.indexOf(':'), ns;\n    if (colonIndex !== -1) {\n      var prefix = name.substr(0, colonIndex);\n      switch (prefix) {\n        case 'xlink':\n          ns = 'http://www.w3.org/1999/xlink';\n          break;\n      }\n    }\n    domElement.setAttribute(name, value);\n  }\n};\n\nfunction setTextContent(domElement, text, update) {\n  //if (text) {\n    if(update && domElement.firstChild) {\n      domElement.firstChild.nodeValue = text;\n    } else {\n      if (supportsTextContent) {\n        domElement.textContent = text;\n      } else {\n        domElement.innerText = text;\n      }\n    }\n};\n\nfunction handleNodeAttributes(tag, domElement, attrName, attrValue) {\n  if (attrName === 'style') {\n    updateStyle(domElement, oldAttrValue, attrs, attrValue);\n  } else if (isInputProperty(tag, attrName)) {\n    if (domElement[attrName] !== attrValue) {\n      domElement[attrName] = attrValue;\n    }\n  } else if (attrName === 'class') {\n    domElement.className = attrValue;\n  } else {\n    updateAttribute(domElement, attrName, attrValue);\n  }\n};\n\nfunction addRootDomEventListerners(domNode) {\n  var listeners = {\n    click: []\n  };\n  domNode.addEventListener(\"click\", function(e) {\n    for(var i = 0; i < listeners.click.length; i = i + 1 | 0) {\n      if(listeners.click[i].target === e.target) {\n        listeners.click[i].callback.call(listeners.click[i].component, e);\n        //Let's take this out for now\n        //listeners.click[i].component.forceUpdate();\n      }\n    }\n  });\n  return listeners;\n};\n\nmodule.exports = Inferno;\n"]}