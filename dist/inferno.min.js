!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Inferno=t()}(this,function(){"use strict";function e(t){var n=[],r=[],o=[];return Object.create(e.prototype,{get:{value:function(e){var t=[].indexOf.call(r,e);return o[t]||void 0}},set:{value:function(e,t){var u=[].indexOf.call(r,e);u>-1?(n[u][1]=t,o[u]=t):(n.push([e,t]),r.push(e),o.push(t))}}})}function t(e){return{index:e,type:c.VARIABLE}}function n(e,t){var r=!1,o={NODE:!1,TEXT:!1,ATTRS:!1,CHILDREN:!1,KEY:!1,COMPONENTS:!1};if(f(e))return!1;if(e.type===c.VARIABLE)r=!0,o.NODE=!0;else if(!f(e)){if(!f(e.tag)&&"object"===i(e.tag)){if(e.tag.type!==c.VARIABLE)throw Error("Inferno Error: Incorrect tag name passed. Tag name must be a reference to a component, function or string.");r=!0,o.COMPONENTS=!0}if(f(e.text)||e.text.type===c.VARIABLE&&(r=!0,o.TEXT=!0),!f(e.attrs))if(e.attrs.type===c.VARIABLE)r=!0,o.ATTRS=!0;else for(var u in e.attrs){var a=e.attrs[u];if(!f(a)&&a.type===c.VARIABLE){if("xmlns"===u)throw Error("Inferno Error: The 'xmlns' attribute cannot be dynamic. Please use static value for 'xmlns' attribute instead.");o.ATTRS===!1&&(o.ATTRS={}),o.ATTRS[u]=a.index,r=!0}}if(!f(e.children))if(e.children.type===c.VARIABLE)r=!0;else if(l(e.children))for(var d=0;d<e.children.length;d++){var s=e.children[d],y=n(s,t);y===!0&&(r=!0,o.CHILDREN=!0)}else if("object"===("undefined"==typeof e?"undefined":i(e))){var y=n(e.children,t);y===!0&&(r=!0,o.CHILDREN=!0)}f(e.key)||e.key.type===c.VARIABLE&&(r=!0,o.KEY=!0)}return r===!0&&t.set(e,o),r}function r(e,t){s[e]=t}function o(e,t){var n={};for(var r in s)n[r]=s[r](e,!0,t);return n}function u(r){if("function"==typeof r){var u=r.construct||null;return f(u)&&!function(){for(var a=r.length,i=new Array(a),l=0;a>l;l++)i[l]=t(l);var c=r.apply(void 0,i),s=new Map||new e;n(c,s);var y=o(c,s),v=c.key,p=v?v.index:-1;switch(a){case 0:u=function(){return{parent:null,tree:y,id:d++,key:null,nextItem:null,rootNode:null}};break;case 1:u=function(e){var t=void 0;return 0===p&&(t=e),{parent:null,tree:y,id:d++,key:t,nextItem:null,rootNode:null,v0:e}};break;case 2:u=function(e,t){var n=void 0;return 0===p?n=e:1===p&&(n=t),{parent:null,tree:y,id:d++,key:n,nextItem:null,rootNode:null,v0:e,v1:t}};break;default:u=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];var u=void 0;return 0===p?u=e:1===p?u=t:p>1&&(u=r[p]),{parent:null,tree:y,id:d++,key:u,nextItem:null,rootNode:null,v0:e,v1:t,values:r}}}f(u)||(r.construct=u)}(),u}}function a(e,t){if(e){var n={tag:e};t&&(void 0!==t.key&&(n.key=t.key,delete t.key),n.attrs=t);for(var r=arguments.length,o=Array(r>2?r-2:0),u=2;r>u;u++)o[u-2]=arguments[u];return o.length&&(n.children=o),n}return{text:e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(e){return e.constructor===Array},f=function(e){return null===e||void 0===e},c={VARIABLE:1},d=Date.now(),s={},y={createElement:a},v={createTemplate:u,TemplateFactory:y,addTreeConstructor:r};return v});