!function(e){"use strict";function a(){return(a=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f])}return e}).apply(this,arguments)}function t(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,e.__proto__=a}var f,c,n=function(e,a,t,f){this.min=e,this.max=a,this.mean=t,this.last=f},d=function(){function e(e){this.samples=[],this.maxSamples=e,this._i=-1}return e.prototype.addSample=function(e){this._i=(this._i+1)%this.maxSamples,this.samples[this._i]=e},e.prototype.each=function(e){for(var a=this.samples,t=0;t<a.length;t++)e(a[(this._i+1+t)%a.length],t)},e.prototype.calc=function(){var e=this.samples;if(0===e.length)return new n(0,0,0,0);for(var a=e[(this._i+1)%e.length],t=a,f=0,c=0;c<e.length;c++){var d=e[(this._i+1+c)%e.length];d<a&&(a=d),d>t&&(t=d),f+=d}var i=e[this._i],o=f/e.length;return new n(a,t,o,i)},e}(),i=[],o=-1,r=(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)a.hasOwnProperty(t)&&(e[t]=a[t])},function(e,a){function t(){this.constructor=e}f(e,a),e.prototype=null===a?Object.create(a):(t.prototype=a.prototype,new t)}),b=30,s=100,u=function(){function e(e){var a=this;this._sync=function(){a.sync(),a._dirty=!1},this.name=e,this.element=document.createElement("div"),this.element.style.cssText="padding: 2px;background-color: #020;font-family: monospace;font-size: 12px;color: #0f0",this._dirty=!1,this.invalidate()}return e.prototype.invalidate=function(){var e;this._dirty||(this._dirty=!0,e=this._sync,i.push(e),-1===o&&requestAnimationFrame((function(e){o=-1;var a=i;i=[];for(var t=0;t<a.length;t++)a[t]()})))},e.prototype.sync=function(){throw new Error("sync method not implemented")},e}();!function(e){e[e.HideMin=1]="HideMin",e[e.HideMax=2]="HideMax",e[e.HideMean=4]="HideMean",e[e.HideLast=8]="HideLast",e[e.HideGraph=16]="HideGraph",e[e.RoundValues=32]="RoundValues"}(c||(c={}));var l=function(e){function a(a,t,f,n){var d=e.call(this,a)||this;d.flags=t,d.unitName=f,d.samples=n;var i=document.createElement("div");i.style.cssText="text-align: center",i.textContent=d.name;var o=document.createElement("div");return 0===(t&c.HideMin)?(d.minText=document.createElement("div"),o.appendChild(d.minText)):d.minText=null,0===(t&c.HideMax)?(d.maxText=document.createElement("div"),o.appendChild(d.maxText)):d.maxText=null,0===(t&c.HideMean)?(d.meanText=document.createElement("div"),o.appendChild(d.meanText)):d.meanText=null,0===(t&c.HideLast)?(d.lastText=document.createElement("div"),o.appendChild(d.lastText)):d.lastText=null,d.element.appendChild(i),d.element.appendChild(o),0===(t&c.HideGraph)?(d.canvas=document.createElement("canvas"),d.canvas.style.cssText="display: block; padding: 0; margin: 0",d.canvas.width=s,d.canvas.height=b,d.ctx=d.canvas.getContext("2d"),d.element.appendChild(d.canvas)):(d.canvas=null,d.ctx=null),d}return r(a,e),a.prototype.sync=function(){var e,a,t,f,n=this,d=this.samples.calc(),i=b/(1.2*d.max);0===(this.flags&c.RoundValues)?(e=d.min.toFixed(2),a=d.max.toFixed(2),t=d.mean.toFixed(2),f=d.last.toFixed(2)):(e=Math.round(d.min).toString(),a=Math.round(d.max).toString(),t=Math.round(d.mean).toString(),f=Math.round(d.last).toString()),null!==this.minText&&(this.minText.textContent="min:  "+e+this.unitName),null!==this.maxText&&(this.maxText.textContent="max:  "+a+this.unitName),null!==this.meanText&&(this.meanText.textContent="mean: "+t+this.unitName),null!==this.lastText&&(this.lastText.textContent="last: "+f+this.unitName),null!==this.ctx&&(this.ctx.fillStyle="#010",this.ctx.fillRect(0,0,s,b),this.ctx.fillStyle="#0f0",this.samples.each((function(e,a){n.ctx.fillRect(a,b,1,-e*i)})))},a}(u),h=(function(e){function a(a,t){var f=e.call(this,a)||this;return f.counter=t,f.text=document.createElement("div"),f.element.appendChild(f.text),f}r(a,e),a.prototype.sync=function(){this.text.textContent=this.name+": "+this.counter.value}}(u),null);function p(){h||((h=document.createElement("div")).style.cssText="position: fixed;opacity: 0.9;right: 0;bottom: 0",document.body.appendChild(h))}function m(e){for(var a=e.length/6|0,t=new Array(a),f=0;f<a;)t[f]="#"+e.slice(6*f,6*++f);return t}function x(e){var a=e.length;return function(t){return e[Math.max(0,Math.min(a-1,Math.floor(t*a)))]}}var v=x(m("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));x(m("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),x(m("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),x(m("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),function(e){void 0===e&&(e=c.HideMin|c.HideMax|c.HideMean|c.RoundValues),p();var a=new d(100),t=new l("FPS",e,"",a);h.appendChild(t.element);var f=0,n=60;requestAnimationFrame((function e(c){f>0&&(n+=2/121*(1e3/(c-f)-n)),f=c,a.addSample(n),t.invalidate(),requestAnimationFrame(e)}))}(),function(e){if(void 0===e&&(e=c.HideMin|c.HideMean),p(),void 0===performance.memory)return;var a=new d(100),t=new l("Memory",e,"MB",a);h.appendChild(t.element),function e(){a.addSample(Math.round(performance.memory.usedJSHeapSize/1048576)),t.invalidate(),setTimeout(e,30)}()}();var y=function(a){function f(e,t){var f;return(f=a.call(this,e,t)||this).state={numPoints:0},f.updateCount=f.updateCount.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(f)),f}t(f,a);var c=f.prototype;return c.updateCount=function(e){this.setState({numPoints:e.target.value})},c.componentDidMount=function(){this.setState({numPoints:1e3})},c.render=function(a,t){return e.createVNode(1,"div","app-wrapper",[e.createComponentVNode(2,T,{count:t.numPoints},null,null),e.createVNode(1,"div","controls",[e.createTextVNode("# Points"),e.createVNode(64,"input",null,null,1,{type:"range",min:10,max:1e4,value:t.numPoints,onInput:this.updateCount},null,null),t.numPoints],0,null,null,null),e.createVNode(1,"div","about",[e.createTextVNode("InfernoJS 1k Components Demo based on the Glimmer demo by "),e.createVNode(1,"a",null,"Michael Lange",16,{href:"http://mlange.io",target:"_blank"},null,null),e.createTextVNode(".")],4,null,null,null)],4,null,null,null)},f}(e.Component),g={PHYLLOTAXIS:0,GRID:1,WAVE:2,SPIRAL:3},M=[g.PHYLLOTAXIS,g.SPIRAL,g.PHYLLOTAXIS,g.GRID,g.WAVE],T=function(f){function c(e,a){var t;return(t=f.call(this,e,a)||this).layout=0,t.phyllotaxis=_(100),t.grid=V(100),t.wave=A(100),t.spiral=I(100),t.points=[],t.step=0,t.numSteps=120,t}t(c,f);var n=c.prototype;return n.next=function(){var e=this;this.step=(this.step+1)%this.numSteps,0===this.step&&(this.layout=(this.layout+1)%M.length);var t=Math.min(1,this.step/(.8*this.numSteps)),f=M[this.layout],c=M[(this.layout+1)%M.length],n=C(f),d=C(c),i=P(f),o=P(c);this.points=this.points.map((function(e){var f=a({},e);return f.x=H(f,t,n,d),f.y=H(f,t,i,o),f})),this.setState(),requestAnimationFrame((function(){e.next()}))},n.setAnchors=function(e){var a=this;e.map((function(e,t){var f=N(a.grid(t)),c=f[0],n=f[1],d=N(a.wave(t)),i=d[0],o=d[1],r=N(a.spiral(t)),b=r[0],s=r[1],u=N(a.phyllotaxis(t)),l=u[0],h=u[1];Object.assign(e,{gx:c,gy:n,wx:i,wy:o,sx:b,sy:s,px:l,py:h})})),this.points=e},n.makePoints=function(e){for(var a=[],t=0;t<e;t++)a.push({x:0,y:0,color:v(t/e)});this.setAnchors(a)},n.componentWillReceiveProps=function(e){e.count!==this.props.count&&(this.phyllotaxis=_(e.count),this.grid=V(e.count),this.wave=A(e.count),this.spiral=I(e.count),this.makePoints(e.count))},n.componentDidMount=function(){this.next()},n.renderPoint=function(a){return e.createComponentVNode(2,S,{x:a.x,y:a.y,color:a.color},null,null)},n.render=function(){return e.createVNode(32,"svg","demo",e.createVNode(32,"g",null,function(e,a){for(var t=[],f=0;f<e.length;f++)t.push(a(e[f]));return t}(this.points,this.renderPoint),4,null,null,null),2,null,null,null)},c}(e.Component);function S(a){var t=a.x,f=a.y,c=a.color;return e.createVNode(32,"rect","point",null,1,{transform:"translate("+Math.floor(t)+", "+Math.floor(f)+")",fill:c},null,null)}var w=Math.PI*(3-Math.sqrt(5));function C(e){switch(e){case g.PHYLLOTAXIS:return"px";case g.GRID:return"gx";case g.WAVE:return"wx";case g.SPIRAL:return"sx"}}function P(e){switch(e){case g.PHYLLOTAXIS:return"py";case g.GRID:return"gy";case g.WAVE:return"wy";case g.SPIRAL:return"sy"}}function H(e,a,t,f){var c=e[t];return c+(e[f]-c)*a}function _(e){return function(a){var t=Math.sqrt(a/e),f=a*w;return[t*Math.cos(f),t*Math.sin(f)]}}function V(e){var a=Math.round(Math.sqrt(e));return function(e){return[1.6/a*(e%a)-.8,1.6/a*Math.floor(e/a)-.8]}}function A(e){var a=2/(e-1);return function(e){var t=e*a-1;return[t,.3*Math.sin(t*Math.PI*3)]}}function I(e){return function(a){var t=Math.sqrt(a/(e-1)),f=t*Math.PI*10;return[t*Math.cos(f),t*Math.sin(f)]}}function N(e){var a=window.innerHeight/2,t=window.innerWidth/2;return function(e,a){return a.map((function(a,t){return a+e[t]}))}([t,a],function(e,a){return a.map((function(a){return a*e}))}(Math.min(a,t),e))}e.render(e.createComponentVNode(2,y,null,null,null),document.getElementById("app"))}(inferno$1);
