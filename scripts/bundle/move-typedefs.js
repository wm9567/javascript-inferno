import { join } from 'path';
import { readFileSync } from 'fs';
import { copySync } from 'fs-extra/esm';

const cwd = process.cwd();
const pkgJSONtext = readFileSync(join(cwd, 'package.json'));
const pkgJSON = JSON.parse(pkgJSONtext);

if (!pkgJSON.private) {
  // Move type declaration files generated by TSC to dist folder
  copySync(join(cwd, '../../build/packages/', pkgJSON.name, 'src'), join(cwd, 'dist'), { overwrite: true });
}
