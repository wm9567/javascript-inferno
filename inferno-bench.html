<html>
<head>
  <title>Inferno benchmark</title>
</head>
<body>
  <div id="app"></div>
  <script src="t7.js"></script>
  <script src="im7.js"></script>
  <script src="inferno.js"></script>
  <script>

    // var $ = Inferno.GetterSetter;
    //
    // var myName = $("Dominic");
    // var className = $("foo");

    var state = Inferno.createState({
      myName: "Dominic",
      className: "Foo"
    });

    function Foo($) {
      //make our private varaibles
      return Inferno.createElement("div", null,
        Inferno.createElement("span", {class: state.getClassName}, state.getMyName),
        Inferno.createElement("span", {class: state.getClassName}, state.getMyName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("span", {class: state.getClassName}, state.getMyName),
        Inferno.createElement("span", {class: state.getClassName}, state.getMyName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node")
      );
    };

    var app = document.getElementById("app");
    var rootNode = Inferno.append(Foo, app);

    console.log("Update with no data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      Inferno.update(rootNode, app);
    }
    console.timeEnd("Inferno update");

    console.log("Update with only data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      state.setMyName("Rand " + (Math.round(Math.random() * 10000)));
      Inferno.update(rootNode, app);
    }
    console.timeEnd("Inferno update");

    console.log("Update with both child and attrs data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      state.setMyName("Rand " + (Math.round(Math.random() * 10000)));
      state.setClassName("foo-" + i);
      Inferno.update(rootNode, app);
    }
    console.timeEnd("Inferno update");

  </script>
</body>
</html>
