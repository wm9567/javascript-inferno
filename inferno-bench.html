<html>
<head>
  <title>Inferno benchmark</title>
</head>
<body>
  <div id="app"></div>
  <div style="margin-top: 20px;" id="time"></div>
  <script src="t7.js"></script>
  <script src="im7.js"></script>
  <script src="inferno.js"></script>
  <script>

    var timeDiv = document.getElementById("time");

    var lastTime = 0;

    function logTimeStart() {
      lastTime = window.performance.now();
    }

    function logTimeEnd(event) {
      var time = Math.round(window.performance.now() - lastTime) + "ms";
      var newTimeDiv = document.createElement("div");
      newTimeDiv.textContent = event + " - " + time
      timeDiv.appendChild(newTimeDiv);
    }

    var state = Inferno.createState({
      myName: "Dominic",
      className: "Foo"
    });

    function Foo($) {
      //make our private varaibles
      return Inferno.createElement("div", null,
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node")
      );
    };

    var app = document.getElementById("app");
    var rootNode = Inferno.append(Foo, state, app);

    console.log("Update with no data changed");
    logTimeStart();
    for(var i = 0; i < 10000; i++) {
      Inferno.update(rootNode, app);
    }
    logTimeEnd("Inferno update");

    console.log("Update with only data changed");
    logTimeStart();
    for(var i = 0; i < 10000; i++) {
      state.myName = "Rand " + (Math.round(Math.random() * 10000));
      Inferno.update(rootNode, app);
    }
    logTimeEnd("Inferno update");

    console.log("Update with both child and attrs data changed");
    logTimeStart();
    for(var i = 0; i < 10000; i++) {
      state.myName = "Rand " + (Math.round(Math.random() * 10000));
      state.className = "foo-" + i ;
      Inferno.update(rootNode, app);
    }
    logTimeEnd("Inferno update");

  </script>
</body>
</html>
