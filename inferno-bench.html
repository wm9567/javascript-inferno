<html>
<head>
  <title>Inferno benchmark</title>
</head>
<body>
  <div id="app"></div>
  <script src="ReactiveState.js"></script>
  <script src="im7.js"></script>
  <script src="inferno.js"></script>
  <script>

    //create a new state instance, we use this to handle our properties
    var state = new ReactiveState({
      myName: "Dominic",
      className: "foo"
    });

    function Foo($) {
      //make our private varaibles
      return Inferno.createElement("div", null,
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("span", {class: state.className}, state.myName),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node")
      );
    };

    var app = document.getElementById("app");
    var rootNode = Inferno.append(Foo, state, app);

    // console.log("Update with no data changed");
    // console.time("Inferno update");
    // for(var i = 0; i < 10000; i++) {
    //   Inferno.update(rootNode, app);
    // }
    // console.timeEnd("Inferno update");

    console.log("Update with only data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      state.myName("Rand " + (Math.round(Math.random() * 10000)));
      Inferno.update(rootNode, app);
    }
    console.timeEnd("Inferno update");

    console.log("Update with both child and attrs data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      state.myName("Rand " + (Math.round(Math.random() * 10000)));
      state.className("foo-" + i);
      Inferno.update(rootNode, app);
    }
    console.timeEnd("Inferno update");

  </script>
</body>
</html>
