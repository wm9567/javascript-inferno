<html>
<head>
  <title>Inferno example</title>
</head>
<body>
  <div id="app"></div>
  <script src="inferno.js"></script>
  <script src="im7.js"></script>
  <script>

    var myName = im7("Dominic");
    var className = im7("foo");
    var items = im7([
      "Dominic",
      "Jemma",
      "Charlie",
      "Harry"
    ]);

    function Foo($) {
      //make our private varaibles
      return Inferno.createElement("div", null,
        Inferno.createElement("span", {class: $.bind(className)}, $.bind(myName)),
        Inferno.createElement("span", {class: $.bind(className)}, $.bind(myName)),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("span", {class: $.bind(className)}, $.bind(myName)),
        Inferno.createElement("span", {class: $.bind(className)}, $.bind(myName)),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node"),
        Inferno.createElement("div", {class: "test"}, "static node")
        // Inferno.createElement("ul", null,
        //   $.repeat(items, function(item) {
        //     return Inferno.createElement("li", null, $.bind(item));
        //   })
        // )
      );
    };

    Inferno.mount(Foo, document.getElementById("app"));

    console.log("Update with no data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      update();
    }
    console.timeEnd("Inferno update");

    console.log("Update with only data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      myName("Rand " + (Math.round(Math.random() * 10000)));
      update();
    }
    console.timeEnd("Inferno update");

    console.log("Update with both child and attrs data changed");
    console.time("Inferno update");
    for(var i = 0; i < 10000; i++) {
      myName("Rand " + (Math.round(Math.random() * 10000)));
      className("foo-" + i);
      update();
    }
    console.timeEnd("Inferno update");

  </script>
</body>
</html>
