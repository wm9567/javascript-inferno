!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.InfernoDOM=n()}(this,function(){"use strict";function e(e,t){if(!l(e)){var r=n(e);(r&&e.length>0||!r)&&(t=t?Object.assign({},t,{children:e}):{children:e})}return t}function n(e){return e instanceof Array}function t(e){return void 0!==e.prototype.render}function r(e){return"string"==typeof e||"number"==typeof e}function l(e){return void 0===e||null===e}function o(e){return null===e||e===!1||void 0===e}function i(e){return"function"==typeof e}function a(e){return"string"==typeof e}function s(e){return e instanceof Promise}function c(e,n,t){e.splice(e.indexOf(n),1,t)}function d(e,t){if(!o(e))if(n(e))for(var r=0;r<e.length;r++){var l=e[r];if(!o(l)){if(l===t)return!0;if(l.children)return d(l.children,t)}}else{if(e===t)return!0;if(e.children)return d(e.children,t)}return!1}function u(e,n){var t=n.props.children;return d(t,e)?u(e,n._parentComponent):n}function f(e,n,t,r,o){if(void 0!==n){var i=e.key,a=null===i?n.pools.nonKeyed:n.pools.keyed[i];if(!l(a)){var s=a.pop();if(!l(s))return oe(s,e,null,t,r,o,!0,n.isSVG),e.dom}}return null}function h(e){var n=e.bp;if(!l(n)){var t=e.key,r=n.pools;if(null===t){var o=r.nonKeyed;o&&o.push(e)}else{var i=r.keyed;(i[t]||(i[t]=[])).push(e)}return!0}return!1}function p(e,t,r,l,i,a){if(n(e))return z(e,t);if(o(e))return null;var s=e.bp;if(Ne){var c=f(e,s,r,l,i);if(null!==c)return null!==t&&t.appendChild(c),c}return void 0===s?y(e,t,r,l,i,a):m(e,s,t,r,l,i)}function v(e){"select"===e.tag&&I(e)}function m(e,n,t,r,l,o){var i=e.tag;if(n.isComponent===!0)return x(e,i,e.attrs||{},e.hooks,e.children,o,t,r,l);var a=E(n.tag,n.isSVG);switch(e.dom=a,n.hasHooks===!0&&R(e.hooks,r,a),n.lazy===!0&&pe(e,r,a),n.childrenType){case 1:U(e.children,a,!0);break;case 2:p(e.children,a,r,l,o);break;case 3:C(e,e.children,a,r,l,o);break;case 4:b(e.children,a,r,l,o);break;case 5:w(e,e.children,a,r,l,o)}if(n.hasAttrs===!0){v(e);var s=e.attrs;if(null===n.attrKeys){var c=Object.keys(s);n.attrKeys=n.attrKeys?n.attrKeys.concat(c):c}var d=n.attrKeys;_(e,s,d,a,o)}if(n.hasClassName===!0&&(a.className=e.className),n.hasStyle===!0&&ie(null,e.style,a),n.hasEvents===!0){var u=e.events;null===n.eventKeys&&(n.eventKeys=Object.keys(u));var f=n.eventKeys;N(u,f,a)}return null!==t&&t.appendChild(a),a}function y(e,n,t,r,s,c){var d=e.tag;if(null===d)return z(e,n);if(i(d))return x(e,d,e.attrs||{},e.hooks,e.children,s,n,t,r);if(!a(d)||""===d)throw Error("Inferno Error: Expected function or string for element tag type");"svg"===d&&(c=!0);var u=E(d,c),f=e.children,h=e.attrs,p=e.events,m=e.hooks,y=e.className,g=e.style;return e.dom=u,l(m)||R(m,t,u),o(f)||w(e,f,u,t,r,s,c),l(h)||(v(e),_(e,h,Object.keys(h),u,s)),l(y)||(u.className=y),l(g)||ie(null,g,u),l(p)||N(p,Object.keys(p),u),null!==n&&n.appendChild(u),u}function g(e,n,t,r,l,i,a){var s=A();t&&t.push(s),e.then(function(e){var d=p(e,null,r,l,i,a);null===n||o(d)||n.replaceChild(d,s),t&&c(t,s,d)}),n.appendChild(s)}function b(e,n,t,r,l){for(var o=0;o<e.length;o++)p(e[o],n,t,r,l)}function C(e,t,i,a,c,d,u){for(var f=null,h=!1,v=!1,m=0;m<t.length;m++){var y=t[m];if(r(y))h=!0,f=f||[],f.push(U(y,i,!1));else if(!l(y)&&n(y)){var b=X();h=!0,C(e,y,b,a,c,d,u),j(i,b),f=f||[],f.push(b)}else if(s(y))g(y,i,f,a,c,d,u);else{var w=p(y,i,a,c,d,u);h||!v&&!l(y)&&l(y.key)?(h=!0,f=f||[],f.push(w)):o(y)?(h=!0,f=f||[],f.push(w)):v===!1&&(v=!0)}}null!==f&&f.length>1&&h===!0&&(e.domChildren=f)}function w(e,t,l,o,i,a,c){n(t)?C(e,t,l,o,i,a,c):r(t)?U(t,l,!0):s(t)?g(t,l,null,o,i,a,c):p(t,l,o,i,a,c)}function k(e,n,t){!o(e)&&a(n)&&(e.refs[n]=t)}function N(e,n,t){for(var r=0;r<n.length;r++){var l=n[r];t[l]=e[l]}}function x(n,r,i,a,s,c,d,u,f){i=e(s,i);var h=void 0;if(t(r)){var v=new r(i);v._patch=oe,!l(c)&&i.ref&&k(c,i.ref,v);var m=v.getChildContext();l(m)||(f=Object.assign({},f,m)),v.context=f,v._unmounted=!1,v._parentNode=n,c&&(v._parentComponent=c),v._pendingSetState=!0,v.componentWillMount();var y=v.render();v._pendingSetState=!1,o(y)?(v._lastNode=S(),h=v._lastNode.dom):(h=p(y,null,u,f,v,!1),v._lastNode=y,v.componentDidMount()),null===d||o(h)||d.appendChild(h),n.dom=h,n.instance=v}else{l(a)||(l(a.componentWillMount)||a.componentWillMount(null,i),l(a.componentDidMount)||u.addListener(function(){a.componentDidMount(h,i)}));var g=r(i,f);h=p(g,null,u,f,null,!1),n.instance=g,null===d||o(h)||d.appendChild(h),n.dom=h}return h}function _(e,n,t,r,l){for(var o=0;o<t.length;o++){var i=t[o];"ref"===i?k(u(e,l),n[i],r):se(i,null,n[i],r)}}function O(e){return!l(e.append)}function j(e,n,t){l(t)?O(n)?n.append(e):e.appendChild(n):O(n)?n.insert(e,t):O(t)?e.insertBefore(n,t.childNodes[0]||t.dom):e.insertBefore(n,t)}function S(){return{"null":!0,dom:document.createTextNode("")}}function T(e,n,t){l(t)?e.appendChild(n):e.insertBefore(n,t)}function E(e,n){var t=void 0;return t=n===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function U(e,n,t){if(null===n)return document.createTextNode(e);if(t){if(""!==e)return n.textContent=e,n.firstChild;var r=document.createTextNode("");return n.appendChild(r),r}var l=document.createTextNode(e);return n.appendChild(l),l}function D(e,n,t,r,o,i,a){var s=null,c=e._lastNode;l(c)||(s=e,e=c),K(e);var d=p(n,null,r,o,i,a);n.dom=d,M(t,d,e.dom),null!==s&&(s._lastNode=n)}function M(e,n,t){O(t)?t.replaceWith(n):e.replaceChild(n,t)}function K(e){if(!o(e)&&!r(e)){var t=e.instance,i=null,a=null;l(t)||(i=t.hooks,a=t.children,void 0!==t.render&&(t.componentWillUnmount(),t._unmounted=!0,K(t._lastNode)));var s=e.hooks||i;l(s)||(l(s.willDetach)||s.willDetach(e.dom),l(s.componentWillUnmount)||s.componentWillUnmount(e.dom,s));var c=e.children||a;if(!l(c))if(n(c))for(var d=0;d<c.length;d++)K(c[d]);else K(c)}}function A(){return document.createTextNode("")}function V(e,n){var t=e.dom;t===n?t.innerHTML="":(n.removeChild(t),Ne&&h(e)),K(e)}function B(e,n,t){for(var r=n||Object.keys(e),l=0;l<r.length;l++){var o=r[l];t[o]=null}}function H(e,n,t){for(var r=0;r<n.length;r++)e.insertBefore(n[r],t)}function W(){return document.activeElement}function Y(e,n){if(Ne){var t=n.length;if(t>5)for(var r=0;t>r;r++){var l=n[r];o(l)||h(l)}}e.textContent=""}function L(e){null!==e&&e!==document.body&&document.activeElement!==e&&e.focus()}function X(){var e=[],n=document.createTextNode(""),t=null,r={dom:n,childNodes:e,appendChild:function(r){e.push(r),t&&t.insertBefore(r,n)},removeChild:function(n){t&&t.removeChild(n),e.splice(e.indexOf(n),1)},insertBefore:function(n,r){t&&t.insertBefore(n,r),e.splice(e.indexOf(r),0,n)},replaceChild:function(n,r){t.replaceChild(n,r),c(e,r,n)},append:function(r){r.appendChild(n),t=r,H(t,e,n)},insert:function(r,l){r.insertBefore(n,l),t=r,H(t,e,n)},remove:function(){t.removeChild(n);for(var r=0;r<e.length;r++)t.removeChild(e[r]);t=null},replaceWith:function(r){t.replaceChild(r,n);for(var l=0;l<e.length;l++)t.removeChild(e[l]);t=null},getElementsByTagName:null};return Object.defineProperty(r,"parentNode",{get:function(){return t}}),Object.defineProperty(r,"firstChild",{get:function(){return e[0]}}),r}function P(e,n){return n.length&&!l(n[0])&&!l(n[0].key)||e.length&&!l(e[0])&&!l(e[0].key)}function G(e,n){if("option"===e.tag){var t=e.attrs&&e.attrs.value;n[t]?(e.attrs=e.attrs||{},e.attrs.selected="selected",e.dom.selected=!0):e.dom.selected=!1}else for(var r=0,l=e.children.length;l>r;r++)G(e.children[r],n)}function I(e){var t=e.attrs&&e.attrs.value,r={};if(n(t))for(var l=0,o=t.length;o>l;l++)r[t[l]]=t[l];else r[t]=t;for(var i=0,a=e.children.length;a>i;i++)G(e.children[i],r);e.attrs&&e.attrs[t]&&delete e.attrs.value}function z(e,n){var t=A();return null!==n&&n.appendChild(t),o(e)||(e.dom=t),t}function R(e,n,t){l(e.created)||e.created(t),l(e.attached)||n.addListener(function(){e.attached(t)})}function q(e){var n=e.attrs.value;l(n)||(e.dom.value=n)}function F(e,n){if("input"===e){var t=n.attrs.type;if("text"===t)q(n);else if("checkbox"===t||"radio"===t){var r=n.attrs.checked;n.dom.checked=!!r}}else"textarea"===e&&q(n)}function J(e,t,i,a,s,c,d){var u=t.children,f=e.children;if(f!==u){var h=null;e.domChildren&&(h=t.domChildren=e.domChildren),o(f)?r(u)?re(i,f,u):l(u)||(n(u)?C(t,u,i,a,s,c,d):p(u,i,a,s,c,d)):o(u)?Y(i,f):n(f)?n(u)?null===h&&f.length>1?ue(f,u,i,a,s,c,d):P(f,u)?ue(f,u,i,a,s,c,d):de(f,u,i,h||(t.domChildren=[]),a,s,c,0,d):de(f,[u],i,h||[],a,s,c,0):n(u)?de([f],u,i,h||(t.domChildren=[i.firstChild]),a,s,c,0,d):r(u)?re(i,f,u):r(f)?oe(f,u,i,a,s,c,null,d):oe(f,u,i,a,s,c,!0,d)}}function Q(e,n,t,r){e&&(a(n)&&delete e.refs[n],a(t)&&(e.refs[t]=r))}function Z(e,n,t,r,o){var i=n.events,a=e.events,s=!l(i),c=!l(a);s?c?ae(a,i,t,r,o):N(i,r,o):c&&B(a,t,o)}function $(e,n,t,r,o,i){"select"===e.tag&&I(n);var a=n.attrs,s=e.attrs,c=l(a),d=!l(s);if(!c)for(var f=r||Object.keys(a),h=f.length,p=0;h>p;p++){var v=f[p],m=d&&s[v],y=a[v];m!==y&&("ref"===v?Q(i,m,y,o):se(v,m,y,o))}if(d)for(var g=t||Object.keys(s),b=g.length,C=0;b>C;C++){var w=g[C];(c||l(a[w]))&&("ref"===w?Q(u(node,i),s[w],null,o):o.removeAttribute(w))}}function ee(e,n,r,i,a,s,c,d,u){var f=void 0;i.hasHooks===!0&&(f=n.hooks,f&&!l(f.willUpdate)&&f.willUpdate(e.dom));var h=n.tag||i.tag,v=e.tag||r.tag;if(v!==h)if(r.isComponent===!0){var m=e.instance;i.isComponent===!0?D(e,n,a,s,c,d,!1):t(v)?ne(m._lastNode,n,a,s,c,d,i.isSVG):ne(m,n,a,s,c,d,i.isSVG)}else D(e,n,a,s,c,d,i.isSVG);else if(l(v))n.dom=e.dom;else if(r.isComponent===!0){if(i.isComponent===!0){var y=e.instance;if(!l(y)&&y._unmounted){var g=x(n,v,n.attrs||{},n.hooks,n.children,y,a,s,c);null!==a&&M(a,g,e.dom)}else n.instance=y,n.dom=e.dom,ce(!0,n,n.tag,r,i,y,e.attrs||{},n.attrs||{},n.hooks,n.children,a,s,c)}}else{var b=e.dom,w=r.childrenType,k=i.childrenType;if(n.dom=b,i.lazy===!0&&u===!1){var N=e.clipData;if(null===s.scrollY&&s.refresh(),n.clipData=N,(N.pending===!0||N.top-s.scrollY>s.screenHeight)&&ge(N,b,e,n,a,s))return;if(N.bottom<s.scrollY&&ge(N,b,e,n,a,s))return}if(w>0||k>0)if(5===k||5===w)J(e,n,b,s,c,d);else{var _=e.children,O=n.children;0===w||o(_)?k>2?C(n,O,b,s,c,d):p(O,b,s,c,d):0===k||o(O)?w>2?Y(b,_):V(_,b):_!==O&&(4===w&&4===k?ue(_,O,b,s,c,d):2===w&&2===k?oe(_,O,b,s,c,d,!0,!1):1===w&&1===k?re(b,_,O):J(e,n,b,s,c,d))}if(r.hasAttrs!==!0&&i.hasAttrs!==!0||$(e,n,r.attrKeys,i.attrKeys,b,d),r.hasEvents!==!0&&i.hasEvents!==!0||Z(e,n,r.eventKeys,i.eventKeys,b),r.hasClassName===!0||i.hasClassName===!0){var j=n.className;e.className!==j&&(l(j)?b.removeAttribute("class"):b.className=j)}if(r.hasStyle===!0||i.hasStyle===!0){var S=n.style;e.style!==S&&ie(e.style,S,b)}i.hasHooks!==!0||l(f.didUpdate)||f.didUpdate(b),F(h,n)}}function ne(e,n,r,o,a,c,d){if(s(n))n.then(function(n){oe(e,n,r,o,a,c,null,!1)});else{var u=n.hooks,f=!l(u);f&&!l(u.willUpdate)&&u.willUpdate(e.dom);var h=n.tag||(l(n.bp)?null:n.bp.tag),p=e.tag||(l(e.bp)?null:e.bp.tag);if("svg"===h&&(d=!0),p!==h){var v=e.instance;i(p)?i(h)?D(e,n,r,o,a,c,d):t(p)?ne(v._lastNode,n,r,o,a,c,d):ne(v,n,r,o,a,c,d):D(v||e,n,r,o,a,c,d)}else if(l(p))n.dom=e.dom;else if(i(p)){if(i(h)){var m=e._instance;if(!l(m)&&m._unmounted){var y=x(n,p,n.attrs||{},n.hooks,n.children,m,r,o,a);null!==r&&M(r,y,e.dom)}else n.instance=e.instance,n.dom=e.dom,ce(!1,n,n.tag,null,null,n.instance,e.attrs||{},n.attrs||{},n.hooks,n.children,r,o,a)}}else{var g=e.dom,b=n.className,C=n.style;n.dom=g,J(e,n,g,o,a,c,d),$(e,n,null,null,g,c),Z(e,n,null,null,g),e.className!==b&&(l(b)?g.removeAttribute("class"):g.className=b),e.style!==C&&ie(e.style,C,g),f&&!l(u.didUpdate)&&u.didUpdate(g),F(h,n)}}}function te(e,n,t){e.split(",").forEach(function(e){return n[e]=t})}function re(e,n,t){r(n)?e.firstChild.nodeValue=t:e.textContent=t}function le(e,n,t,r,l,o,i,a){var s=e.bp,c=n.bp;void 0===s||void 0===c?ne(e,n,t,r,l,o,i):ee(e,n,s,c,t,r,l,o,a)}function oe(e,n,t,i,a,s,c,d){if(null!==c)le(e,n,t,i,a,s,d,!1);else if(o(e))p(n,t,i,a,s,d);else if(o(n))V(e,t);else if(r(e))if(r(n))t.firstChild.nodeValue=n;else{var u=p(n,null,i,a,s,d);n.dom=u,M(t,u,t.firstChild)}else if(r(n)){var f=document.createTextNode(n);M(t,f,e.dom)}else if(l(n.null))le(e,n,t,i,a,s,d,!1);else{var h=void 0;e.dom&&(K(e),h=e.dom),M(t,n.dom,h)}}function ie(e,n,t){if(a(n))t.style.cssText=n;else if(l(e)){if(!l(n))for(var r=Object.keys(n),o=0;o<r.length;o++){var i=r[o];t.style[i]=n[i]}}else if(l(n))t.removeAttribute("style");else{for(var s=Object.keys(n),c=0;c<s.length;c++){var d=s[c];t.style[d]=n[d]}for(var u=Object.keys(e),f=0;f<u.length;f++){var h=u[f];l(n[h])&&(t.style[h]="")}}}function ae(e,n,t,r,o){for(var i=r||Object.keys(n),a=0;a<i.length;a++){var s=i[a],c=e[s],d=n[s];c!==d&&(o[s]=d)}for(var u=t||Object.keys(e),f=0;f<u.length;f++){var h=u[f];l(n[h])&&(o[h]=null)}}function se(e,n,t,r){if("dangerouslySetInnerHTML"===e){var o=n&&n.__html,i=t&&t.__html;if(l(i))throw new Error("Inferno Error: dangerouslySetInnerHTML requires an object with a __html propety containing the innerHTML content");o!==i&&(r.innerHTML=i)}else if(Oe[e])r[e]=null===t?"":t;else if(je[e])r[e]=!!t;else{var a=Se[e];t===!1||l(t)?void 0!==a?r.removeAttributeNS(a,e):r.removeAttribute(e):void 0!==a?r.setAttributeNS(a,e,t===!0?e:t):r.setAttribute(e,t===!0?e:t)}}function ce(n,r,i,a,s,c,d,u,f,h,p,v,m){if(u=e(h,u),t(i)){var y=c.props,g=c.state,b=c.state,C=c.getChildContext();l(C)||(m=Object.assign({},m,C)),c.context=m;var w=c._updateComponent(g,b,y,u);o(w)||(oe(c._lastNode,w,p,v,m,c,null,!1),r.dom=w.dom,c._lastNode=w)}else{var k=!0,N=n&&s.hasHooks===!0||!l(f);if(N&&!l(f.componentShouldUpdate)&&(k=f.componentShouldUpdate(r.dom,d,u)),k!==!1){N&&!l(f.componentWillUpdate)&&f.componentWillUpdate(r.dom,d,u);var x=i(u,m);o(x)||(x.dom=r.dom,oe(c,x,p,v,m,null,null,!1),r.instance=x,N&&!l(f.componentDidUpdate)&&f.componentDidUpdate(r.dom,d,u))}}}function de(e,t,i,a,s,c,d,u,f){var h=void 0===i.append,v=e.length,m=t.length,y=v===m;if(y===!1)if(v>m)for(;v!==m;){var g=e[v-1];o(g)||(i.removeChild(a[v-1+u]),h&&a.splice(v-1+u,1),K(g),v--,e.pop())}else for(;v!==m;){var b=t[v],C=void 0;e.push(b),C=r(b)?document.createTextNode(b):p(b,null,s,c,d,f),o(C)||j(i,C),h&&(1===v&&a.push(i.firstChild),a.splice(v+u,0,C)),v++}for(var w=0;m>w;w++){var k=e[w],N=t[w],x=w+u;if(k===N&&o(k))u--;else if(o(N)){if(!o(k))if(n(k)&&0===k.length)for(var _=0;_<k.length;_++)V(k[_],i);else{var O=a[x];l(O)&&x--,i.removeChild(a[x]),h&&(a.splice(x,1),u--),K(k)}}else if(o(k))if(r(N)){var S=document.createTextNode(N),T=a[x];if(l(T)){var E=a[x+1];j(i,S,E),h&&a.splice(x,1,S)}else j(i,S,T),h&&a.splice(x,0,S)}else{var U=p(N,null,s,c,d,f),D=a[x];if(l(D)){var A=a[x+1];j(i,U,A),h&&a.splice(x,1,U)}else j(i,U,D),h&&a.splice(x,0,U)}else if(r(N))if(1===v)r(k)?void 0===i.getElementsByTagName?i.nodeValue=N:i.firstChild.nodeValue=N:(K(k),i.textContent=N);else{var B=document.createTextNode(N),H=a[x];l(H)?i.nodeValue=B.nodeValue:r(k)?H.nodeValue=N:void 0===H.append?(h&&a.splice(x,1,B),M(i,B,H)):(j(i,B,H.firstChild),H.remove(),a.splice(0,a.length,B)),K(k)}else if(n(N))if(P(k,N))ue(k,N,a[x],s,c,d,f);else if(n(k)){var W=a[x];if(void 0===W.append)if(N.length>1&&1===k.length){var Y=X();Y.insert(i,W),Y.appendChild(W),h&&a.splice(x,1,Y),de(k,N,Y,Y.childNodes,s,c,d,0,f)}else de(k,N,i,a,s,c,d,0,f);else de(k,N,a[x],a[x].childNodes,s,c,d,0,f)}else if(N.length>1){var L=X();L.appendChild(i.firstChild),j(i,L,i.firstChild),h&&a.splice(x,1,L),de([k],N,L,L.childNodes,s,c,d,w,f)}else de([k],N,i,a,s,c,d,w,f);else n(k)?de(k,[N],a,a[x].childNodes,s,c,d,0,f):(oe(k,N,i,s,c,d,null,f),a[x]=N.dom)}}function ue(e,n,t,r,l,o,i){for(var a=e.length,s=n.length,c=void 0,d=a-1,u=s-1,f=0,h=0,v=null,m=null,y=null,g=null,b=void 0,C=void 0,w=0,k=void 0,N=void 0;d>=f&&u>=h&&(m=n[h],v=e[f],m.key===v.key);)oe(v,m,t,r,l,o,!0,i),h++,f++;for(;d>=f&&u>=h&&(y=n[u],g=e[d],y.key===g.key);)oe(g,y,t,r,l,o,!0,i),u--,d--;for(;d>=f&&u>=h&&(y=n[u],v=e[f],y.key===v.key);)C=s>u+1?n[u+1].dom:null,oe(v,y,t,r,l,o,!0,i),T(t,y.dom,C),u--,f++;for(;d>=f&&u>=h&&(m=n[h],g=e[d],m.key===g.key);)C=e[f].dom,oe(g,m,t,r,l,o,!0,i),T(t,m.dom,C),h++,d--;if(f>d){if(u>=h)for(C=s>u+1?n[u+1].dom:null;u>=h;h++)T(t,p(n[h],null,r,l,o,i),C)}else if(h>u)for(;d>=f;)V(e[f++],t);else{var x=d-f+1,_=u-h+1,O=new Array(_);for(c=0;_>c;c++)O[c]=-1;var j=!1,S=0;if(16>=x*_)for(c=f;d>=c;c++){var E=!0;for(g=e[c],b=h;u>=b;b++)if(y=n[b],g.key===y.key){O[b-h]=c,w>b?j=!0:w=b,oe(g,y,t,r,l,o,!0,i),E=!1;break}E&&(V(g,t),S++)}else{var U=new Map;for(c=h;u>=c;c++)N=n[c],U.set(N.key,c);for(c=d;c>=f;c--)g=e[c],b=U.get(g.key),void 0===b?(V(g,t),S++):(y=n[b],O[b-h]=c,w>b?j=!0:w=b,oe(g,y,t,r,l,o,!0,i))}if(j){var D=fe(O);for(b=D.length-1,c=_-1;c>=0;c--)-1===O[c]?(k=c+h,C=s>k+1?n[k+1].dom:null,T(t,p(n[k],null,r,l,o,i),C)):0>b||c!==D[b]?(k=c+h,C=s>k+1?n[k+1].dom:null,T(t,n[k].dom,C)):b--}else if(x-S!==_)for(c=_-1;c>=0;c--)-1===O[c]&&(k=c+h,C=s>k+1?n[k+1].dom:null,T(t,p(n[k],null,r,l,o,i),C))}}function fe(e){var n=e.slice(0),t=[];t.push(0);var r=void 0,l=void 0,o=void 0,i=void 0,a=void 0;for(r=0;r<e.length;r++)if(-1!==e[r])if(l=t[t.length-1],e[l]<e[r])n[r]=l,t.push(r);else{for(o=0,i=t.length-1;i>o;)a=(o+i)/2|0,e[t[a]]<e[r]?o=a+1:i=a;e[r]<e[t[o]]&&(o>0&&(n[r]=t[o-1]),t[o]=r)}for(o=t.length,i=t[o-1];o-- >0;)t[o]=i,i=n[i];return t}function he(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=Ee,this.screenWidth=Te}function pe(e,n,t){n.addListener(function(){var r=t.getBoundingClientRect();null===n.scrollY&&n.refresh(),e.clipData={top:r.top+n.scrollY,left:r.left+n.scrollX,bottom:r.bottom+n.scrollY,right:r.right+n.scrollX,pending:!1}})}function ve(e){le(e.lastNode,e.nextNode,e.parentDom,e.lifecycle,null,null,!1,!0),e.clipData.pending=!1}function me(){Ae=!0,setTimeout(ye,100)}function ye(){Ke.forEach(ve),Ke.clear(),Ae=!1}function ge(e,n,t,r,l,o){if(performance.now()>Me+2e3){var i=Ke.get(n);return void 0===i?Ke.set(n,{lastNode:t,nextNode:r,parentDom:l,clipData:e,lifecycle:o}):i.nextNode=r,e.pending=!0,Ae===!1&&me(),!0}return ye(),!1}function be(e){for(var n=0;n<Ve.length;n++){var t=Ve[n];if(t.dom===e)return t}return null}function Ce(e){for(var n=0;n<Ve.length;n++){var t=Ve[n];if(t===e)return void Ve.splice(n,1)}}function we(e,n){var t=be(n),r=new he;if(null===t)p(e,n,r,{},null,!1),r.trigger(),Ve.push({node:e,dom:n});else{var l=W();oe(t.node,e,n,r,{},null,null,!1),r.trigger(),null===e&&Ce(t),t.node=e,L(l)}}var ke={};ke.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ke.classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},ke.createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),ke.extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ke.inherits=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)},ke.possibleConstructorReturn=function(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n};var Ne=!0,xe="http://www.w3.org/1999/xlink",_e="http://www.w3.org/XML/1998/namespace",Oe={},je={},Se={};te("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",Se,xe),te("xml:base,xml:lang,xml:space",Se,_e),te("volume,value",Oe,!0),te("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",je,!0);var Te=window.screen.width,Ee=window.screen.height,Ue=0,De=0,Me=0;window.onscroll=function(e){Ue=window.scrollX,De=window.scrollY,Me=performance.now()},window.resize=function(e){Ue=window.scrollX,De=window.scrollY,Te=window.screen.width,Ee=window.screen.height,Me=performance.now()},he.prototype={refresh:function(){this.scrollX=window.scrollX,this.scrollY=window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e]()}};var Ke=new Map,Ae=!1,Ve=[],Be={render:we};return Be});