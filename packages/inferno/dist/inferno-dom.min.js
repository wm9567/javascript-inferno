!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.InfernoDOM=n()}(this,function(){"use strict";function e(e,t){if(!o(e)){var r=n(e);(r&&e.length>0||!r)&&(t=t?Object.assign({},t,{children:e}):{children:e})}return t}function n(e){return e instanceof Array}function t(e){return void 0!==e.prototype.render}function r(e){return"string"==typeof e||"number"==typeof e}function o(e){return void 0===e||s(e)}function l(e){return s(e)||e===!1||void 0===e}function i(e){return"function"==typeof e}function a(e){return"string"==typeof e}function s(e){return null===e}function d(e){return e instanceof Promise}function c(e,n,t){e.splice(e.indexOf(n),1,t)}function u(e,t){if(!l(e))if(n(e))for(var r=0;r<e.length;r++){var o=e[r];if(!l(o)){if(o===t)return!0;if(o.children)return u(o.children,t)}}else{if(e===t)return!0;if(e.children)return u(e.children,t)}return!1}function f(e,n){var t=n.props.children;return u(t,e)?f(e,n._parentComponent):n}function h(e,n,t,r,l){if(void 0!==n){var i=e.key,a=null===i?n.pools.nonKeyed:n.pools.keyed[i];if(!o(a)){var s=a.pop();if(!o(s))return ie(s,e,null,t,r,l,!0,n.isSVG),e.dom}}return null}function v(e){var n=e.bp;if(!o(n)){var t=e.key,r=n.pools;if(null===t){var l=r.nonKeyed;l&&l.push(e)}else{var i=r.keyed;(i[t]||(i[t]=[])).push(e)}return!0}return!1}function p(e,t,r,o,i,a){if(n(e))return P(e,t);if(l(e))return null;var s=e.bp;if(Oe){var d=h(e,s,r,o,i);if(null!==d)return null!==t&&t.appendChild(d),d}return void 0===s?y(e,t,r,o,i,a):g(e,s,t,r,o,i)}function m(e){"select"===e.tag&&z(e)}function g(e,n,t,r,o,l){var i=e.tag;if(n.isComponent===!0)return _(e,i,e.attrs||{},e.hooks,e.children,l,t,r,o);var a=D(n.tag,n.isSVG);switch(e.dom=a,n.hasHooks===!0&&R(e.hooks,r,a),n.lazy===!0&&pe(e,r,a),n.childrenType){case 1:U(e.children,a,!0);break;case 2:p(e.children,a,r,o,l);break;case 3:w(e,e.children,a,r,o,l);break;case 4:k(e.children,a,r,o,l);break;case 5:N(e,e.children,a,r,o,l)}if(n.hasAttrs===!0){m(e);var s=e.attrs;if(null===n.attrKeys){var d=Object.keys(s);n.attrKeys=n.attrKeys?n.attrKeys.concat(d):d}var c=n.attrKeys;T(e,s,c,a,l)}if(n.hasClassName===!0&&(a.className=e.className),n.hasStyle===!0&&ae(null,e.style,a),n.hasEvents===!0){var u=e.events;null===n.eventKeys&&(n.eventKeys=Object.keys(u));var f=n.eventKeys;x(u,f,a)}return null!==t&&t.appendChild(a),a}function y(e,n,t,r,s,d){var c=e.tag;if(null===c)return P(e,n);if(i(c))return _(e,c,e.attrs||{},e.hooks,e.children,s,n,t,r);if(!a(c)||""===c)throw Error("Inferno Error: Expected function or string for element tag type");"svg"===c&&(d=!0);var u=D(c,d),f=e.children,h=e.attrs,v=e.events,p=e.hooks,g=e.className,y=e.style;return e.dom=u,o(p)||R(p,t,u),l(f)||N(e,f,u,t,r,s,d),o(h)||(m(e),T(e,h,Object.keys(h),u,s)),o(g)||(u.className=g),o(y)||ae(null,y,u),o(v)||x(v,Object.keys(v),u),null!==n&&n.appendChild(u),u}function C(e,n,t,r,o,i,a){var s=V();t&&t.push(s),e.then(function(e){var d=p(e,null,r,o,i,a);null===n||l(d)||n.replaceChild(d,s),t&&c(t,s,d)}),n.appendChild(s)}function k(e,n,t,r,o){for(var l=0;l<e.length;l++)p(e[l],n,t,r,o)}function w(e,t,i,a,s,c,u){for(var f=null,h=!1,v=!1,m=0;m<t.length;m++){var g=t[m];if(r(g))h=!0,f=f||[],f.push(U(g,i,!1));else if(!o(g)&&n(g)){var y=I();h=!0,w(e,g,y,a,s,c,u),O(i,y),f=f||[],f.push(y)}else if(d(g))C(g,i,f,a,s,c,u);else{var k=p(g,i,a,s,c,u);h||!v&&!o(g)&&o(g.key)?(h=!0,f=f||[],f.push(k)):l(g)?(h=!0,f=f||[],f.push(k)):v===!1&&(v=!0)}}null!==f&&f.length>1&&h===!0&&(e.domChildren=f)}function N(e,t,o,l,i,a,s){n(t)?w(e,t,o,l,i,a,s):r(t)?U(t,o,!0):d(t)?C(t,o,null,l,i,a,s):p(t,o,l,i,a,s)}function b(e,n,t){!l(e)&&a(n)&&(e.refs[n]=t)}function x(e,n,t){for(var r=0;r<n.length;r++){var o=n[r];t[o]=e[o]}}function _(n,r,i,a,s,d,c,u,f){i=e(s,i);var h=void 0;if(t(r)){var v=new r(i);v._patch=ie,!o(d)&&i.ref&&b(d,i.ref,v);var m=v.getChildContext();o(m)||(f=Object.assign({},f,m)),v.context=f,v._unmounted=!1,v._parentNode=n,d&&(v._parentComponent=d),v._pendingSetState=!0,v.componentWillMount();var g=v.render();v._pendingSetState=!1,l(g)?(v._lastNode=M(),h=v._lastNode.dom):(h=p(g,null,u,f,v,!1),v._lastNode=g,v.componentDidMount()),null===c||l(h)||c.appendChild(h),n.dom=h,n.instance=v}else{o(a)||(o(a.componentWillMount)||a.componentWillMount(null,i),o(a.componentDidMount)||u.addListener(function(){a.componentDidMount(h,i)}));var y=r(i,f);h=p(y,null,u,f,null,!1),n.instance=y,null===c||l(h)||c.appendChild(h),n.dom=h}return h}function T(e,n,t,r,o){for(var l=0;l<t.length;l++){var i=t[l];"ref"===i?b(f(e,o),n[i],r):de(i,null,n[i],r)}}function S(e){return!o(e.append)}function O(e,n,t){o(t)?S(n)?n.append(e):e.appendChild(n):S(n)?n.insert(e,t):S(t)?e.insertBefore(n,t.childNodes[0]||t.dom):e.insertBefore(n,t)}function M(){return{"null":!0,dom:document.createTextNode("")}}function j(e,n,t){o(t)?e.appendChild(n):e.insertBefore(n,t)}function D(e,n){var t=void 0;return t=n===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function U(e,n,t){if(null===n)return document.createTextNode(e);if(t){if(""!==e)return n.textContent=e,n.firstChild;var r=document.createTextNode("");return n.appendChild(r),r}var o=document.createTextNode(e);return n.appendChild(o),o}function E(e,n,t,r,l,i,a){var s=null,d=e._lastNode;o(d)||(s=e,e=d),K(e);var c=p(n,null,r,l,i,a);n.dom=c,W(t,c,e.dom),null!==s&&(s._lastNode=n)}function W(e,n,t){S(t)?t.replaceWith(n):e.replaceChild(n,t)}function K(e){if(!l(e)&&!r(e)){var t=e.instance,i=null,a=null;o(t)||(i=t.hooks,a=t.children,void 0!==t.render&&(t.componentWillUnmount(),t._unmounted=!0,K(t._lastNode)));var s=e.hooks||i;o(s)||(o(s.willDetach)||s.willDetach(e.dom),o(s.componentWillUnmount)||s.componentWillUnmount(e.dom,s));var d=e.children||a;if(!o(d))if(n(d))for(var c=0;c<d.length;c++)K(d[c]);else K(d)}}function V(){return document.createTextNode("")}function A(e,n){var t=e.dom;t===n?t.innerHTML="":(n.removeChild(t),Oe&&v(e)),K(e)}function L(e,n,t){for(var r=n||Object.keys(e),o=0;o<r.length;o++){var l=r[o];t[l]=null}}function B(e,n,t){for(var r=0;r<n.length;r++)e.insertBefore(n[r],t)}function H(){return document.activeElement}function Y(e,n){if(Oe){var t=n.length;if(t>5)for(var r=0;t>r;r++){var o=n[r];l(o)||v(o)}}e.textContent=""}function X(e){null!==e&&e!==document.body&&document.activeElement!==e&&e.focus()}function I(){var e=[],n=document.createTextNode(""),t=null,r={dom:n,childNodes:e,appendChild:function(r){e.push(r),t&&t.insertBefore(r,n)},removeChild:function(n){t&&t.removeChild(n),e.splice(e.indexOf(n),1)},insertBefore:function(n,r){t&&t.insertBefore(n,r),e.splice(e.indexOf(r),0,n)},replaceChild:function(n,r){t.replaceChild(n,r),c(e,r,n)},append:function(r){r.appendChild(n),t=r,B(t,e,n)},insert:function(r,o){r.insertBefore(n,o),t=r,B(t,e,n)},remove:function(){t.removeChild(n);for(var r=0;r<e.length;r++)t.removeChild(e[r]);t=null},replaceWith:function(r){t.replaceChild(r,n);for(var o=0;o<e.length;o++)t.removeChild(e[o]);t=null},getElementsByTagName:null};return Object.defineProperty(r,"parentNode",{get:function(){return t}}),Object.defineProperty(r,"firstChild",{get:function(){return e[0]}}),r}function G(e,n){return n.length&&!o(n[0])&&!o(n[0].key)||e.length&&!o(e[0])&&!o(e[0].key)}function q(e,n){if("option"===e.tag){var t=e.attrs&&e.attrs.value;n[t]?(e.attrs=e.attrs||{},e.attrs.selected="selected",e.dom.selected=!0):e.dom.selected=!1}else for(var r=0,o=e.children.length;o>r;r++)q(e.children[r],n)}function z(e){var t=e.attrs&&e.attrs.value,r={};if(n(t))for(var o=0,l=t.length;l>o;o++)r[t[o]]=t[o];else r[t]=t;for(var i=0,a=e.children.length;a>i;i++)q(e.children[i],r);e.attrs&&e.attrs[t]&&delete e.attrs.value}function P(e,n){var t=V();return null!==n&&n.appendChild(t),l(e)||(e.dom=t),t}function R(e,n,t){o(e.created)||e.created(t),o(e.attached)||n.addListener(function(){e.attached(t)})}function F(e){var n=e.attrs.value;o(n)||(e.dom.value=n)}function J(e,n){if("input"===e){var t=n.attrs.type;if("text"===t)F(n);else if("checkbox"===t||"radio"===t){var r=n.attrs.checked;n.dom.checked=!!r}}else"textarea"===e&&F(n)}function Q(e,t,i,a,s,d,c){var u=t.children,f=e.children;if(f!==u){var h=null;e.domChildren&&(h=t.domChildren=e.domChildren),l(f)?r(u)?oe(i,f,u):o(u)||(n(u)?w(t,u,i,a,s,d,c):p(u,i,a,s,d,c)):l(u)?Y(i,f):n(f)?n(u)?null===h&&f.length>1?fe(f,u,i,a,s,d,c):G(f,u)?fe(f,u,i,a,s,d,c):ue(f,u,i,h||(t.domChildren=[]),a,s,d,0,c):ue(f,[u],i,h||[],a,s,d,0):n(u)?ue([f],u,i,h||(t.domChildren=[i.firstChild]),a,s,d,0,c):r(u)?oe(i,f,u):r(f)?ie(f,u,i,a,s,d,null,c):ie(f,u,i,a,s,d,!0,c)}}function Z(e,n,t,r){e&&(a(n)&&delete e.refs[n],a(t)&&(e.refs[t]=r))}function $(e,n,t,r,l){var i=n.events,a=e.events,s=!o(i),d=!o(a);s?d?se(a,i,t,r,l):x(i,r,l):d&&L(a,t,l)}function ee(e,n,t,r,l,i){"select"===e.tag&&z(n);var a=n.attrs,s=e.attrs,d=o(a),c=!o(s);if(!d)for(var u=r||Object.keys(a),h=u.length,v=0;h>v;v++){var p=u[v],m=c&&s[p],g=a[p];m!==g&&("ref"===p?Z(i,m,g,l):de(p,m,g,l))}if(c)for(var y=t||Object.keys(s),C=y.length,k=0;C>k;k++){var w=y[k];(d||o(a[w]))&&("ref"===w?Z(f(node,i),s[w],null,l):l.removeAttribute(w))}}function ne(e,n,r,i,a,s,d,c,u){var f=void 0;i.hasHooks===!0&&(f=n.hooks,f&&!o(f.willUpdate)&&f.willUpdate(e.dom));var h=n.tag||i.tag,v=e.tag||r.tag;if(v!==h)if(r.isComponent===!0){var m=e.instance;i.isComponent===!0?E(e,n,a,s,d,c,!1):t(v)?te(m._lastNode,n,a,s,d,c,i.isSVG):te(m,n,a,s,d,c,i.isSVG)}else E(e,n,a,s,d,c,i.isSVG);else if(o(v))n.dom=e.dom;else if(r.isComponent===!0){if(i.isComponent===!0){var g=e.instance;if(!o(g)&&g._unmounted){var y=_(n,v,n.attrs||{},n.hooks,n.children,g,a,s,d);null!==a&&W(a,y,e.dom)}else n.instance=g,n.dom=e.dom,ce(!0,n,n.tag,r,i,g,e.attrs||{},n.attrs||{},n.hooks,n.children,a,s,d)}}else{var C=e.dom,k=r.childrenType,N=i.childrenType;if(n.dom=C,i.lazy===!0&&u===!1){var b=e.clipData;if(null===s.scrollY&&s.refresh(),n.clipData=b,(b.pending===!0||b.top-s.scrollY>s.screenHeight)&&Ce(b,C,e,n,a,s))return;if(b.bottom<s.scrollY&&Ce(b,C,e,n,a,s))return}if(k>0||N>0)if(5===N||5===k)Q(e,n,C,s,d,c);else{var x=e.children,T=n.children;0===k||l(x)?N>2?w(n,T,C,s,d,c):p(T,C,s,d,c):0===N||l(T)?k>2?Y(C,x):A(x,C):x!==T&&(4===k&&4===N?fe(x,T,C,s,d,c):2===k&&2===N?ie(x,T,C,s,d,c,!0,!1):1===k&&1===N?oe(C,x,T):Q(e,n,C,s,d,c))}if(r.hasAttrs!==!0&&i.hasAttrs!==!0||ee(e,n,r.attrKeys,i.attrKeys,C,c),r.hasEvents!==!0&&i.hasEvents!==!0||$(e,n,r.eventKeys,i.eventKeys,C),r.hasClassName===!0||i.hasClassName===!0){var S=n.className;e.className!==S&&(o(S)?C.removeAttribute("class"):C.className=S)}if(r.hasStyle===!0||i.hasStyle===!0){var O=n.style;e.style!==O&&ae(e.style,O,C)}i.hasHooks!==!0||o(f.didUpdate)||f.didUpdate(C),J(h,n)}}function te(e,n,r,l,a,s,c){if(d(n))n.then(function(n){ie(e,n,r,l,a,s,null,!1)});else{var u=n.hooks,f=!o(u);f&&!o(u.willUpdate)&&u.willUpdate(e.dom);var h=n.tag||(o(n.bp)?null:n.bp.tag),v=e.tag||(o(e.bp)?null:e.bp.tag);if("svg"===h&&(c=!0),v!==h){var p=e.instance;i(v)?i(h)?E(e,n,r,l,a,s,c):t(v)?te(p._lastNode,n,r,l,a,s,c):te(p,n,r,l,a,s,c):E(p||e,n,r,l,a,s,c)}else if(o(v))n.dom=e.dom;else if(i(v)){if(i(h)){var m=e._instance;if(!o(m)&&m._unmounted){var g=_(n,v,n.attrs||{},n.hooks,n.children,m,r,l,a);null!==r&&W(r,g,e.dom)}else n.instance=e.instance,n.dom=e.dom,ce(!1,n,n.tag,null,null,n.instance,e.attrs||{},n.attrs||{},n.hooks,n.children,r,l,a)}}else{var y=e.dom,C=n.className,k=n.style;n.dom=y,Q(e,n,y,l,a,s,c),ee(e,n,null,null,y,s),$(e,n,null,null,y),e.className!==C&&(o(C)?y.removeAttribute("class"):y.className=C),e.style!==k&&ae(e.style,k,y),f&&!o(u.didUpdate)&&u.didUpdate(y),J(h,n)}}}function re(e,n,t){e.split(",").forEach(function(e){return n[e]=t})}function oe(e,n,t){r(n)?e.firstChild.nodeValue=t:e.textContent=t}function le(e,n,t,r,o,l,i,a){var s=e.bp,d=n.bp;void 0===s||void 0===d?te(e,n,t,r,o,l,i):ne(e,n,s,d,t,r,o,l,a)}function ie(e,n,t,i,a,s,d,c){if(null!==d)le(e,n,t,i,a,s,c,!1);else if(l(e))p(n,t,i,a,s,c);else if(l(n))A(e,t);else if(r(e))if(r(n))t.firstChild.nodeValue=n;else{var u=p(n,null,i,a,s,c);n.dom=u,W(t,u,t.firstChild)}else if(r(n)){var f=document.createTextNode(n);W(t,f,e.dom)}else if(o(n.null))le(e,n,t,i,a,s,c,!1);else{var h=void 0;e.dom&&(K(e),h=e.dom),W(t,n.dom,h)}}function ae(e,n,t){if(a(n))t.style.cssText=n;else if(o(e)){if(!o(n))for(var r=Object.keys(n),l=0;l<r.length;l++){var i=r[l];t.style[i]=n[i]}}else if(o(n))t.removeAttribute("style");else{for(var s=Object.keys(n),d=0;d<s.length;d++){var c=s[d];t.style[c]=n[c]}for(var u=Object.keys(e),f=0;f<u.length;f++){var h=u[f];o(n[h])&&(t.style[h]="")}}}function se(e,n,t,r,l){for(var i=r||Object.keys(n),a=0;a<i.length;a++){var s=i[a],d=e[s],c=n[s];d!==c&&(l[s]=c)}for(var u=t||Object.keys(e),f=0;f<u.length;f++){var h=u[f];o(n[h])&&(l[h]=null)}}function de(e,n,t,r){if("dangerouslySetInnerHTML"===e){var l=n&&n.__html,i=t&&t.__html;if(o(i))throw new Error("Inferno Error: dangerouslySetInnerHTML requires an object with a __html propety containing the innerHTML content");l!==i&&(r.innerHTML=i)}else if(De[e])r[e]=null===t?"":t;else if(Ue[e])r[e]=!!t;else{var a=Ee[e];t===!1||o(t)?void 0!==a?r.removeAttributeNS(a,e):r.removeAttribute(e):void 0!==a?r.setAttributeNS(a,e,t===!0?e:t):r.setAttribute(e,t===!0?e:t)}}function ce(n,r,i,a,s,d,c,u,f,h,v,p,m){if(u=e(h,u),t(i)){var g=d.props,y=d.state,C=d.state,k=d.getChildContext();o(k)||(m=Object.assign({},m,k)),d.context=m;var w=d._updateComponent(y,C,g,u);l(w)||(ie(d._lastNode,w,v,p,m,d,null,!1),r.dom=w.dom,d._lastNode=w)}else{var N=!0,b=n&&s.hasHooks===!0||!o(f);if(b&&!o(f.componentShouldUpdate)&&(N=f.componentShouldUpdate(r.dom,c,u)),N!==!1){b&&!o(f.componentWillUpdate)&&f.componentWillUpdate(r.dom,c,u);var x=i(u,m);l(x)||(x.dom=r.dom,ie(d,x,v,p,m,null,null,!1),r.instance=x,b&&!o(f.componentDidUpdate)&&f.componentDidUpdate(r.dom,c,u))}}}function ue(e,t,i,a,s,d,c,u,f){var h=void 0===i.append,v=e.length,m=t.length,g=v===m;if(g===!1)if(v>m)for(;v!==m;){var y=e[v-1];l(y)||(i.removeChild(a[v-1+u]),h&&a.splice(v-1+u,1),K(y),v--,e.pop())}else for(;v!==m;){var C=t[v],k=void 0;e.push(C),k=r(C)?document.createTextNode(C):p(C,null,s,d,c,f),l(k)||O(i,k),h&&(1===v&&a.push(i.firstChild),a.splice(v+u,0,k)),v++}for(var w=0;m>w;w++){var N=e[w],b=t[w],x=w+u;if(N===b&&l(N))u--;else if(l(b)){if(!l(N))if(n(N)&&0===N.length)for(var _=0;_<N.length;_++)A(N[_],i);else{var T=a[x];o(T)&&x--,i.removeChild(a[x]),h&&(a.splice(x,1),u--),K(N)}}else if(l(N))if(r(b)){var S=document.createTextNode(b),M=a[x];if(o(M)){var j=a[x+1];O(i,S,j),h&&a.splice(x,1,S)}else O(i,S,M),h&&a.splice(x,0,S)}else{var D=p(b,null,s,d,c,f),U=a[x];if(o(U)){var E=a[x+1];O(i,D,E),h&&a.splice(x,1,D)}else O(i,D,U),h&&a.splice(x,0,D)}else if(r(b))if(1===v)r(N)?void 0===i.getElementsByTagName?i.nodeValue=b:i.firstChild.nodeValue=b:(K(N),i.textContent=b);else{var V=document.createTextNode(b),L=a[x];o(L)?i.nodeValue=V.nodeValue:r(N)?L.nodeValue=b:void 0===L.append?(h&&a.splice(x,1,V),W(i,V,L)):(O(i,V,L.firstChild),L.remove(),a.splice(0,a.length,V)),K(N)}else if(n(b))if(G(N,b))fe(N,b,a[x],s,d,c,f);else if(n(N)){var B=a[x];if(void 0===B.append)if(b.length>1&&1===N.length){var H=I();H.insert(i,B),H.appendChild(B),h&&a.splice(x,1,H),ue(N,b,H,H.childNodes,s,d,c,0,f)}else ue(N,b,i,a,s,d,c,0,f);else ue(N,b,a[x],a[x].childNodes,s,d,c,0,f)}else if(b.length>1){var Y=I();Y.appendChild(i.firstChild),O(i,Y,i.firstChild),h&&a.splice(x,1,Y),ue([N],b,Y,Y.childNodes,s,d,c,w,f)}else ue([N],b,i,a,s,d,c,w,f);else n(N)?ue(N,[b],a,a[x].childNodes,s,d,c,0,f):(ie(N,b,i,s,d,c,null,f),a[x]=b.dom)}}function fe(e,n,t,r,o,l,i){for(var a=e.length,s=n.length,d=void 0,c=a-1,u=s-1,f=0,h=0,v=null,m=null,g=null,y=null,C=void 0,k=void 0,w=0,N=void 0,b=void 0;c>=f&&u>=h&&(m=n[h],v=e[f],m.key===v.key);)ie(v,m,t,r,o,l,!0,i),h++,f++;for(;c>=f&&u>=h&&(g=n[u],y=e[c],g.key===y.key);)ie(y,g,t,r,o,l,!0,i),u--,c--;for(;c>=f&&u>=h&&(g=n[u],v=e[f],g.key===v.key);)k=s>u+1?n[u+1].dom:null,ie(v,g,t,r,o,l,!0,i),j(t,g.dom,k),u--,f++;for(;c>=f&&u>=h&&(m=n[h],y=e[c],m.key===y.key);)k=e[f].dom,ie(y,m,t,r,o,l,!0,i),j(t,m.dom,k),h++,c--;if(f>c){if(u>=h)for(k=s>u+1?n[u+1].dom:null;u>=h;h++)j(t,p(n[h],null,r,o,l,i),k)}else if(h>u)for(;c>=f;)A(e[f++],t);else{var x=c-f+1,_=u-h+1,T=new Array(_);for(d=0;_>d;d++)T[d]=-1;var S=!1,O=0;if(16>=x*_)for(d=f;c>=d;d++){var M=!0;for(y=e[d],C=h;u>=C;C++)if(g=n[C],y.key===g.key){T[C-h]=d,w>C?S=!0:w=C,ie(y,g,t,r,o,l,!0,i),M=!1;break}M&&(A(y,t),O++)}else{var D=new Map;for(d=h;u>=d;d++)b=n[d],D.set(b.key,d);for(d=c;d>=f;d--)y=e[d],C=D.get(y.key),void 0===C?(A(y,t),O++):(g=n[C],T[C-h]=d,w>C?S=!0:w=C,ie(y,g,t,r,o,l,!0,i))}if(S){var U=he(T);for(C=U.length-1,d=_-1;d>=0;d--)-1===T[d]?(N=d+h,k=s>N+1?n[N+1].dom:null,j(t,p(n[N],null,r,o,l,i),k)):0>C||d!==U[C]?(N=d+h,k=s>N+1?n[N+1].dom:null,j(t,n[N].dom,k)):C--}else if(x-O!==_)for(d=_-1;d>=0;d--)-1===T[d]&&(N=d+h,k=s>N+1?n[N+1].dom:null,j(t,p(n[N],null,r,o,l,i),k))}}function he(e){var n=e.slice(0),t=[];t.push(0);var r=void 0,o=void 0,l=void 0,i=void 0,a=void 0;for(r=0;r<e.length;r++)if(-1!==e[r])if(o=t[t.length-1],e[o]<e[r])n[r]=o,t.push(r);else{for(l=0,i=t.length-1;i>l;)a=(l+i)/2|0,e[t[a]]<e[r]?l=a+1:i=a;e[r]<e[t[l]]&&(l>0&&(n[r]=t[l-1]),t[l]=r)}for(l=t.length,i=t[l-1];l-- >0;)t[l]=i,i=n[i];return t}function ve(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=Ke,this.screenWidth=We}function pe(e,n,t){n.addListener(function(){var r=t.getBoundingClientRect();null===n.scrollY&&n.refresh(),e.clipData={top:r.top+n.scrollY,left:r.left+n.scrollX,bottom:r.bottom+n.scrollY,right:r.right+n.scrollX,pending:!1}})}function me(e){le(e.lastNode,e.nextNode,e.parentDom,e.lifecycle,null,null,!1,!0),e.clipData.pending=!1}function ge(){He=!0,setTimeout(ye,100)}function ye(){Be.forEach(me),Be.clear(),He=!1}function Ce(e,n,t,r,o,l){if(performance.now()>Le+2e3){var i=Be.get(n);return void 0===i?Be.set(n,{lastNode:t,nextNode:r,parentDom:o,clipData:e,lifecycle:l}):i.nextNode=r,e.pending=!0,He===!1&&ge(),!0}return ye(),!1}function ke(e,n,t,o,l,i,a){if(r(e))if(3===n.nodeType&&""!==e)n.nodeValue!==e&&(n.nodeValue=e);else{var s=document.createTextNode(e);W(o,s,n),t.splice(t.indexOf(n),1,s)}else be(e,n,o,l,i,a,!1)}function we(e){for(var n=[],t=e.childNodes,r=t.length,o=0;r>o;){var l=t[o];8===l.nodeType?(e.removeChild(l),r--):(n.push(l),o++)}return n}function Ne(n,r,i,a,s,d,c,u,f,h,v){if(i=e(s,i),!t(r)){var p=n.instance=r(i);return o(a)||(o(a.componentWillMount)||a.componentWillMount(null,i),o(a.componentDidMount)||u.addListener(function(){a.componentDidMount(d,i)})),be(p,d,c,u,f,p,v)}var m=n.instance=new r(i);m._patch=ie,!o(h)&&i.ref&&b(h,i.ref,m);var g=m.getChildContext();o(g)||(f=Object.assign({},f,g)),m.context=f,m._unmounted=!1,m._parentNode=n,h&&(m._parentComponent=h),m._pendingSetState=!0,m.componentWillMount();var y=m.render();m._pendingSetState=!1,l(y)?m._lastNode=M():(be(y,d,c,u,f,m,v),m._lastNode=y,m.componentDidMount())}function be(e,t,l,a,s,d,c){var u=e.bp,f=e.tag||u.tag;if(i(f))e.dom=t,Ne(e,f,e.attrs||{},e.hooks,e.children,t,l,a,s,d,c);else if(1!==t.nodeType||f!==t.tagName.toLowerCase());else{e.dom=t;var h=e.children;if(!o(h))if(r(h))t.textContent!==h&&(t.textContent=h);else{var v=we(t);if(n(h)){if(e.domChildren=v,v.length===h.length)for(var p=0;p<h.length;p++)ke(h[p],v[p],v,t,a,s,d)}else 1===v.length&&ke(h,v[0],v,t,a,s,d)}}}function xe(e,n,t){if(n&&1===n.nodeType){var r=n.querySelector("[data-infernoroot]");if(r&&r.parentNode===n)return be(e,r,n,t,{},!0),!0}return n!==Ye?n.textContent="":console.warn('Inferno Warning: rendering to the "document.body" is dangerous! Use a dedicated container element instead.'),!1}function _e(e){for(var n=0;n<Xe.length;n++){var t=Xe[n];if(t.dom===e)return t}return null}function Te(e){for(var n=0;n<Xe.length;n++){var t=Xe[n];if(t===e)return void Xe.splice(n,1)}}function Se(e,n){var t=_e(n),r=new ve;if(s(t)){xe(e,n,r)||p(e,n,r,{},null,!1),r.trigger(),Xe.push({node:e,dom:n})}else{var o=H();ie(t.node,e,n,r,{},null,null,!1),r.trigger(),null===e&&Te(t),t.node=e,X(o)}}var Oe=!0,Me="http://www.w3.org/1999/xlink",je="http://www.w3.org/XML/1998/namespace",De={},Ue={},Ee={};re("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",Ee,Me),re("xml:base,xml:lang,xml:space",Ee,je),re("volume,value",De,!0),re("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",Ue,!0);var We=window.screen.width,Ke=window.screen.height,Ve=0,Ae=0,Le=0;window.onscroll=function(e){Ve=window.scrollX,Ae=window.scrollY,Le=performance.now()},window.resize=function(e){Ve=window.scrollX,Ae=window.scrollY,We=window.screen.width,Ke=window.screen.height,Le=performance.now()},ve.prototype={refresh:function(){this.scrollX=window.scrollX,this.scrollY=window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e]()}};var Be=new Map,He=!1,Ye=document.body,Xe=[],Ie={render:Se};return Ie});