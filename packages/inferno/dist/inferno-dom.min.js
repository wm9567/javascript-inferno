!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.InfernoDOM=n()}(this,function(){"use strict";function e(e,t){if(!l(e)){var r=n(e);(r&&e.length>0||!r)&&(t?t.children=e:t={children:e})}return t}function n(e){return e instanceof Array}function t(e){return void 0!==e.prototype.render}function r(e){return"string"==typeof e||"number"==typeof e}function l(e){return void 0===e||null===e}function o(e){return void 0===e||null===e||e===!1}function i(e){return"function"==typeof e}function a(e){return"string"==typeof e}function s(e){return e instanceof Promise}function d(e,n,t){e.splice(e.indexOf(n),1,t)}function c(e,n,t,r,o){if(void 0!==n){var i=e.key,a=null===i?n.pools.nonKeyed:n.pools.keyed[i];if(!l(a)){var s=a.pop();if(!l(s))return te(s,e,null,null,t,r,o,!0),e.dom}}return null}function u(e){var n=e.bp;if(!l(n)){var t=e.key,r=n.pools;if(null===t){var o=r.nonKeyed;o&&o.push(e)}else{var i=r.keyed;(i[t]||(i[t]=[])).push(e)}return!0}return!1}function f(e,t,r,l,i,a){if(n(e))return P(e,t);if(o(e))return null;var s=e.bp;if(ke){var d=c(e,s,r,l,i);if(null!==d)return null!==t&&t.appendChild(d),d}return void 0===s?p(e,t,r,l,i,a):h(e,s,t,r,l,i)}function v(e){"select"===e.tag&&L(e)}function h(e,n,t,r,l,o){var i=e.tag;if(n.isComponent===!0)return b(e,i,e.attrs||{},e.hooks,e.children,t,r,l);var a=j(n.tag,n.isSVG);switch(e.dom=a,n.hasHooks===!0&&z(e.hooks,r,a),n.lazy===!0&&ue(e,r,a),n.childrenType){case 1:S(e.children,a,!0);break;case 2:f(e.children,a,r,l,o);break;case 3:y(e,e.children,a,r,l,o);break;case 4:g(e.children,a,r,l,o);break;case 5:C(e,e.children,a,r,l,o)}if(n.hasAttrs===!0){v(e);var s=e.attrs;if(null===n.attrKeys){var d=Object.keys(s);n.attrKeys=n.attrKeys?n.attrKeys.concat(d):d}var c=n.attrKeys;N(s,c,a,o)}if(n.hasClassName===!0&&(a.className=e.className),n.hasStyle===!0&&re(null,e.style,a),n.hasEvents===!0){var u=e.events;null===n.eventKeys&&(n.eventKeys=Object.keys(u));var h=n.eventKeys;w(u,h,a)}return null!==t&&t.appendChild(a),a}function p(e,n,t,r,s,d){var c=e.tag;if(null===c)return P(e,n);if(i(c))return b(e,c,e.attrs||{},e.hooks,e.children,n,t,r);if(!a(c)||""===c)throw Error("Inferno Error: Expected function or string for element tag type");"svg"===c&&(d=!0);var u=j(c,d),f=e.children,h=e.attrs,p=e.events,m=e.hooks,g=e.className,y=e.style;return e.dom=u,l(m)||z(m,t,u),o(f)||C(e,f,u,t,r,s,d),l(h)||(v(e),N(h,Object.keys(h),u,s)),l(g)||(u.className=g),l(y)||re(null,y,u),l(p)||w(p,Object.keys(p),u),null!==n&&n.appendChild(u),u}function m(e,n,t,r,l,o,i){var a=E();t&&t.push(a),e.then(function(e){var s=f(e,null,r,l,o,i);n.replaceChild(s,a),t&&d(t,a,s)}),n.appendChild(a)}function g(e,n,t,r,l){for(var o=0;o<e.length;o++)f(e[o],n,t,r,l)}function y(e,t,i,a,d,c,u){for(var v=null,h=!1,p=!1,g=0;g<t.length;g++){var C=t[g];if(r(C))h=!0,v=v||[],v.push(S(C,i,!1));else if(!l(C)&&n(C)){var k=V();h=!0,y(e,C,k,a,d,c,u),O(i,k),v=v||[],v.push(k)}else if(s(C))m(C,i,v,a,d,c,u);else{var w=f(C,i,a,d,c,u);h||!p&&!l(C)&&l(C.key)?(h=!0,v=v||[],v.push(w)):o(C)?(h=!0,v=v||[],v.push(w)):p===!1&&(p=!0)}}null!==v&&v.length>1&&h===!0&&(e.domChildren=v)}function C(e,t,l,o,i,a,d){n(t)?y(e,t,l,o,i,a,d):r(t)?S(t,l,!0):s(t)?m(t,l,null,o,i,a,d):f(t,l,o,i,a,d)}function k(e,n,t){!o(e)&&a(n)&&(e.refs[n]=t)}function w(e,n,t){for(var r=0;r<n.length;r++){var l=n[r];t[l]=e[l]}}function b(n,r,o,i,a,s,d,c){o=e(a,o);var u=void 0;if(t(r)){var v=new r(o);v._patch=te;var h=v.getChildContext();l(h)||(c=Ce.extends({},c,h)),v.context=c,v._unmounted=!1,v._pendingSetState=!0,v.componentWillMount();var p=v.shouldComponentUpdate();if(p){v.componentWillUpdate();var m=v._pendingState,g=v.state;v.state=Ce.extends({},g,m)}var y=v.render();v._pendingSetState=!1,l(y)||(u=f(y,null,d,c,v),v._lastNode=y,null!==s&&s.appendChild(u),v.componentDidMount(),v.componentDidUpdate()),n.dom=u,n.instance=v}else{l(i)||(l(i.componentWillMount)||i.componentWillMount(null,o),l(i.componentDidMount)||d.addListener(function(){i.componentDidMount(u,o)}));var C=r(o);u=f(C,null,d,c,null),n.instance=C,null!==s&&s.appendChild(u),n.dom=u}return u}function N(e,n,t,r){for(var l=0;l<n.length;l++){var o=n[l];"ref"===o?k(r,e[o],t):oe(o,e[o],t)}}function x(e){return!l(e.append)}function O(e,n,t){l(t)?x(n)?n.append(e):e.appendChild(n):x(n)?n.insert(e,t):x(t)?e.insertBefore(n,t.childNodes[0]||t.dom):e.insertBefore(n,t)}function U(e,n,t){l(t)?e.appendChild(n):e.insertBefore(n,t)}function j(e,n){var t=void 0;return t=n===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function S(e,n,t){if(null===n)return document.createTextNode(e);if(t){if(""!==e)return n.textContent=e,n.firstChild;var r=document.createTextNode("");return n.appendChild(r),r}var l=document.createTextNode(e);return n.appendChild(l),l}function T(e,n,t,r,o,i,a){var s=null,d=e._lastNode;l(d)||(s=e,e=d);var c=f(n,null,r,o,i,a);n.dom=c,_(t,c,e.dom),null!==s&&(s._lastNode=n),D(e)}function _(e,n,t){x(t)?t.replaceWith(n):e.replaceChild(n,t)}function D(e){if(!o(e)&&!r(e)){var t=e.instance,i=null,a=null;l(t)||(i=t.hooks,a=t.children,void 0!==t.render&&(t.componentWillUnmount(),t._unmounted=!0));var s=e.hooks||i;l(s)||(l(s.willDetach)||s.willDetach(e.dom),l(s.componentWillUnmount)||s.componentWillUnmount(e.dom,s));var d=e.children||a;if(!l(d))if(n(d))for(var c=0;c<d.length;c++)D(d[c]);else D(d)}}function E(){return document.createTextNode("")}function K(e,n){var t=e.dom;t===n?t.innerHTML="":(n.removeChild(t),ke&&u(e)),D(e)}function A(e,n,t){for(var r=n||Object.keys(e),l=0;l<r.length;l++){var o=r[l];t[o]=null}}function W(e,n,t){for(var r=0;r<n.length;r++)e.insertBefore(n[r],t)}function B(){return document.activeElement}function M(e,n){if(ke){var t=n.length;if(t>5)for(var r=0;t>r;r++){var l=n[r];o(l)||u(l)}}e.textContent=""}function Y(e){e!==document.body&&document.activeElement!==e&&e.focus()}function V(){var e=[],n=document.createTextNode(""),t=null,r={dom:n,childNodes:e,appendChild:function(r){e.push(r),t&&t.insertBefore(r,n)},removeChild:function(n){t&&t.removeChild(n),e.splice(e.indexOf(n),1)},insertBefore:function(n,r){t&&t.insertBefore(n,r),e.splice(e.indexOf(r),0,n)},replaceChild:function(n,r){t.replaceChild(n,r),d(e,r,n)},append:function(r){r.appendChild(n),t=r,W(t,e,n)},insert:function(r,l){r.insertBefore(n,l),t=r,W(t,e,n)},remove:function(){t.removeChild(n);for(var r=0;r<e.length;r++)t.removeChild(e[r]);t=null},replaceWith:function(r){t.replaceChild(r,n);for(var l=0;l<e.length;l++)t.removeChild(e[l]);t=null},getElementsByTagName:null};return Object.defineProperty(r,"parentNode",{get:function(){return t}}),Object.defineProperty(r,"firstChild",{get:function(){return e[0]}}),r}function X(e){return e.length&&!l(e[0])&&!l(e[0].key)}function H(e,n){if("option"===e.tag){var t=e.attrs&&e.attrs.value;n[t]?(e.attrs=e.attrs||{},e.attrs.selected="selected",e.dom.selected=!0):e.dom.selected=!1}else for(var r=0,l=e.children.length;l>r;r++)H(e.children[r],n)}function L(e){var t=e.attrs&&e.attrs.value,r={};if(n(t))for(var l=0,o=t.length;o>l;l++)r[t[l]]=t[l];else r[t]=t;for(var i=0,a=e.children.length;a>i;i++)H(e.children[i],r);e.attrs&&e.attrs[t]&&delete e.attrs.value}function P(e,n){var t=E();return null!==n&&n.appendChild(t),o(e)||(e.dom=t),t}function z(e,n,t){l(e.created)||e.created(t),l(e.attached)||n.addListener(function(){e.attached(t)})}function I(e){var n=e.attrs.value;l(n)||(e.dom.value=n)}function G(e,n){if("input"===e){var t=n.attrs.type;if("text"===t)I(n);else if("checkbox"===t||"radio"===t){var r=n.attrs.checked;n.dom.checked=!!r}}else"textarea"===e&&I(n)}function R(e,t,i,a,s,d,c){var u=t.children,v=e.children;if(v!==u){var h=null;e.domChildren&&(h=t.domChildren=e.domChildren),o(v)?r(u)?ee(i,v,u):l(u)||(n(u)?y(t,u,i,a,s,d,c):f(u,i,a,s,d,c)):o(u)?M(i,v):n(v)?n(u)?null===h&&v.length>1?se(v,u,i,a,s,d,c):X(u)?se(v,u,i,a,s,d,c):ae(v,u,i,h||(t.domChildren=[]),a,s,d,0,c):ae(v,[u],i,h||[],a,s,d,0):n(u)?ae([v],u,i,h||(t.domChildren=[i.firstChild]),a,s,d,0,c):r(u)?ee(i,v,u):r(v)?te(v,u,i,a,s,d,null,c):te(v,u,i,a,s,d,!0,c)}}function q(e,n,t,r){e&&(a(n)&&delete e.refs[n],a(t)&&(e.refs[t]=r))}function F(e,n,t,r,o){var i=n.events,a=e.events,s=!l(i),d=!l(a);s?d?le(a,i,t,r,o):w(i,r,o):d&&A(a,t,o)}function J(e,n,t,r,o,i){"select"===e.tag&&L(n);var a=n.attrs,s=e.attrs,d=l(a),c=!l(s);if(!d)for(var u=r||Object.keys(a),f=u.length,v=0;f>v;v++){var h=u[v],p=c&&s[h],m=a[h];p!==m&&("ref"===h?q(i,p,m,o):oe(h,m,o))}if(c)for(var g=t||Object.keys(s),y=g.length,C=0;y>C;C++){var k=g[C];(d||l(a[k]))&&("ref"===k?q(i,s[k],null,o):o.removeAttribute(k))}}function Q(e,n,r,i,a,s,d,c,u){var v=void 0;n.hasHooks===!0&&(v=n.hooks&&!l(v.willUpdate))&&v.willUpdate(e.dom);var h=n.tag||i.tag,p=e.tag||r.tag;if(p!==h)if(e.bp.isComponent===!0){var m=e.instance;i.isComponent===!0?(T(m||e,n,a,s,d,c,!1),D(e)):t(p)?Z(m._lastNode,n,a,s,d,c,!0):Z(m,n,a,s,d,c,!0)}else T(e,n,a,s,d,c,!1);else if(l(p))n.dom=e.dom;else if(r.isComponent===!0)i.isComponent===!0&&(n.instance=e.instance,n.dom=e.dom,ie(!0,n,n.tag,r,i,n.instance,e.attrs||{},n.attrs||{},n.hooks,n.children,a,s,d));else{var g=e.dom,C=r.childrenType,k=i.childrenType;if(n.dom=g,i.lazy===!0&&u===!1){var w=e.clipData;if(null===s.scrollY&&s.refresh(),n.clipData=w,(w.pending===!0||w.top-s.scrollY>s.screenHeight)&&pe(w,g,e,n,a,s))return;if(w.bottom<s.scrollY&&pe(w,g,e,n,a,s))return}if(C>0||k>0)if(5===k||5===C)R(e,n,g,s,d,c);else{var b=e.children,N=n.children;0===C||o(b)?k>2?y(n,N,g,s,d,c):f(N,g,s,d,c):0===k||o(N)?C>2?M(g,b):K(b,g):b!==N&&(4===C&&4===k?se(b,N,g,s,d,c):2===C&&2===k?te(b,N,g,s,d,c,!0,!1):1===C&&1===k?ee(g,b,N):R(e,n,g,s,d,c))}if(r.hasAttrs!==!0&&i.hasAttrs!==!0||J(e,n,r.attrKeys,i.attrKeys,g,c),r.hasEvents!==!0&&i.hasEvents!==!0||F(e,n,r.eventKeys,i.eventKeys,g),r.hasClassName===!0||i.hasClassName===!0){var x=n.className;e.className!==x&&(l(x)?g.removeAttribute("class"):g.className=x)}if(r.hasStyle===!0||i.hasStyle===!0){var O=n.style;e.style!==O&&re(e.style,O,g)}n.hasHooks!==!0||l(v.didUpdate)||v.didUpdate(g),G(h,n)}}function Z(e,n,r,o,a,d,c){if(s(n))n.then(function(n){te(e,n,r,o,a,d,null,!1)});else{var u=n.hooks,f=!l(u);f&&!l(u.willUpdate)&&u.willUpdate(e.dom);var v=n.tag||(l(n.bp)?null:n.bp.tag),h=e.tag||(l(e.bp)?null:e.bp.tag);if("svg"===v&&(c=!0),h!==v){var p=e.instance;i(h)?i(v)?T(p||e,n,r,o,a,d,c):t(h)?Z(p._lastNode,n,r,o,a,d,!0,c):Z(p,n,r,o,a,d,!0,c):T(p||e,n,r,o,a,d,c)}else if(l(h))n.dom=e.dom;else if(i(h))i(v)&&(n.instance=e.instance,n.dom=e.dom,ie(!1,n,n.tag,null,null,n.instance,e.attrs||{},n.attrs||{},n.hooks,n.children,r,o,a));else{var m=e.dom,g=n.className,y=n.style;n.dom=m,R(e,n,m,o,a,d,c),J(e,n,null,null,m,d),F(e,n,null,null,m),e.className!==g&&(l(g)?m.removeAttribute("class"):m.className=g),e.style!==y&&re(e.style,y,m),f&&!l(u.didUpdate)&&u.didUpdate(m),G(v,n)}}}function $(e,n,t){e.split(",").forEach(function(e){return n[e]=t})}function ee(e,n,t){r(n)?e.firstChild.nodeValue=t:e.textContent=t}function ne(e,n,t,r,l,o,i,a){var s=e.bp,d=n.bp;void 0===s||void 0===d?Z(e,n,t,r,l,o,i):Q(e,n,s,d,t,r,l,o,a)}function te(e,n,t,l,i,a,s,d){if(null!==s)ne(e,n,t,l,i,a,d,!1);else if(o(e))f(n,t,l,i,a,d);else if(o(n))K(e,t);else if(r(e))if(r(n))t.firstChild.nodeValue=n;else{var c=f(n,null,l,i,a,d);n.dom=c,_(t,c,t.firstChild)}else if(r(n)){var u=document.createTextNode(n);_(t,u,e.dom)}else ne(e,n,t,l,i,a,d,!1)}function re(e,n,t){if(a(n))t.style.cssText=n;else if(l(e)){if(!l(n))for(var r=Object.keys(n),o=0;o<r.length;o++){var i=r[o];t.style[i]=n[i]}}else if(l(n))t.removeAttribute("style");else{for(var s=Object.keys(n),d=0;d<s.length;d++){var c=s[d];t.style[c]=n[c]}for(var u=Object.keys(e),f=0;f<u.length;f++){var v=u[f];l(n[v])&&(t.style[v]="")}}}function le(e,n,t,r,o){for(var i=r||Object.keys(n),a=0;a<i.length;a++){var s=i[a],d=e[s],c=n[s];d!==c&&(o[s]=c)}for(var u=t||Object.keys(e),f=0;f<u.length;f++){var v=u[f];l(n[v])&&(o[v]=null)}}function oe(e,n,t){if(Ne[e])t[e]=null===n?"":n;else if(xe[e])t[e]=!!n;else{var r=Oe[e];n===!1||l(n)?void 0!==r?t.removeAttributeNS(r,e):t.removeAttribute(e):void 0!==r?t.setAttributeNS(r,e,n===!0?e:n):t.setAttribute(e,n===!0?e:n)}}function ie(n,r,i,a,s,d,c,u,f,v,h,p,m){if(u=e(v,u),t(i)){var g=d.props,y=d.state,C=d.state,k=d.getChildContext();l(k)||(m=Ce.extends({},m,k)),d.context=m;var w=d._updateComponent(y,C,g,u);o(w)||(te(r,w,h,p,m,d,!1,!1),r.dom=w.dom,d._lastNode=w)}else{var b=!0,N=n&&s.hasHooks===!0||!l(f);if(N&&!l(f.componentShouldUpdate)&&(b=f.componentShouldUpdate(r.dom,c,u)),b!==!1){N&&!l(f.componentWillUpdate)&&f.componentWillUpdate(r.dom,c,u);var x=i(u);if(!o(x)){var O=r.dom;x.dom=O,te(d,x,h,p,m,null,!1,!1),r.instance=x,N&&!l(f.componentDidUpdate)&&f.componentDidUpdate(r.dom,c,u)}}}}function ae(e,t,i,a,s,d,c,u,v){var h=void 0===i.append,p=e.length,m=t.length,g=p===m;if(g===!1)if(p>m)for(;p!==m;){var y=e[p-1];o(y)||(i.removeChild(a[p-1+u]),h&&a.splice(p-1+u,1),D(y),p--,e.pop())}else for(;p!==m;){var C=t[p],k=void 0;e.push(C),k=r(C)?document.createTextNode(C):f(C,null,d,c,v),o(k)||O(i,k),h&&(1===p&&a.push(i.firstChild),h&&a.splice(p+u,0,k)),p++}for(var w=0;m>w;w++){var b=e[w],N=t[w],x=w+u;if(b!==N)if(o(N)){if(!o(b))if(n(b)&&0===b.length)for(var U=0;U<b.length;U++)K(b[U],i);else{var j=a[x];l(j)&&x--,i.removeChild(a[x]),h&&(a.splice(x,1),u--),D(b)}}else if(o(b)){if(r(N)){var S=document.createTextNode(N),T=a[x];if(l(T)){var E=a[x+1];O(i,S,E),h&&a.splice(x,1,S)}else O(i,S,T),h&&a.splice(x,0,S)}else if(g===!0){var A=f(N,null,s,d,c,v),W=a[x];if(l(W)){var B=a[x+1];O(i,A,B),h&&a.splice(x,1,A)}else O(i,A,W),h&&a.splice(x,0,A)}}else if(r(N))if(1===p)r(b)?void 0===i.getElementsByTagName?i.nodeValue=N:i.firstChild.nodeValue=N:(D(b),i.textContent=N);else{var M=document.createTextNode(N),Y=a[x];l(Y)?i.nodeValue=M.nodeValue:r(b)?Y.nodeValue=N:void 0===Y.append?(h&&a.splice(x,1,M),_(i,M,Y)):(O(i,M,Y.firstChild),Y.remove(),a.splice(0,a.length,M)),D(b)}else if(n(N))if(X(N))se(b,N,a[x],s,d,c,v);else if(n(b)){var H=a[x];if(void 0===H.append)if(N.length>1&&1===b.length){var L=V();L.insert(i,H),L.appendChild(H),h&&a.splice(x,1,L),ae(b,N,L,L.childNodes,s,d,c,0,v)}else ae(b,N,i,a,s,d,c,0,v);else ae(b,N,a[x],a[x].childNodes,s,d,c,0,v)}else if(N.length>1){var P=V();P.appendChild(i.firstChild),O(i,P,i.firstChild),h&&a.splice(x,1,P),ae([b],N,P,P.childNodes,s,d,c,w,v)}else ae([b],N,i,a,s,d,c,w,v);else n(b)?ae(b,[N],a,a[x].childNodes,s,d,c,0,v):te(b,N,i,s,d,c,null,v)}}function se(e,n,t,r,l,o,i){for(var a=e.length,s=n.length,d=void 0,c=a-1,u=s-1,v=0,h=0,p=null,m=null,g=null,y=null,C=void 0,k=void 0,w=0,b=void 0,N=void 0;c>=v&&u>=h&&(m=n[h],p=e[v],m.key===p.key);)te(p,m,t,r,l,o,!0,i),h++,v++;for(;c>=v&&u>=h&&(g=n[u],y=e[c],g.key===y.key);)te(y,g,t,r,l,o,!0,i),u--,c--;for(;c>=v&&u>=h&&(g=n[u],p=e[v],g.key===p.key);)k=s>u+1?n[u+1].dom:null,te(p,g,t,r,l,o,!0,i),U(t,g.dom,k),u--,v++;for(;c>=v&&u>=h&&(m=n[h],y=e[c],m.key===y.key);)k=e[v].dom,te(y,m,t,r,l,o,!0,i),U(t,m.dom,k),h++,c--;if(v>c){if(u>=h)for(k=s>u+1?n[u+1].dom:null;u>=h;h++)U(t,f(n[h],null,r,l,o,i),k)}else if(h>u)for(;c>=v;)K(e[v++],t);else{var x=c-v+1,O=u-h+1,j=new Array(O);for(d=0;O>d;d++)j[d]=-1;var S=!1,T=0;if(16>=x*O)for(d=v;c>=d;d++){var _=!0;for(y=e[d],C=h;u>=C;C++)if(g=n[C],y.key===g.key){j[C-h]=d,w>C?S=!0:w=C,te(y,g,t,r,l,o,!0,i),_=!1;break}_&&(K(y,t),T++)}else{var D=new Map;for(d=h;u>=d;d++)N=n[d],D.set(N.key,d);for(d=c;d>=v;d--)y=e[d],C=D.get(y.key),void 0===C?(K(y,t),T++):(g=n[C],j[C-h]=d,w>C?S=!0:w=C,te(y,g,t,r,l,o,!0,i))}if(S){var E=de(j);for(C=E.length-1,d=O-1;d>=0;d--)-1===j[d]?(b=d+h,k=s>b+1?n[b+1].dom:null,U(t,f(n[b],null,r,l,o,i),k)):0>C||d!==E[C]?(b=d+h,k=s>b+1?n[b+1].dom:null,U(t,n[b].dom,k)):C--}else if(x-T!==O)for(d=O-1;d>=0;d--)-1===j[d]&&(b=d+h,k=s>b+1?n[b+1].dom:null,U(t,f(n[b],null,r,l,o,i),k))}}function de(e){var n=e.slice(0),t=[];t.push(0);var r=void 0,l=void 0,o=void 0,i=void 0,a=void 0;for(r=0;r<e.length;r++)if(-1!==e[r])if(l=t[t.length-1],e[l]<e[r])n[r]=l,t.push(r);else{for(o=0,i=t.length-1;i>o;)a=(o+i)/2|0,e[t[a]]<e[r]?o=a+1:i=a;e[r]<e[t[o]]&&(o>0&&(n[r]=t[o-1]),t[o]=r)}for(o=t.length,i=t[o-1];o-- >0;)t[o]=i,i=n[i];return t}function ce(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=je,this.screenWidth=Ue}function ue(e,n,t){n.addListener(function(){var r=t.getBoundingClientRect();null===n.scrollY&&n.refresh(),e.clipData={top:r.top+n.scrollY,left:r.left+n.scrollX,bottom:r.bottom+n.scrollY,right:r.right+n.scrollX,pending:!1}})}function fe(e){ne(e.lastNode,e.nextNode,e.parentDom,e.lifecycle,null,null,!1,!0),e.clipData.pending=!1}function ve(){Ee=!0,setTimeout(he,100)}function he(){De.forEach(fe),De.clear(),Ee=!1}function pe(e,n,t,r,l,o){if(performance.now()>_e+2e3){var i=De.get(n);return void 0===i?De.set(n,{lastNode:t,nextNode:r,parentDom:l,clipData:e,lifecycle:o}):i.nextNode=r,e.pending=!0,Ee===!1&&ve(),!0}return he(),!1}function me(e){for(var n=0;n<Ke.length;n++){var t=Ke[n];if(t.dom===e)return t}return null}function ge(e){for(var n=0;n<Ke.length;n++){var t=Ke[n];if(t===e)return void Ke.splice(n,1)}}function ye(e,n){var t=me(n),r=new ce;if(null===t)f(e,n,r,{},null,!1),r.trigger(),Ke.push({node:e,dom:n});else{var l=B();te(t.node,e,n,r,{},null,null,!1),r.trigger(),null===e&&ge(t),t.node=e,window.node=e,Y(l)}}var Ce={};Ce.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},Ce.classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},Ce.createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Ce.extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var ke=!0,we="http://www.w3.org/1999/xlink",be="http://www.w3.org/XML/1998/namespace",Ne={},xe={},Oe={};$("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",Oe,we),$("xml:base,xml:lang,xml:space",Oe,be),$("volume,value",Ne,!0),$("muted,checked,disabled,selected",xe,!0);var Ue=window.screen.width,je=window.screen.height,Se=0,Te=0,_e=0;window.onscroll=function(e){Se=window.scrollX,Te=window.scrollY,_e=performance.now()},window.resize=function(e){Se=window.scrollX,Te=window.scrollY,Ue=window.screen.width,je=window.screen.height,_e=performance.now()},ce.prototype={refresh:function(){this.scrollX=window.scrollX,this.scrollY=window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=0;e<this._listeners.length;e++)this._listeners[e]()}};var De=new Map,Ee=!1,Ke=[],Ae={render:ye};return Ae});