!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.InfernoDOM=e()}(this,function(){"use strict";function n(n){return n instanceof Array}function e(n){return c(n.isStateful)}function t(n){return l(n)||f(n)}function r(n){return d(n)||a(n)}function o(n){return a(n)||n===!1||c(n)||d(n)}function u(n){return"function"==typeof n}function i(n){return"o"===n[0]&&"n"===n[1]&&n.length>3}function l(n){return"string"==typeof n}function f(n){return"number"==typeof n}function a(n){return null===n}function c(n){return n===!0}function d(n){return void 0===n}function p(n){throw n||(n=Pe),new Error("Inferno Error: "+n)}function s(n){return n===Xe.KEYED_LIST}function v(n){return n===Xe.NON_KEYED_LIST}function m(n){return n===Xe.TEXT||n===Xe.STATIC_TEXT}function h(n){return n===Xe.NODE}function g(n){return n===Xe.UNKNOWN}function y(n,e,t,r,o){return{keyIndex:n,schema:null,pools:{nonKeyed:[],keyed:new Map},mount:e,patch:t,unmount:r,hydrate:o,shouldUpdate:null}}function k(n){return{type:Ge.TEXT,text:n,dom:null}}function T(){return{type:Ge.PLACEHOLDER,dom:null}}function x(n,e){return void 0===e&&(e=Xe.UNKNOWN),{type:Ge.FRAGMENT,dom:null,pointer:null,children:n,childrenType:e}}function C(n){return n.type===Ge.TEXT}function E(n){return n.type===Ge.VARIABLE}function N(n){return n.type===Ge.PLACEHOLDER}function _(n){return n.type===Ge.FRAGMENT}function M(n){return n.type===Ge.ELEMENT}function b(n){return n.type===Ge.TEMPLATE}function O(n){return n.type===Ge.COMPONENT}function w(n){return void 0!==n.type}function L(n,e,t,r,o,u){ee(t,pe(e,null,r,o,u),n.dom),Wn(n,null,r)}function A(n,e,t,r,o,u){n!==e&&(b(e)?b(n)?S(n,e,t,r,o,u):(ee(t,se(e,null,r,o,u),n.dom),Wn(n,null,r)):b(n)?L(n,e,t,r,o,u):O(e)?O(n)?X(n,e,t,r,o,u):(ee(t,Ce(e,null,r,o,u),n.dom),Wn(n,null,r)):O(n)?L(n,e,t,r,o,u):_(e)?_(n)?V(n,e,t,r,o,u):(ee(t,me(e,null,r,o,u),n.dom),Wn(n,null,r)):M(e)?M(n)?U(n,e,t,r,o,u):(ee(t,ve(e,null,r,o,u),n.dom),Wn(n,null,r)):M(n)?L(n,e,t,r,o,u):_(n)?Qn(t,n,pe(e,null,r,o,u),r):N(e)?N(n)?G(n,e):(ee(t,ge(e,null),n.dom),Wn(n,null,r)):N(n)?ee(t,pe(e,null,r,o,u),n.dom):C(e)?C(n)?F(n,e):(ee(t,he(e,null),n.dom),Wn(n,null,r)):C(n)?ee(t,pe(e,null,r,o,u),n.dom):p())}function I(n,e,t,r,o,u,i){m(n)?qn(r,t):h(n)?A(e,t,r,o,u,i):s(n)?H(e,t,r,o,u,i,null):v(n)?j(e,t,r,o,u,i,null):g(n)?D(e,t,r,o,u,i):p()}function D(e,r,u,i,l,f){if(o(r))o(e)||ie(u,e,i);else if(o(e))t(r)?Bn(u,r):o(r)||(n(r)?ye(r,u,i,l,f):pe(r,u,i,l,f));else if(t(r))t(e)?qn(u,r):Bn(u,r);else if(t(e)){var a=te(e);a.dom=u.firstChild,D(a,r,u,i,l,f)}else n(r)?n(e)?(r.complex=e.complex,fe(e,r)?H(e,r,u,i,l,f,null):j(e,r,u,i,l,f,null)):j([e],r,u,i,l,f,null):n(e)?j(e,[r],u,i,l,f,null):A(e,r,u,i,l,f)}function S(n,e,t,r,o,u){var i=n.dom,l=n.tr,f=e.tr;if(l!==f){var a=se(e,null,r,o,u);ee(t,a,i),Wn(n,null,r)}else e.dom=i,f.patch(n,e,t,r,o,u)}function U(n,e,t,r,o,u){var i=e.tag,l=n.tag;if("svg"===i&&(u=!0),l!==i)ne(n,e,t,r,o,u);else{var f=n.dom,a=n.props,c=e.props,d=n.children,p=e.children;if(e.dom=f,d!==p){var s=n.childrenType,v=e.childrenType;s===v?I(s,d,p,f,r,o,u):D(d,p,f,r,o,u)}a!==c&&W(n,e,a,c,f)}}function W(n,e,t,o,u){t=t||{},o=o||{};var i;for(var l in o){var f=o[l],a=t[l];"value"===l&&(i=f),r(f)?P(l,u):K(l,a,f,u)}for(var c in t)r(o[c])&&P(c,u);"select"===e.tag&&ce(u,i)}function K(n,e,t,o){if(Be[n])o[n]=r(t)?"":t;else if(qe[n])o[n]=!!t;else if(e!==t){if(r(t))return o.removeAttribute(n),!1;if("className"===n)return o.className=t,!1;if("style"===n)R(e,t,o);else{if("defaultChecked"===n)return a(e)&&o.addAttribute("checked"),!1;if("defaultValue"===n)return a(e)&&o.setAttribute("value",t),!1;if(i(n))o[n.toLowerCase()]=t;else if("dangerouslySetInnerHTML"===n){var u=e&&e.__html,l=t&&t.__html;r(l)&&p(),u!==l&&(o.innerHTML=l)}else if("childrenType"!==n&&"ref"!==n&&"key"!==n){var f=$e[n];return f?o.setAttributeNS(f,n,t):o.setAttribute(n,t),!1}}}return!0}function P(n,e){"className"===n?e.removeAttribute("class"):"value"===n?e.value="":e.removeAttribute(n)}function R(n,e,t){if(l(e))t.style.cssText=e;else if(r(n)){if(!r(e))for(var o=Object.keys(e),u=0;u<o.length;u++){var i=o[u],a=e[i];f(a)&&!Je[i]?t.style[i]=a+"px":t.style[i]=a}}else if(r(e))t.removeAttribute("style");else{for(var c=Object.keys(e),d=0;d<c.length;d++){var p=c[d],s=e[p];f(s)&&!Je[p]?t.style[p]=s+"px":t.style[p]=s}for(var v=Object.keys(n),m=0;m<v.length;m++){var h=v[m];r(e[h])&&(t.style[h]="")}}}function X(n,t,u,i,l,f){var a=n.component,c=t.component,d=t.props||{};if(a!==c)ne(n,t,u,i,l,f);else if(e(t)){var p=n.instance;if(p._unmounted)ee(u,Ce(t,null,i,l,f),n.dom);else{var s=p.props,v=p.state,m=p.state,h=p.getChildContext();t.instance=p,p.context=l,r(h)||(l=Object.assign({},l,h));var g=p._lastInput,y=p._updateComponent(v,m,s,d);y===Ke?y=g:o(y)&&(y=T()),p._lastInput=y,A(g,y,u,i,l,null,!1),p._vComponent=t,p._lastInput=y,p.componentDidUpdate(s,v),t.dom=y.dom,Ze.set(p,y.dom)}}else{var k=!0,x=n.props,C=t.hooks,E=!r(C),N=n.instance;if(t.dom=n.dom,t.instance=N,E&&!r(C.onComponentShouldUpdate)&&(k=C.onComponentShouldUpdate(x,d)),k!==!1){E&&!r(C.onComponentWillUpdate)&&C.onComponentWillUpdate(x,d);var _=c(d,l);if(_===Ke)return;o(_)&&(_=T()),A(N,_,u,i,l,null,null,!1),t.instance=_,E&&!r(C.onComponentDidUpdate)&&C.onComponentDidUpdate(x,d)}}}function V(n,e,t,r,o,u){var i=n.children,l=e.children,f=n.pointer;if(e.dom=n.dom,e.pointer=f,!i!==l){var a=n.childrenType,c=e.childrenType;if(a===c){if(s(c))return H(i,l,t,r,o,u,e);if(s(c))return j(i,l,t,r,o,u,e)}fe(i,l)?H(i,l,t,r,o,u,e):j(i,l,t,r,o,u,e)}}function j(n,e,t,r,o,u,i){for(var l=n.length,f=e.length,a=l>f?f:l,c=0;c<a;c++){var d=n[c],p=re(e,c);A(d,p,t,r,o,u)}if(l<f)for(c=a;c<f;c++){var s=re(e,c);Jn(t,pe(s,null,r,o,u),i&&i.pointer)}else if(l>f)for(c=a;c<l;c++)Wn(n[c],t,r)}function G(n,e){e.dom=n.dom}function F(n,e){var t=e.text,r=n.dom;e.dom=r,n.text!==t&&(r.nodeValue=t)}function H(n,e,t,r,o,u,i){var l,f,c,p,s,v=n.length,m=e.length,h=v-1,g=m-1,y=0,k=0,T=n[y],x=e[k],C=n[h],E=e[g],N=null,_=null;if(0===v)return void(0!==m&&Te(e,t,r,o,u));if(0===m)return void(0!==v&&ie(t,n,r));n:for(;;){for(;T.key===x.key;){if(A(T,x,t,r,o,u),y++,k++,y>h||k>g)break n;T=n[y],x=e[k]}for(;C.key===E.key;){if(A(C,E,t,r,o,u),h--,g--,y>h||k>g)break n;C=n[h],E=e[g]}if(C.key!==x.key){if(T.key!==E.key)break;if(A(T,E,t,r,o,u),p=g+1,c=p<e.length?e[p].dom:i&&i.pointer,Jn(t,E.dom,c),y++,g--,y>h||k>g)break;T=n[y],E=e[g]}else{if(A(C,x,t,r,o,u),Jn(t,x.dom,T.dom),h--,k++,y>h||k>g)break;C=n[h],x=e[k]}}if(y>h){if(k<=g)for(p=g+1,c=p<e.length?e[p].dom:i&&i.pointer;k<=g;)Jn(t,pe(e[k++],null,r,o,u),c)}else if(k>g)for(;y<=h;)Wn(n[y++],t,r);else{v=h-y+1,m=g-k+1;var M=n,b=new Array(m);for(l=0;l<m;l++)b[l]=-1;var O=!1,w=0,L=0;if(m<=4||v*m<=16){for(l=y;l<=h;l++)if(N=n[l],L<m)for(f=k;f<=g;f++)if(_=e[f],N.key===_.key){b[f-k]=l,w>f?O=!0:w=f,A(N,_,t,r,o,u,!1),L++,M[l]=null;break}}else{var I=new Map;for(l=k;l<=g;l++)s=e[l],I.set(s.key,l);for(l=y;l<=h;l++)N=n[l],L<m&&(f=I.get(N.key),d(f)||(_=e[f],b[f-k]=l,w>f?O=!0:w=f,A(N,_,t,r,o,u,!1),L++,M[l]=null))}if(v===n.length&&0===L)for(ie(t,n,r);k<m;)Jn(t,pe(e[k++],null,r,o,u),null);else{for(l=v-L;l>0;)N=M[y++],a(N)||(Wn(N,t,r),l--);if(O){var D=Y(b);for(f=D.length-1,l=m-1;l>=0;l--)b[l]===-1?(w=l+k,s=e[w],p=w+1,c=p<e.length?e[p].dom:i&&i.pointer,Jn(t,pe(s,t,r,o,u),c)):f<0||l!==D[f]?(w=l+k,s=e[w],p=w+1,c=p<e.length?e[p].dom:i&&i.pointer,Jn(t,s.dom,c)):f--}else if(L!==m)for(l=m-1;l>=0;l--)b[l]===-1&&(w=l+k,s=e[w],p=w+1,c=p<e.length?e[p].dom:i&&i.pointer,Jn(t,pe(s,null,r,o,u),c))}}}function Y(n){var e=n.slice(0),t=[];t.push(0);var r,o,u,i,l;for(r=0;r<n.length;r++)if(n[r]!==-1)if(o=t[t.length-1],n[o]<n[r])e[r]=o,t.push(r);else{for(u=0,i=t.length-1;u<i;)l=(u+i)/2|0,n[t[l]]<n[r]?u=l+1:i=l;n[r]<n[t[u]]&&(u>0&&(e[r]=t[u-1]),t[u]=r)}for(u=t.length,i=t[u-1];u-- >0;)t[u]=i,i=e[i];return t}function z(n,e){return function(t,o,u,i,l,f){var a=mn(t,n),c=mn(o,n);a!==c&&(!r(c)&&w(c)||(c=te(c),hn(o,n,c)),A(a,c,u,i,l,f||e))}}function B(n,e,t){return function(r,o,u,i,l,f){var a=mn(r,n),c=mn(o,n);a!==c&&I(t,a,c,u,i,l,f||e)}}function q(n){return function(e,t,r){var o=mn(t,n);mn(e,n)!==o&&(r.nodeValue=o)}}function $(n){return function(e,t,o){var u=mn(t,n);mn(e,n)!==u&&(r(u)?o.removeAttribute("class"):o.className=u)}}function J(n){return function(e,t,r){var o=mn(e,n),u=mn(t,n);o!==u&&R(o,u,r)}}function Q(n,e){return function(t,r,o){var u;"input"===e&&de(o);for(var i=0;i<n.length;i+=2){var l=n[i],f=n[i+1],a=f,c=f;E(f)&&(a=mn(t,f.pointer),c=mn(r,f.pointer)),"value"===l&&(u=c),K(l,a,c,o)}"select"===e&&ce(o,u)}}function Z(n,e,t){return function(o,u,i,l,f,a){var c,d=mn(o,n)||{},p=mn(u,n)||{};for(var s in p){var v=p[s],m=p[s];"key"===s?u.key=m:"children"===s?v!==m&&D(v,m,i,l,f,a||e):r(m)?P(s,i):K(s,v,m,i),"value"===s&&(c=m)}for(var h in d)r(p[h])&&P(h,i);"select"===t&&ce(i,c)}}function nn(n){for(var e=[],t=n.childNodes,r=t.length,o=0;o<r;){var u=t[o];if(8===u.nodeType)if("!"===u.data){var i=document.createTextNode("");n.replaceChild(i,u),e.push(i),o++}else n.removeChild(u),r--;else e.push(u),o++}return e}function en(n,t,i,l){var f=n.component,c=n.props,d=n.hooks,s=n.ref;if(n.dom=t,e(n)){var v=new f(c,l);v._patch=A,v._componentToDOMNodeMap=Ze;var m=v.getChildContext();r(m)||(l=Object.assign({},l,m)),v._unmounted=!1,v._pendingSetState=!0,v._vComponent=n,v.componentWillMount();var h=v.render();o(h)&&(h=T()),v._pendingSetState=!1,fn(h,t,i,l),v._lastInput=h,s&&(u(s)?i.addListener(function(){return s(v)}):p()),a(v.componentDidMount)||i.addListener(function(){return v.componentDidMount()}),Ze.set(v,t),n.instance=v}else{r(d)||(r(d.onComponentWillMount)||d.onComponentWillMount(null,c),r(d.onComponentDidMount)||i.addListener(function(){d.onComponentDidMount(t,c)}));var g=f(c,l);o(g)&&(g=T()),fn(g,t,i,l)}}function tn(n,e,t,r){var o=n.tag;l(o)||p();var u=n.children;n.props,n.ref;n.dom=e,u&&un(n.childrenType,u,e,t,r)}function rn(n,e,t,r,o){for(var u=0;u<n.length;u++);}function on(e,r,u,i){n(e)||o(e)||t(e)||fn(e,r.firstChild,u,i)}function un(n,e,t,r,o){h(n)?fn(e,t,r,o):s(n)||v(n)?rn(childrem,t,r,o):g(n)?on(e,t):m(n)||p()}function ln(n,e,t,r){var o=n.tr;o.hydrate(n,e,t,r)}function fn(n,e,t,r){b(n)?ln(n,e,t,r):M(n)?tn(n,e,t,r):O(n)?en(n,e,t,r):p()}function an(n,e,t){if(e&&1===e.nodeType){var r=e.querySelector("[data-infernoroot]");if(r&&r.parentNode===e)return r.removeAttribute("data-infernoroot"),fn(n,r,t,{}),!0}return!1}function cn(n,e){return function(t,r,o,u){un(e,mn(t,n),r,o,u)}}function dn(n){return function(e,t,o,u){var i=mn(e,n);return!r(i)&&w(i)||(i=te(i),e.write(n,i)),fn(i,t,o,u)}}function pn(){return function(){}}function sn(n,e,t){var r=mn(n,t);return hn(e,t,r),r}function vn(n){return function(e,t){return sn(e,t,n)}}function mn(n,e){var t;return t=e===je?n.dom:0===e?n.v0:n.v1[e-1]}function hn(n,e,t){if(e===je)n.dom=t;else if(0===e)n.v0=t;else{var r=n.v1;r?r[e-1]=t:n.v1=[t]}}function gn(e,u,i,l,f,c,d,s){if(!o(e)){var v,m,h,g,k=Ve,T=u?je:Ve,x=!1;if(E(e))c?(v=_e(e.pointer,f,d),m=d===Xe.STATIC_TEXT?null:B(e.pointer,f,d),h=Hn(e.pointer,d),g=cn(e.pointer,d)):(v=Ne(e.pointer,f),m=z(e.pointer,f),h=Fn(e.pointer),g=dn(e.pointer));else if(_(e)){var N=e.children;E(N)&&(v=_e(N.pointer,f,d),m=B(N.pointer,f,d),h=Hn(N.pointer,d))}else if(C(e)){var b=e.text;T!==Ve&&(T=i.length++),E(b)?(v=kn(T,Le,Me(b.pointer)),m=En(T,q(b.pointer)),h=Yn(b.pointer),g=pn(b.pointer)):(v=be(document.createTextNode(b),!0),m=null,h=null)}else if(M(e)){var w=[],L=[],A=[],I=[],D=e.tag;"svg"===D&&(f=!0);var S=Zn(D,f),U=e.key;!a(U)&&E(U)&&(k=U.pointer);var W=e.children;if(!o(W))if(t(W))Bn(S,W),x=!0;else if(n(W))for(var P=0;P<W.length;P++){var R=W[P];T===Ve&&E(R)&&(T=i.length++);var X=gn(te(R),!1,i,S,f,!1,e.childrenType,s+","+P);if(!o(X)){w.push(X.mount);var V=X.patch,j=X.unmount,G=X.hydrate;a(V)||L.push(V),a(j)||A.push(j),a(G)||I.push(G)}}else{T===Ve&&E(W)&&(T=i.length++);var F=gn(te(W),!1,i,S,f,!0,e.childrenType,s+",0");if(!o(F)){w.push(F.mount);var H=F.patch,Y=F.unmount,nn=F.hydrate;a(H)||L.push(H),a(Y)||A.push(Y),a(nn)||I.push(nn)}}var en=e.props,tn=0;if(!a(en))if(E(en))w.push(we(en.pointer,f)),L.push(Z(en.pointer,f));else{var rn=[],on=[];for(var un in en){var ln=en[un];if(E(ln))"className"===un?(w.push(Ae(ln.pointer)),L.push($(ln.pointer))):"style"===un?(w.push(Ie(ln.pointer)),L.push(J(ln.pointer))):(rn.push(un,ln),on.push(un,ln));else{var fn=K(un,null,ln,S);fn&&(rn.push(un,ln),on.push(un,ln),tn++)}}rn.length>0&&w.push(De(rn,D)),on.length>0&&L.push(Q(on,D))}var an=e.ref;r(an)||w.push(Oe(an)),L.length>0&&T===Ve&&(T=tn===L.length?i.length+1:i.length++),v=yn(T,be(S,x),w),m=Cn(T,L),h=Mn(T,A),g=On(T,s,I)}else O(e)&&p();return y(k,v,m,h,g)}}function yn(n,e,t){return n===Ve&&0===t.length?e:t.length<=1?kn(n,e,t[0]):t.length<=4?Tn(n,e,t[0],t[1],t[2],t[3]):xn(n,e,t)}function kn(n,e,t){var r=n!==Ve;return function(o,u,i,l,f){var a=e(o,u,i,l,f);return r&&hn(o,n,a),t&&t(o,a,i,l,f),a}}function Tn(n,e,t,r,o,u){var i=n!==Ve;return function(l,f,a,c,d){var p=e(l,f,a,c,d);return i&&hn(l,n,p),t&&(t(l,p,a,c,d),r&&(r(l,p,a,c,d),o&&(o(l,p,a,c,d),u&&u(l,p,a,c,d)))),p}}function xn(n,e,t){var r=n!==Ve;return function(o,u,i,l,f){var a=e(o,u,i,l);r&&hn(o,n,a);for(var c=0;c<t.length;c++)t[c](o,a,i,l,f);return a}}function Cn(n,e){return 0===e.length?n!==Ve?vn(n):null:e.length<=1?En(n,e[0]):e.length<=4?Nn(n,e[0],e[1],e[2],e[3],e[4]):_n(n,e)}function En(n,e){var t=n!==Ve;return function(r,o,u,i,l,f){var a;t&&(a=sn(r,o,n)),e&&e(r,o,a,i,l,f)}}function Nn(n,e,t,r,o,u){var i=n!==Ve;return function(l,f,a,c,d,p){var s;i&&(s=sn(l,f,n)),e&&(e(l,f,s,c,d,p),t&&(t(l,f,s,c,d,p),r&&(r(l,f,s,c,d,p),o&&(o(l,f,s,c,d,p),u&&u(l,f,s,c,d,p)))))}}function _n(n,e){var t=n!==Ve;return function(r,o,u,i,l,f){var a;t&&(a=sn(r,o,n));for(var c=0;c<e.length;c++)e[c](r,o,a,i,l,f)}}function Mn(n,e){return e.length>0&&e.length<=4?bn(n,e[0],e[1],e[2],e[3],e[4]):null}function bn(n,e,t,r,o,u){return function(n,i){e&&(e(n,i),t&&(t(n,i),r&&(r(n,i),o&&(o(n,i),u&&u(n,i)))))}}function On(n,e,t){return t.length<=4?wn(n,e,t[0],t[1],t[2],t[3],t[4]):Ln(n,e,t)}function wn(n,e,t,r,o,u,i){var l=n!==Ve;return function(f,a,c,d){var p;l&&(p=An(a,e),hn(f,n,p)),t&&(t(f,p,c,d),r&&(r(f,p,c,d),o&&(o(f,p,c,d),u&&(u(f,p,c,d),i&&i(f,p,c,d)))))}}function Ln(n,e){return function(){var t=n!==Ve;return function(r,o,u,i){var l;t&&(l=An(o,path),hn(r,n,l));for(var f=0;f<e.length;f++)e[f](r,l,u,i)}}}function An(n,e){if(""===e)return nn(n),n;for(var t=e.split(","),r=n,o=0;o<t.length;o++){var u=t[o];if(""!==u){var i=nn(r);r=i[u]}}return r}function In(n,e,t,r){var o=n.tr,u=n.key,i=null===u?o.pools.nonKeyed:o.pools.keyed.get(u);if(!d(i)){var l=i.pop();if(!d(l))return S(l,n,null,e,t,r),n.dom}return null}function Dn(n){var e=n.tr,t=n.key,r=e.pools;if(a(t))r.nonKeyed.push(n);else{var o=r.keyed.get(t);d(o)&&(o=[],r.keyed.set(t,o)),o.push(n)}}function Sn(n,e,t,r){var o=n.component,u=n.key,i=He.get(o);if(!d(i)){var l=null===u?i.nonKeyed:i.keyed.get(u);if(!d(l)){var f=l.pop();if(!d(f))return X(f,n,null,e,t,r),n.dom}}return null}function Un(n){var e=n.component,t=n.key,r=He.get(e);if(d(r)&&(r={nonKeyed:[],keyed:new Map},He.set(e,r)),a(t))r.nonKeyed.push(n);else{var o=r.keyed.get(t);d(o)&&(o=[],r.keyed.set(t,o)),o.push(n)}}function Wn(n,e,t,r){o(n)||(b(n)?Rn(n,e,t,r):_(n)?Xn(n,e,!0,t):M(n)?jn(n,e,t):O(n)?Vn(n,e,t,r):C(n)?Pn(n,e):N(n)&&Kn(n,e))}function Kn(n,e){e&&oe(e,n.dom)}function Pn(n,e){e&&oe(e,n.dom)}function Rn(n,e,t,r){var o=n.dom,u=n.tr,i=u.unmount;a(i)||u.unmount(n,t),a(e)||oe(e,o),Fe&&(e||r)&&Dn(n)}function Xn(n,e,t,r){var o=n.children,u=o.length,i=n.pointer;if(u>0)for(var l=0;l<u;l++){var f=o[l];_(f)?Xn(f,e,!0,r,!1):Wn(f,e,r,!1)}e&&t&&oe(e,i)}function Vn(n,e,t,o){var u=n.instance,i=null,l=null;if(!r(u)){var f=n.ref;f&&f(null),i=u.hooks,l=u.children,void 0!==u.render?(u.componentWillUnmount(),u._unmounted=!0,Ze.delete(u),Wn(u._lastInput,null,t,!1)):Wn(u,null,t,!1)}var a=n.hooks||i;r(a)||r(a.onComponentWillUnmount)||a.onComponentWillUnmount(a),e&&oe(e,n.dom),Fe&&(e||o)&&Un(n)}function jn(e,t,o){var u=(e.hooks,e.dom),i=e.ref;i&&i(null);var l=e.children;if(!r(l))if(n(l))for(var f=0;f<l.length;f++)Wn(l[f],null,o,!1);else Wn(l,null,o,!1);t&&oe(t,u)}function Gn(e,t){if(n(e))for(var r=0;r<e.length;r++)Wn(e[r],null,t,!1);else Wn(e,null,t,!1)}function Fn(n){return function(e,t){Gn(mn(e,n),t)}}function Hn(n,e){return function(e,t){Gn(mn(e,n),t)}}function Yn(n){return function(n,e){}}function zn(n,e,t){n.split(",").forEach(function(n){return e[n]=t})}function Bn(n,e){""!==e?n.textContent=e:n.appendChild(document.createTextNode(""))}function qn(n,e){n.firstChild.nodeValue=e}function $n(n,e){n.appendChild(e)}function Jn(n,e,t){r(t)?$n(n,e):n.insertBefore(e,t)}function Qn(n,e,t,r){var o=e.pointer;Xn(e,n,!1,r),ee(n,t,o)}function Zn(n,e){var t;return t=e===!0?document.createElementNS("http://www.w3.org/2000/svg",n):document.createElement(n)}function ne(n,e,t,o,u,i){var l=null,f=n._lastInput;r(f)||(l=n,n=f),Wn(n,null,o,!0);var a=pe(e,null,o,u,i);e.dom=a,ee(t,a,n.dom),null!==l&&(l._lasInput=e)}function ee(n,e,t){n.replaceChild(e,t)}function te(e){return t(e)?k(e):o(e)?T():n(e)?x(e):e}function re(n,e){var t=n[e];return n[e]=te(t)}function oe(n,e){n.removeChild(e)}function ue(){return document.activeElement}function ie(n,e,t){n.textContent="";for(var r=0;r<e.length;r++){var u=e[r];o(u)||Wn(u,null,t,!0)}}function le(n){null!==n&&n!==document.body&&document.activeElement!==n&&n.focus()}function fe(n,e){return!n.complex&&(e.length&&!r(e[0])&&!r(e[0].key)&&n.length&&!r(n[0])&&!r(n[0].key))}function ae(n,e,t){for(var r=n.firstChild;r;){var o=r.tagName;"OPTION"===o?!t&&r.value===e||t&&e.get(r.value)?r.selected=!0:r.selected=!1:"OPTGROUP"===o&&ae(r,e,t),r=r.nextSibling}}function ce(e,t){var o=!1;r(t)||(n(t)?(t=t.reduce(function(n,e){return n.set(e,!0)},new Map),o=!0):t+="",ae(e,t,o))}function de(n){n.checked&&(n.checked=!1),n.disabled&&(n.disabled=!1)}function pe(n,e,t,r,o){return b(n)?se(n,e,t,r,o):N(n)?ge(n,e):C(n)?he(n,e):_(n)?me(n,e,t,r,o):M(n)?ve(n,e,t,r,o):O(n)?Ce(n,e,t,r,o):void p()}function se(n,e,t,r,o){var u=n.tr,i=null;return Fe&&(i=In(n,t,r,o)),a(i)&&(i=u.mount(n,null,t,r,o)),n.dom=i,a(e)||$n(e,i),i}function ve(n,e,t,o,u){var i=n.tag;l(i)||p(),"svg"===i&&(u=!0);var f=Zn(i,u),d=n.children,s=n.props,v=n.ref,m=!r(s);return n.dom=f,r(v)||t.addListener(function(){v(f)}),"select"===i&&m&&c(s.multiple)&&K("multiple",null,!0,f),r(d)||xe(n.childrenType,d,f,t,o,u),m&&Ee(n,s,f),a(e)||$n(e,f),f}function me(n,e,t,r,o){var u=n.children,i=document.createTextNode(""),l=document.createDocumentFragment(),f=n.childrenType;return s(f)||v(f)?Te(u,l,t,r,o):g(f)&&ye(u,l,t,r,o),n.pointer=i,n.dom=l,$n(l,i),e&&$n(e,l),l}function he(n,e){var t=document.createTextNode(n.text);return n.dom=t,e&&$n(e,t),t}function ge(n,e){var t=document.createTextNode("");return n.dom=t,e&&$n(e,t),t}function ye(n,e,t,r,o){n.complex=!1;for(var u=0;u<n.length;u++){var i=re(n,u);C(i)?(he(i,e),n.complex=!0):N(i)?(ge(i,e),n.complex=!0):_(i)?(me(i,e,t,r,o),n.complex=!0):pe(i,e,t,r,o)}}function ke(e,r,u,i,l){n(e)?ye(e,r,u,i,l):t(e)?Bn(r,e):o(e)||pe(e,r,u,i,l)}function Te(n,e,t,r,o){for(var u=0;u<n.length;u++)pe(n[u],e,t,r,o)}function xe(n,e,t,r,o,u){m(n)?Bn(t,e):h(n)?pe(e,t,r,o,u):s(n)||v(n)?Te(e,t,r,o,u):g(n)?ke(e,t,r,o,u):p()}function Ce(n,t,i,l,f){if(Fe){var c=Sn(n,i,l,f);if(!a(c))return a(t)||$n(t,c),c}var d,s=n.component,v=n.props,m=n.hooks,h=n.ref;if(e(n)){m&&p();var g=new s(v,l);g._patch=A,g._componentToDOMNodeMap=Ze;var y=g.getChildContext();r(y)||(l=Object.assign({},l,y)),g._unmounted=!1,g._pendingSetState=!0,g._vComponent=n,g.componentWillMount();var k=g.render();o(k)&&(k=T()),g._pendingSetState=!1,d=pe(k,null,i,l,!1),g._lastInput=k,a(t)||$n(t,d),h&&(u(h)?i.addListener(function(){return h(g)}):p()),a(g.componentDidMount)||i.addListener(function(){g.componentDidMount()}),Ze.set(g,d),n.dom=d,n.instance=g}else{h&&p(),r(m)||(r(m.onComponentWillMount)||m.onComponentWillMount(v),r(m.onComponentDidMount)||i.addListener(function(){return m.onComponentDidMount(d,v)}));var x=s(v,l);o(x)&&(x=T()),d=pe(x,null,i,l,null,!1),n.instance=x,a(t)||$n(t,d),n.dom=d}return d}function Ee(n,e,t){var r;for(var o in e){var u=e[o];"value"===o&&(r=u),K(o,null,u,t)}"select"===n.tag&&ce(n.dom,r)}function Ne(n,e){return function(t,o,u,i,l){var f=mn(t,n);return!r(f)&&w(f)||(f=te(f),hn(t,n,f)),pe(f,o,u,i,l||e)}}function _e(n,e,t){return function(r,o,u,i,l){return xe(t,mn(r,n),o,u,i,l||e)}}function Me(n){return function(e,t){t.nodeValue=mn(e,n)}}function be(n,e){return function(t,r){var o=n.cloneNode(e);return a(r)||$n(r,o),o}}function Oe(n){return function(e,t,r){var o=n;E(n)&&(o=mn(e,n.pointer)),u(o)?r.addListener(function(){return o(t)}):p()}}function we(n,e){return function(t,r,o,i,l){var f=mn(t,n),a=function(n){var a=f[n];"key"===n?t.key=a:"ref"===n?u(a)?o.addListener(function(){return a(r)}):p():"children"===n?ke(a,r,o,i,l||e):K(n,null,a,r)};for(var c in f)a(c)}}function Le(n,e){var t=document.createTextNode("");return a(e)||$n(e,t),t}function Ae(n){return function(e,t){var o=mn(e,n);r(o)||(t.className=o)}}function Ie(n){return function(e,t){R(null,mn(e,n),t)}}function De(n,e){return function(t,r){for(var o,u=0;u<n.length;u+=2){var i=n[u],l=n[u+1];E(l)&&(l=mn(t,l.pointer)),"value"===i&&(o=l),K(i,null,l,r)}"select"===e&&ce(r,o)}}function Se(n){return Ze.get(n)||null}function Ue(n,e){var t=Qe.get(e),r=new We;if(nt===e&&p(),n!==Ke)if(d(t))o(n)||(an(n,e,r)||ke(n,e,r,{},!1),r.trigger(),Qe.set(e,{input:n}));else{var u=ue();a(n)?(Wn(t.input,e,r,!0),Qe.delete(e)):D(t.input,n,e,r,{},!1),r.trigger(),t.input=n,le(u)}}var We=function(){this._listeners=[]};We.prototype.addListener=function(n){this._listeners.push(n)},We.prototype.trigger=function(){for(var n=this,e=0;e<this._listeners.length;e++)n._listeners[e]()};var Ke="$NO_OP",Pe="a runtime error occured! Use Inferno in development environment to find the error.",Re="undefined"!=typeof window&&window.document,Xe={KEYED_LIST:1,NON_KEYED_LIST:2,TEXT:3,NODE:4,UNKNOWN:5,STATIC_TEXT:6},Ve=-1,je=-2,Ge={ELEMENT:0,COMPONENT:1,TEMPLATE:2,TEXT:3,PLACEHOLDER:4,FRAGMENT:5,VARIABLE:6,PURE_VALUE:7},Fe=!0,He=new Map,Ye="http://www.w3.org/1999/xlink",ze="http://www.w3.org/XML/1998/namespace",Be={},qe={},$e={},Je={};zn("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",$e,Ye),zn("xml:base,xml:lang,xml:space",$e,ze),zn("volume,value",Be,!0),zn("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",qe,!0),zn("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",Je,!0);var Qe=new Map,Ze=new Map,nt=Re?document.body:null,et={render:Ue,findDOMNode:Se,mount:pe,patch:A,unmount:Wn,createTemplateReducers:gn};return et});