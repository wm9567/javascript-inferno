!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.InfernoDOM=t()}(this,function(){"use strict";function e(e,n){if(!o(e)){var r=t(e);(r&&e.length>0||!r)&&(n=n?Object.assign({},n,{children:e}):{children:e})}return n}function t(e){return e instanceof Array}function n(e){return void 0!==e.prototype.render}function r(e){return a(e)||s(e)}function o(e){return c(e)||d(e)}function l(e){return d(e)||e===!1||e===!0||c(e)}function i(e){return"function"==typeof e}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function d(e){return null===e}function c(e){return void 0===e}function u(e,n){if(!l(e))if(t(e))for(var r=0;r<e.length;r++){var o=e[r];if(!l(o)){if(o===n)return!0;if(o.children)return u(o.children,n)}}else{if(e===n)return!0;if(e.children)return u(e.children,n)}return!1}function f(e,t){var n=t.props.children;return u(n,e)?f(e,t._parentComponent):t}function m(e,t,n,r,l){if(void 0!==t){var i=e.key,a=null===i?t.pools.nonKeyed:t.pools.keyed[i];if(!o(a)){var s=a.pop();if(!o(s))return pe(s,e,null,n,r,l,!0,t.isSVG),e.dom}}return null}function v(e){var t=e.bp;if(!o(t)){var n=e.key,r=t.pools;if(null===n){var l=r.nonKeyed;l&&l.push(e)}else{var i=r.keyed;(i[n]||(i[n]=[])).push(e)}return!0}return!1}function p(e){this.text=e,this.dom=null}function h(e){this.placeholder=!0,this.dom=null}function g(e){this.dom=null,this.pointer=null,this.items=e}function y(e){return new p(e)}function w(){return new h}function k(e){return new g(e)}function x(e,t,n,r,o,l){if(I(e))return C(e,t);if(L(e))return N(e,t);if(Y(e))return b(e,t,n,r,o,l);var i=e.bp;if(Ve&&i){var a=m(e,i,n,r,o);if(null!==a)return null!==t&&t.appendChild(a),a}return void 0===i?D(e,t,n,r,o,l):S(e,i,t,n,r,o)}function b(e,t,n,r,o,l){var i=e.items,a=document.createTextNode(""),s=document.createDocumentFragment();return j(i,s,n,r,o,l),e.pointer=a,e.dom=s,s.appendChild(a),t&&V(t,s),s}function N(e,t){var n=document.createTextNode(e.text);return e.dom=n,t&&V(t,n),n}function C(e,t){var n=document.createTextNode("");return e.dom=n,t&&V(t,n),n}function _(e){"select"===e.tag&&re(e)}function O(e,t,n,r){_(e);var o=e.attrs;if(null===t.attrKeys){var l=Object.keys(o);t.attrKeys=t.attrKeys?t.attrKeys.concat(l):l}var i=t.attrKeys;K(e,o,i,n,r)}function M(e,t,n){var r=e.events;null===t.eventKeys&&(t.eventKeys=Object.keys(r));var o=t.eventKeys;W(r,o,n)}function S(e,t,n,r,o,l){var i=e.tag;if(t.isComponent===!0)return A(e,i,e.attrs||{},e.hooks,e.children,l,n,r,o);var a=X(t.tag,t.isSVG);switch(e.dom=a,t.hasHooks===!0&&oe(e.hooks,r,a),t.lazy===!0&&Me(e,r,a),t.childrenType){case 1:z(e.children,a,!0);break;case 2:x(e.children,a,r,o,l);break;case 3:j(e.children,a,r,o,l);break;case 4:T(e.children,a,r,o,l);break;case 5:U(e,e.children,a,r,o,l)}return t.hasAttrs===!0&&O(e,t,a,l),t.hasClassName===!0&&(a.className=e.className),t.hasStyle===!0&&he(null,e.style,a),t.hasEvents===!0&&M(e,t,a),null!==n&&n.appendChild(a),a}function D(e,t,n,r,s,c){var u=e.tag;if(i(u))return A(e,u,e.attrs||{},e.hooks,e.children,s,t,n,r);if(!a(u)||""===u)throw Error("Inferno Error: Expected function or string for element tag type");"svg"===u&&(c=!0);var f=X(u,c),m=e.children,v=e.attrs,p=e.events,h=e.hooks,g=e.className,y=e.style;return e.dom=f,o(h)||oe(h,n,f),l(m)||U(e,m,f,n,r,s,c),o(v)||(_(e),K(e,v,Object.keys(v),f,s)),o(g)||(f.className=g),o(y)||he(null,y,f),o(p)||W(p,Object.keys(p),f),d(t)||t.appendChild(f),f}function T(e,t,n,r,o){for(var l=0;l<e.length;l++)x(e[l],t,n,r,o)}function j(e,n,o,i,a,s){e.complex=!1;for(var d=0;d<e.length;d++){var c=e[d];if(r(c)){var u=y(c);e[d]=u,N(u,n),e.complex=!0}else if(l(c)){var f=w();e[d]=f,C(f,n),e.complex=!0}else if(t(c)){var m=k(c);e[d]=m,b(m,n,o,i,a,s),e.complex=!0}else L(c)?(N(c,n),e.complex=!0):I(c)?(C(c,n),e.complex=!0):Y(c)?(b(c,n,o,i,a,s),e.complex=!0):x(c,n,o,i,a,s)}}function U(e,n,o,i,a,s,d){t(n)?j(n,o,i,a,s,d):r(n)?z(n,o,!0):l(n)||x(n,o,i,a,s,d)}function E(e,t,n){!l(e)&&a(t)&&(e.refs[t]=n)}function W(e,t,n){for(var r=0;r<t.length;r++){var o=t[r];n[o]=e[o]}}function A(t,r,i,a,s,d,c,u,f){i=e(s,i);var m;if(n(r)){var v=new r(i);v._patch=pe,v._componentToDOMNodeMap=rt,!o(d)&&i.ref&&E(d,i.ref,v);var p=v.getChildContext();o(p)||(f=Object.assign({},f,p)),v.context=f,v._unmounted=!1,v._parentNode=t,d&&(v._parentComponent=d),v._pendingSetState=!0,v.componentWillMount();var h=v.render();l(h)&&(h=w()),v._pendingSetState=!1,m=x(h,null,u,f,v,!1),v._lastNode=h,v.componentDidMount(),null===c||l(m)||c.appendChild(m),rt.set(v,m),t.dom=m,t.instance=v}else{o(a)||(o(a.componentWillMount)||a.componentWillMount(null,i),o(a.componentDidMount)||u.addListener(function(){a.componentDidMount(m,i)}));var g=r(i,f);l(g)&&(g=w()),m=x(g,null,u,f,null,!1),t.instance=g,null===c||l(m)||c.appendChild(m),t.dom=m}return m}function K(e,t,n,r,o){for(var l=0;l<n.length;l++){var i=n[l];"ref"===i?E(f(e,o),t[i],r):ye(i,null,t[i],r)}}function H(e,t,n){e.split(",").forEach(function(e){return t[e]=n})}function L(e){return void 0!==e.text}function I(e){return e.placeholder===!0}function Y(e){return void 0!==e.items}function V(e,t,n){o(n)?e.appendChild(t):e.insertBefore(t,n)}function G(e,t,n){var r=t.items,o=t.pointer,l=r.length;if(l>0)for(var i=0;l>i;i++){var a=r[i];Y(a)||J(e,a.dom)}R(e,n,o)}function X(e,t){var n;return n=t===!0?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function z(e,t,n){if(null===t)return document.createTextNode(e);if(n){if(""!==e)return t.textContent=e,t.firstChild;var r=document.createTextNode("");return t.appendChild(r),r}var o=document.createTextNode(e);return t.appendChild(o),o}function F(e,t,n,r,l,i,a){var s=null,d=e._lastNode;o(d)||(s=e,e=d),q(e);var c=x(t,null,r,l,i,a);t.dom=c,R(n,c,e.dom),null!==s&&(s._lastNode=t)}function R(e,t,n){e.replaceChild(t,n)}function q(e,n){if(Y(e))for(var i=e.items,a=0;a<i.length;a++)q(i[a]);else if(!(L(e)||I(e)||l(e)||r(e))){var s=e.instance,d=null,c=null;o(s)||(d=s.hooks,c=s.children,void 0!==s.render&&(s.componentWillUnmount(),s._unmounted=!0,rt.delete(s),!n&&q(s._lastNode)));var u=e.hooks||d;o(u)||(o(u.willDetach)||u.willDetach(e.dom),o(u.componentWillUnmount)||u.componentWillUnmount(e.dom,u));var f=(o(s)?e.children:null)||c;if(!o(f))if(t(f))for(var m=0;m<f.length;m++)q(f[m]);else q(f)}}function B(e,n){var o=e[n];return r(o)&&(o=e[n]=y(o)),l(o)&&(o=e[n]=w()),t(o)&&(o=e[n]=k(o)),o}function P(e,t){var n=e.dom;n===t?n.innerHTML="":(t.removeChild(n),Ve&&v(e)),q(e)}function J(e,t){e.removeChild(t)}function Q(e,t,n){for(var r=t||Object.keys(e),o=0;o<r.length;o++){var l=r[o];n[l]=null}}function Z(){return document.activeElement}function $(e,t){if(Ve){var n=t.length;if(n>5)for(var r=0;n>r;r++){var o=t[r];l(o)||v(o)}}e.textContent=""}function ee(e){null!==e&&e!==document.body&&document.activeElement!==e&&e.focus()}function te(e,t){return e.complex?!1:t.length&&!o(t[0])&&!o(t[0].key)||e.length&&!o(e[0])&&!o(e[0].key)}function ne(e,t){if("option"===e.tag){var n=e.attrs&&e.attrs.value;t[n]?(e.attrs=e.attrs||{},e.attrs.selected="selected",e.dom.selected=!0):e.dom.selected=!1}else for(var r=0,o=e.children.length;o>r;r++)ne(e.children[r],t)}function re(e){var n=e.attrs&&e.attrs.value,r={};if(t(n))for(var o=0,l=n.length;l>o;o++)r[n[o]]=n[o];else r[n]=n;for(var i=0,a=e.children.length;a>i;i++)ne(e.children[i],r);e.attrs&&e.attrs[n]&&delete e.attrs.value}function oe(e,t,n){o(e.created)||e.created(n),o(e.attached)||t.addListener(function(){e.attached(n)})}function le(e){var t=e.attrs.value;o(t)||(e.dom.value=t)}function ie(e,t){if("input"===e){var n=t.attrs.type;if("text"===n)le(t);else if("checkbox"===n||"radio"===n){var r=t.attrs.checked;t.dom.checked=!!r}}else"textarea"===e&&le(t)}function ae(e,n,o,i,a,s,d){var c=n.children,u=e.children;if(u!==c)if(l(u))r(c)?me(o,u,c):l(c)||(t(c)?j(c,o,i,a,s,d):x(c,o,i,a,s,d));else if(l(c))$(o,u);else if(t(u))if(t(c)){var f=u.complex;c.complex=f,te(u,c)?Ce(u,c,o,i,a,s,d):xe(u,c,o,i,a,s,d,null)}else xe(u,[c],o,i,a,s,null);else if(t(c)){var m=u;r(u)&&(m=y(m),m.dom=o.firstChild),xe([m],c,o,i,a,s,d,null)}else r(c)?me(o,u,c):r(u)?pe(u,c,o,i,a,s,null,d):pe(u,c,o,i,a,s,!0,d)}function se(e,t,n,r){e&&(a(t)&&delete e.refs[t],a(n)&&(e.refs[n]=r))}function de(e,t,n,r,l){var i=t.events,a=e.events,s=!o(i),d=!o(a);s?d?ge(a,i,n,r,l):W(i,r,l):d&&Q(a,n,l)}function ce(e,t,n,r,l,i){"select"===e.tag&&re(t);var a=t.attrs,s=e.attrs,d=o(a),c=!o(s);if(!d)for(var u=r||Object.keys(a),m=u.length,v=0;m>v;v++){var p=u[v],h=c&&s[p],g=a[p];h!==g&&("ref"===p?se(i,h,g,l):ye(p,h,g,l))}if(c)for(var y=n||Object.keys(s),w=y.length,k=0;w>k;k++){var x=y[k];(d||o(a[x]))&&("ref"===x?se(f(node,i),s[x],null,l):l.removeAttribute(x))}}function ue(e,t,r,i,a,s,d,c,u){var f;i.hasHooks===!0&&(f=t.hooks,f&&!o(f.willUpdate)&&f.willUpdate(e.dom));var m=t.tag||i.tag,v=e.tag||r.tag;if(v!==m)if(r.isComponent===!0){var p=e.instance;i.isComponent===!0?F(e,t,a,s,d,c,!1):n(v)?(q(e,!0),fe(p._lastNode,t,a,s,d,c,i.isSVG)):(q(e,!0),fe(p,t,a,s,d,c,i.isSVG))}else F(e,t,a,s,d,c,i.isSVG);else if(o(v))t.dom=e.dom;else if(r.isComponent===!0){if(i.isComponent===!0){var h=e.instance;if(!o(h)&&h._unmounted){var g=A(t,v,t.attrs||{},t.hooks,t.children,h,a,s,d);null!==a&&R(a,g,e.dom)}else t.instance=h,t.dom=e.dom,we(!0,t,t.tag,r,i,h,e.attrs||{},t.attrs||{},t.hooks,t.children,a,s,d)}}else{var y=e.dom,w=r.childrenType,k=i.childrenType;if(t.dom=y,i.lazy===!0&&u===!1){var b=e.clipData;if(null===s.scrollY&&s.refresh(),t.clipData=b,(b.pending===!0||b.top-s.scrollY>s.screenHeight)&&je(b,y,e,t,a,s))return;if(b.bottom<s.scrollY&&je(b,y,e,t,a,s))return}if(w>0||k>0)if(5===k||5===w)ae(e,t,y,s,d,c);else{var N=e.children,C=t.children;0===w||l(N)?k>2?j(C,y,s,d,c):x(C,y,s,d,c):0===k||l(C)?w>2?$(y,N):P(N,y):N!==C&&(4===w&&4===k?Ce(N,C,y,s,d,c,null):2===w&&2===k?pe(N,C,y,s,d,c,!0,!1):1===w&&1===k?me(y,N,C):ae(e,t,y,s,d,c))}if(r.hasAttrs!==!0&&i.hasAttrs!==!0||ce(e,t,r.attrKeys,i.attrKeys,y,c),r.hasEvents!==!0&&i.hasEvents!==!0||de(e,t,r.eventKeys,i.eventKeys,y),r.hasClassName===!0||i.hasClassName===!0){var _=t.className;e.className!==_&&(o(_)?y.removeAttribute("class"):y.className=_)}if(r.hasStyle===!0||i.hasStyle===!0){var O=t.style;e.style!==O&&he(e.style,O,y)}i.hasHooks!==!0||o(f.didUpdate)||f.didUpdate(y),ie(m,t)}}function fe(e,t,r,l,a,s,d){var c=t.hooks,u=!o(c);u&&!o(c.willUpdate)&&c.willUpdate(e.dom);var f=t.tag||(o(t.bp)?null:t.bp.tag),m=e.tag||(o(e.bp)?null:e.bp.tag);if("svg"===f&&(d=!0),m!==f){var v=e.instance;i(m)?i(f)?F(e,t,r,l,a,s,d):n(m)?(q(e,!0),fe(v._lastNode,t,r,l,a,s,d)):(q(e,!0),fe(v,t,r,l,a,s,d)):F(v||e,t,r,l,a,s,d)}else if(o(m))t.dom=e.dom;else if(i(m)){if(i(f)){var p=e._instance;if(!o(p)&&p._unmounted){var h=A(t,m,t.attrs||{},t.hooks,t.children,p,r,l,a);null!==r&&R(r,h,e.dom)}else t.instance=e.instance,t.dom=e.dom,we(!1,t,t.tag,null,null,t.instance,e.attrs||{},t.attrs||{},t.hooks,t.children,r,l,a)}}else{var g=e.dom,y=t.className,w=t.style;t.dom=g,ae(e,t,g,l,a,s,d),ce(e,t,null,null,g,s),de(e,t,null,null,g),e.className!==y&&(o(y)?g.removeAttribute("class"):g.className=y),e.style!==w&&he(e.style,w,g),u&&!o(c.didUpdate)&&c.didUpdate(g),ie(f,t)}}function me(e,t,n){r(t)?e.firstChild.nodeValue=n:e.textContent=n}function ve(e,t,n,r,o,l,i,a){var s=e.bp,d=t.bp;void 0===s||void 0===d?fe(e,t,n,r,o,l,i):ue(e,t,s,d,n,r,o,l,a)}function pe(e,t,n,i,a,s,d,c){if(null!==d)ve(e,t,n,i,a,s,c,!1);else if(l(e))x(t,n,i,a,s,c);else if(l(t))P(e,n);else if(r(e))if(r(t))n.firstChild.nodeValue=t;else{var u=x(t,null,i,a,s,c);t.dom=u,R(n,u,n.firstChild)}else if(r(t)){var f=document.createTextNode(t);R(n,f,e.dom)}else if(o(t.null))ve(e,t,n,i,a,s,c,!1);else{var m;e.dom&&(q(e),m=e.dom),R(n,t.dom,m)}}function he(e,t,n){if(a(t))n.style.cssText=t;else if(o(e)){if(!o(t))for(var r=Object.keys(t),l=0;l<r.length;l++){var i=r[l],d=t[i];s(d)&&!qe[i]?n.style[i]=d+"px":n.style[i]=d}}else if(o(t))n.removeAttribute("style");else{for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u],m=t[f];s(m)&&!qe[f]?n.style[f]=m+"px":n.style[f]=m}for(var v=Object.keys(e),p=0;p<v.length;p++){var h=v[p];o(t[h])&&(n.style[h]="")}}}function ge(e,t,n,r,l){for(var i=r||Object.keys(t),a=0;a<i.length;a++){var s=i[a],d=e[s],c=t[s];d!==c&&(l[s]=c)}for(var u=n||Object.keys(e),f=0;f<u.length;f++){var m=u[f];o(t[m])&&(l[m]=null)}}function ye(e,t,n,r){if("dangerouslySetInnerHTML"===e){var l=t&&t.__html,i=n&&n.__html;if(o(i))throw new Error("Inferno Error: dangerouslySetInnerHTML requires an object with a __html propety containing the innerHTML content");l!==i&&(r.innerHTML=i)}else if(ze[e])r[e]=null===n?"":n;else if(Fe[e])r[e]=!!n;else{var a=Re[e];n===!1||o(n)?void 0!==a?r.removeAttributeNS(a,e):r.removeAttribute(e):void 0!==a?r.setAttributeNS(a,e,n===!0?e:n):r.setAttribute(e,n===!0?e:n)}}function we(t,r,i,a,s,d,c,u,f,m,v,p,h){if(u=e(m,u),n(i)){var g=d.props,y=d.state,k=d.state,x=d.getChildContext();o(x)||(h=Object.assign({},h,x)),d.context=h;var b=d._updateComponent(y,k,g,u);b===Ie?b=d._lastNode:o(b)&&(b=w()),pe(d._lastNode,b,v,p,h,d,null,!1),r.dom=b.dom,d._lastNode=b,rt.set(d,b.dom)}else{var N=!0,C=t&&s.hasHooks===!0||!o(f);if(C&&!o(f.componentShouldUpdate)&&(N=f.componentShouldUpdate(r.dom,c,u)),N!==!1){C&&!o(f.componentWillUpdate)&&f.componentWillUpdate(r.dom,c,u);var _=i(u,h);l(_)&&(_=w()),_.dom=r.dom,pe(d,_,v,p,h,null,null,!1),r.instance=_,C&&!o(f.componentDidUpdate)&&f.componentDidUpdate(r.dom,c,u)}}}function ke(e,t,n,r,o,l,i){var a=e.items,s=t.items,d=e.pointer,c=e.dom;t.dom=c,t.pointer=d,!a!==s&&(te(a,s)?Ce(a,s,n,r,o,l,i,t):xe(a,s,n,r,o,l,i,t))}function xe(e,t,n,r,o,i,a,s){for(var d=e.length,c=t.length,u=d>c?c:d,f=0;u>f;f++){var m=e[f],v=B(t,f);m!==v&&(Y(v)?Y(m)?ke(m,v,n,r,o,i,a):(R(n,b(v,null),m.dom),q(m)):Y(m)?G(n,m,x(v)):I(v)?I(m)?be(m,v):(R(n,C(v,null),m.dom),q(m)):I(m)?R(n,x(v,null),m.dom):L(v)?L(m)?Ne(m,v):(R(n,N(v,null),m.dom),q(m)):L(m)?R(n,x(v,null,r,o,i,a),m.dom):pe(m,v,n,r,o,i,!1,a))}if(c>d)for(f=u;c>f;f++){var p,h=B(t,f);p=L(h)?N(h,null):x(h,null,r,o,i,a),l(p)||V(n,p,s&&s.pointer)}else if(d>c)for(f=u;d>f;f++){var g=e[f];J(n,g.dom),q(g)}}function be(e,t){t.dom=e.dom}function Ne(e,t){var n=t.text,r=e.dom;t.dom=r,e.text!==n&&(r.nodeValue=n)}function Ce(e,t,n,r,o,l,i,a){for(var s,d,c,u,f,m=e.length,v=t.length,p=m-1,h=v-1,g=0,y=0,w=null,k=null,b=null,N=null,C=0;p>=g&&h>=y&&(k=t[y],w=e[g],k.key===w.key);)pe(w,k,n,r,o,l,!0,i),y++,g++;for(;p>=g&&h>=y&&(b=t[h],N=e[p],b.key===N.key);)pe(N,b,n,r,o,l,!0,i),h--,p--;for(;p>=g&&h>=y&&(b=t[h],w=e[g],b.key===w.key);)c=v>h+1?t[h+1].dom:null,pe(w,b,n,r,o,l,!0,i),V(n,b.dom,c),h--,g++;for(;p>=g&&h>=y&&(k=t[y],N=e[p],k.key===N.key);)c=e[g].dom,pe(N,k,n,r,o,l,!0,i),V(n,k.dom,c),y++,p--;if(g>p){if(h>=y)for(c=v>h+1?t[h+1].dom:a&&a.pointer;h>=y;y++)V(n,x(t[y],null,r,o,l,i),c)}else if(y>h)for(;p>=g;)P(e[g++],n);else{var _=p-g+1,O=h-y+1,M=new Array(O);for(s=0;O>s;s++)M[s]=-1;var S=!1,D=0;if(16>=_*O)for(s=g;p>=s;s++){var T=!0;for(N=e[s],d=y;h>=d;d++)if(b=t[d],N.key===b.key){M[d-y]=s,C>d?S=!0:C=d,pe(N,b,n,r,o,l,!0,i),T=!1;break}T&&(P(N,n),D++)}else{var j=new Map;for(s=y;h>=s;s++)f=t[s],j.set(f.key,s);for(s=p;s>=g;s--)N=e[s],d=j.get(N.key),void 0===d?(P(N,n),D++):(b=t[d],M[d-y]=s,C>d?S=!0:C=d,pe(N,b,n,r,o,l,!0,i))}if(S){var U=_e(M);for(d=U.length-1,s=O-1;s>=0;s--)-1===M[s]?(u=s+y,c=v>u+1?t[u+1].dom:a&&a.pointer,V(n,x(t[u],null,r,o,l,i),c)):0>d||s!==U[d]?(u=s+y,c=v>u+1?t[u+1].dom:a&&a.pointer,V(n,t[u].dom,c)):d--}else if(_-D!==O)for(s=O-1;s>=0;s--)-1===M[s]&&(u=s+y,c=v>u+1?t[u+1].dom:a&&a.pointer,V(n,x(t[u],null,r,o,l,i),c))}}function _e(e){var t=e.slice(0),n=[];n.push(0);var r,o,l,i,a;for(r=0;r<e.length;r++)if(-1!==e[r])if(o=n[n.length-1],e[o]<e[r])t[r]=o,n.push(r);else{for(l=0,i=n.length-1;i>l;)a=(l+i)/2|0,e[n[a]]<e[r]?l=a+1:i=a;e[r]<e[n[l]]&&(l>0&&(t[r]=n[l-1]),n[l]=r)}for(l=n.length,i=n[l-1];l-- >0;)n[l]=i,i=t[i];return n}function Oe(){this._listeners=[],this.scrollX=null,this.scrollY=null,this.screenHeight=Pe,this.screenWidth=Be}function Me(e,t,n){t.addListener(function(){var r=n.getBoundingClientRect();null===t.scrollY&&t.refresh(),e.clipData={top:r.top+t.scrollY,left:r.left+t.scrollX,bottom:r.bottom+t.scrollY,right:r.right+t.scrollX,pending:!1}})}function Se(e){ve(e.lastNode,e.nextNode,e.parentDom,e.lifecycle,null,null,!1,!0),e.clipData.pending=!1}function De(){et=!0,setTimeout(Te,100)}function Te(){$e.forEach(Se),$e.clear(),et=!1}function je(e,t,n,r,o,l){if(performance.now()>Ze+2e3){var i=$e.get(t);return void 0===i?$e.set(t,{lastNode:n,nextNode:r,parentDom:o,clipData:e,lifecycle:l}):i.nextNode=r,e.pending=!0,et===!1&&De(),!0}return Te(),!1}function Ue(e,t,n,r,o,l,i){var a=t[n.i];if(L(e)){var s=e.text;if(e.dom=a,3===a.nodeType&&""!==s)a.nodeValue=s;else{var d=N(s);R(r,newDomNodetextNode,a),parentChildNodes.splice(parentChildNodes.indexOf(a),1,d),e.dom=d}}else if(I(e))e.dom=a;else if(Y(e)){var c=e.items;e.dom=document.createDocumentFragment();for(var u=0;u<c.length;u++){var f=Ue(B(c,u),t,n,r,o,l,i);if(f)return!0}var m=t[n.i++];if(!m||3!==m.nodeType)return!0;e.pointer=m}else{var v=Ae(e,a,r,o,l,i,!1);if(v)return!0}n.i++}function Ee(e){for(var t=[],n=e.childNodes,r=n.length,o=0;r>o;){var l=n[o];if(8===l.nodeType)if("!"===l.data){var i=document.createTextNode("");e.replaceChild(i,l),t.push(i),o++}else e.removeChild(l),r--;else t.push(l),o++}return t}function We(t,r,i,a,s,d,c,u,f,m,v){if(i=e(s,i),!n(r)){var p=t.instance=r(i);return o(a)||(o(a.componentWillMount)||a.componentWillMount(null,i),o(a.componentDidMount)||u.addListener(function(){a.componentDidMount(d,i)})),Ae(p,d,c,u,f,p,v)}var h=t.instance=new r(i);h._patch=pe,!o(m)&&i.ref&&E(m,i.ref,h);var g=h.getChildContext();o(g)||(f=Object.assign({},f,g)),h.context=f,h._unmounted=!1,h._parentNode=t,m&&(h._parentComponent=m),h._pendingSetState=!0,h.componentWillMount();var y=h.render();h._pendingSetState=!1,l(y)&&(y=w()),Ae(y,d,c,u,f,h,v),h._lastNode=y,h.componentDidMount()}function Ae(e,n,l,a,s,d,c){var u=e.bp,f=e.tag||u.tag;if(i(f))e.dom=n,We(e,f,e.attrs||{},e.hooks,e.children,n,l,a,s,d,c);else if(1!==n.nodeType||f!==n.tagName.toLowerCase());else{e.dom=n;var m=e.hooks;(u&&u.hasHooks===!0||!o(m))&&oe(m,a,n);var v=e.children;if(!o(v))if(r(v))n.textContent!==v&&(n.textContent=v);else{var p=Ee(n),h={i:0},g=!1;if(t(v))for(var y=0;y<v.length&&!(g=Ue(B(v,y),p,h,n,a,s,d));y++);else g=1===p.length?Ue(v,p,h,n,a,s,d):!0}var w=e.className,k=e.style;if(o(w)||(n.className=w),o(k)||he(null,k,n),u&&u.hasAttrs===!0)O(e,u,n,d);else{var x=e.attrs;o(x)||(_(e),K(e,x,Object.keys(x),n,d))}if(u&&u.hasEvents===!0)M(e,u,n);else{var b=e.events;o(b)||W(b,Object.keys(b),n)}}}function Ke(e,t,n){if(t&&1===t.nodeType){var r=t.querySelector("[data-infernoroot]");if(r&&r.parentNode===t)return Ae(e,r,t,n,{},!0),!0}return t!==tt?t.textContent="":console.warn('Inferno Warning: rendering to the "document.body" is dangerous! Use a dedicated container element instead.'),!1}function He(e){return rt.get(e)||null}function Le(e,t){var n=nt.get(t),r=new Oe;if(c(n)){if(!l(e)){Ke(e,t,r)||x(e,t,r,{},null,!1),r.trigger(),nt.set(t,{input:e})}}else{var o=Z();pe(n.input,e,t,r,{},null,null,!1),r.trigger(),d(e)&&nt.delete(t),n.input=e,ee(o)}}var Ie="NO_RENDER",Ye="undefined"!=typeof window&&window.document,Ve=!0,Ge="http://www.w3.org/1999/xlink",Xe="http://www.w3.org/XML/1998/namespace",ze={},Fe={},Re={},qe={};H("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",Re,Ge),H("xml:base,xml:lang,xml:space",Re,Xe),H("volume,value",ze,!0),H("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",Fe,!0),H("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",qe,!0);var Be=Ye&&window.screen.width,Pe=Ye&&window.screen.height,Je=0,Qe=0,Ze=0;Ye&&(window.onscroll=function(e){Je=window.scrollX,Qe=window.scrollY,Ze=performance.now()},window.resize=function(e){Je=window.scrollX,Qe=window.scrollY,Be=window.screen.width,Pe=window.screen.height,Ze=performance.now()}),Oe.prototype={refresh:function(){this.scrollX=Ye&&window.scrollX,this.scrollY=Ye&&window.scrollY},addListener:function(e){this._listeners.push(e)},trigger:function(){for(var e=this,t=0;t<this._listeners.length;t++)e._listeners[t]()}};var $e=new Map,et=!1,tt=document.body,nt=new Map,rt=new Map,ot={render:Le,findDOMNode:He};return ot});