!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Inferno=t()}(this,function(){"use strict";function e(e){return{index:e,type:l.VARIABLE}}function t(e,n){var r=!1,o={NODE:!1,TEXT:!1,ATTRS:!1,CHILDREN:!1,KEY:!1,COMPONENTS:!1};if(f(e))return!1;if(e.type===l.VARIABLE)r=!0,o.NODE=!0;else if(!f(e)){if(!f(e.tag)&&"object"===i["typeof"](e.tag)){if(e.tag.type!==l.VARIABLE)throw Error("Inferno Error: Incorrect tag name passed. Tag name must be a reference to a component, function or string.");r=!0,o.COMPONENTS=!0}if(f(e.text)||e.text.type===l.VARIABLE&&(r=!0,o.TEXT=!0),!f(e.attrs))if(e.attrs.type===l.VARIABLE)r=!0,o.ATTRS=!0;else for(var a in e.attrs){var c=e.attrs[a];if(!f(c)&&c.type===l.VARIABLE){if("xmlns"===a)throw Error("Inferno Error: The 'xmlns' attribute cannot be dynamic. Please use static value for 'xmlns' attribute instead.");o.ATTRS===!1&&(o.ATTRS={}),o.ATTRS[a]=c.index,r=!0}}if(!f(e.children))if(e.children.type===l.VARIABLE)r=!0;else if(u(e.children))for(var y=0;y<e.children.length;y++){var d=e.children[y],s=t(d,n);s===!0&&(r=!0,o.CHILDREN=!0)}else if("object"===("undefined"==typeof e?"undefined":i["typeof"](e))){var s=t(e.children,n);s===!0&&(r=!0,o.CHILDREN=!0)}f(e.key)||e.key.type===l.VARIABLE&&(r=!0,o.KEY=!0)}return r===!0&&n.set(e,o),r}function n(e,t){y[e]=t}function r(e,t){var n={};for(var r in y)n[r]=y[r](e,!0,t);return n}function o(n){if("function"==typeof n){var o=n.construct||null;return f(o)&&!function(){for(var a=n.length,i=new Array(a),u=0;a>u;u++)i[u]=e(u);var l=n.apply(void 0,i),y=new Map;t(l,y);var d=r(l,y),s=l.key,p=s?s.index:-1;switch(a){case 0:o=function(){return{parent:null,tree:d,id:c++,key:null,nextItem:null,rootNode:null}};break;case 1:o=function(e){var t=void 0;return 0===p&&(t=e),{parent:null,tree:d,id:c++,key:t,nextItem:null,rootNode:null,v0:e}};break;case 2:o=function(e,t){var n=void 0;return 0===p?n=e:1===p&&(n=t),{parent:null,tree:d,id:c++,key:n,nextItem:null,rootNode:null,v0:e,v1:t}};break;default:o=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];var a=void 0;return 0===p?a=e:1===p?a=t:p>1&&(a=r[p]),{parent:null,tree:d,id:c++,key:a,nextItem:null,rootNode:null,v0:e,v1:t,values:r}}}f(o)||(n.construct=o)}(),o}}function a(e,t){if(e){var n={tag:e};t&&(void 0!==t.key&&(n.key=t.key,delete t.key),n.attrs=t);for(var r=arguments.length,o=Array(r>2?r-2:0),a=2;r>a;a++)o[a-2]=arguments[a];return o.length&&(n.children=o),n}return{text:e}}var i={};i["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var u=function(e){return e.constructor===Array},f=function(e){return null===e||void 0===e},l={VARIABLE:1},c=Date.now(),y={},d={createElement:a},s={createTemplate:o,TemplateFactory:d,addTreeConstructor:n};return s});