!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Inferno=t()}(this,function(){"use strict";function e(e){return{index:e}}function t(e,n){var r=!1,o={NODE:!1,TEXT:!1,ATTRS:!1,CHILDREN:!1,KEY:!1,COMPONENTS:!1};if(f(e))return!1;if(void 0!==e.index)r=!0,o.NODE=!0;else if(!f(e)){if(!f(e.tag)&&"object"===u["typeof"](e.tag)){if(void 0===e.tag.index)throw Error("Inferno Error: Incorrect tag name passed. Tag name must be a reference to a component, function or string.");r=!0,o.COMPONENTS=!0}if(f(e.text)||void 0!==e.text.index&&(r=!0,o.TEXT=!0),!f(e.attrs))if(void 0!==e.attrs.index)r=!0,o.ATTRS=!0;else for(var i in e.attrs){var d=e.attrs[i];if(!f(d)&&void 0!==d.index){if("xmlns"===i)throw Error("Inferno Error: The 'xmlns' attribute cannot be dynamic. Please use static value for 'xmlns' attribute instead.");o.ATTRS===!1&&(o.ATTRS={}),o.ATTRS[i]=d.index,r=!0}}if(!f(e.children))if(void 0!==e.children.index)r=!0;else if(a(e.children))for(var l=0;l<e.children.length;l++){var c=e.children[l],s=t(c,n);s===!0&&(r=!0,o.CHILDREN=!0)}else if("object"===("undefined"==typeof e?"undefined":u["typeof"](e))){var s=t(e.children,n);s===!0&&(r=!0,o.CHILDREN=!0)}f(e.key)||void 0!==e.key.index&&(r=!0,o.KEY=!0)}return r===!0&&n.push({node:e,dynamicFlags:o}),r}function n(e,t){l[e]=t}function r(e,t){var n={};for(var r in l)n[r]=l[r](e,!0,t);return n}function o(n){if("function"==typeof n){var o=n.construct||null;return f(o)&&!function(){for(var i=n.length,u=new Array(i),a=0;i>a;a++)u[a]=e(a);var l=n.apply(void 0,u),c=[];t(l,c);var s=r(l,c),v=l.key,y=v?v.index:-1;switch(i){case 0:o=function(){return{tree:s,id:""+d++,key:null,nextItem:null,rootNode:null}};break;case 1:o=function(e){var t=void 0;return 0===y&&(t=e),{tree:s,id:""+d++,key:t,nextItem:null,rootNode:null,v0:e}};break;case 2:o=function(e,t){var n=void 0;return 0===y?n=e:1===y&&(n=t),{tree:s,id:""+d++,key:n,nextItem:null,rootNode:null,v0:e,v1:t}};break;default:o=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];var i=void 0;return 0===y?i=e:1===y?i=t:y>1&&(i=r[y]),{tree:s,id:""+d++,key:i,nextItem:null,rootNode:null,v0:e,v1:t,values:r}}}f(o)||(n.construct=o)}(),o}}function i(e,t){if(e){var n={tag:e};t&&(void 0!==t.key&&(n.key=t.key,delete t.key),n.attrs=t);for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;r>i;i++)o[i-2]=arguments[i];return o.length&&(n.children=o),n}return{text:e}}var u={};u["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var a=function(e){return e.constructor===Array},f=function(e){return null===e||void 0===e},d=1,l={},c={createElement:i},s={createTemplate:o,TemplateFactory:c,addTreeConstructor:n};return s});