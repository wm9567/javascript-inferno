!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Inferno=n()}(this,function(){"use strict";function e(e){return{index:e}}function n(e,t){var r=!1,o={NODE:!1,TEXT:!1,ATTRS:!1,CHILDREN:!1,KEY:!1,COMPONENTS:!1};if(f(e))return!1;if(void 0!==e.index)r=!0,o.NODE=!0;else if(!f(e)){if(!f(e.tag)&&"object"===a["typeof"](e.tag)){if(void 0===e.tag.index)throw Error("Inferno Error: Incorrect tag name passed. Tag name must be a reference to a component, function or string.");r=!0,o.COMPONENTS=!0}if(f(e.text)||void 0!==e.text.index&&(r=!0,o.TEXT=!0),!f(e.attrs))if(void 0!==e.attrs.index)r=!0,o.ATTRS=!0;else for(var i in e.attrs){var l=e.attrs[i];if(!f(l)&&void 0!==l.index){if("xmlns"===i)throw Error("Inferno Error: The 'xmlns' attribute cannot be dynamic. Please use static value for 'xmlns' attribute instead.");o.ATTRS===!1&&(o.ATTRS={}),o.ATTRS[i]=l.index,r=!0}}if(!f(e.children))if(void 0!==e.children.index)r=!0;else if(u(e.children))for(var d=0;d<e.children.length;d++){var c=e.children[d],s=n(c,t);s===!0&&(r=!0,o.CHILDREN=!0)}else if("object"===("undefined"==typeof e?"undefined":a["typeof"](e))){var s=n(e.children,t);s===!0&&(r=!0,o.CHILDREN=!0)}f(e.key)||void 0!==e.key.index&&(r=!0,o.KEY=!0)}return r===!0&&t.push({node:e,dynamicFlags:o}),r}function t(e,n){d[e]=n}function r(e,n){var t={};for(var r in d)t[r]=d[r](e,!0,n);return t}function o(t){if("function"==typeof t){var o=t.construct||null;return f(o)&&!function(){for(var i=t.length,a=new Array(i),u=0;i>u;u++)a[u]=e(u);var d=t.apply(void 0,a),c=[];n(d,c);var s=r(d,c),v=d.key,y=v?v.index:-1;switch(i){case 0:o=function(){return{parent:null,tree:s,id:l++,key:null,nextItem:null,rootNode:null}};break;case 1:o=function(e){var n=void 0;return 0===y&&(n=e),{parent:null,tree:s,id:l++,key:n,nextItem:null,rootNode:null,v0:e}};break;case 2:o=function(e,n){var t=void 0;return 0===y?t=e:1===y&&(t=n),{parent:null,tree:s,id:l++,key:t,nextItem:null,rootNode:null,v0:e,v1:n}};break;default:o=function(e,n){for(var t=arguments.length,r=Array(t>2?t-2:0),o=2;t>o;o++)r[o-2]=arguments[o];var i=void 0;return 0===y?i=e:1===y?i=n:y>1&&(i=r[y]),{parent:null,tree:s,id:l++,key:i,nextItem:null,rootNode:null,v0:e,v1:n,values:r}}}f(o)||(t.construct=o)}(),o}}function i(e,n){if(e){var t={tag:e};n&&(void 0!==n.key&&(t.key=n.key,delete n.key),t.attrs=n);for(var r=arguments.length,o=Array(r>2?r-2:0),i=2;r>i;i++)o[i-2]=arguments[i];return o.length&&(t.children=o),t}return{text:e}}var a={};a["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var u=function(e){return e.constructor===Array},f=function(e){return null===e||void 0===e},l=Date.now(),d={},c={createElement:i},s={createTemplate:o,TemplateFactory:c,addTreeConstructor:t};return s});