!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.InfernoServer=n()}(this,function(){"use strict";function e(e,t){if(!o(e)){var r=n(e);(r&&e.length>0||!r)&&(t=t?Object.assign({},t,{children:e}):{children:e})}return t}function n(e){return e instanceof Array}function t(e){return void 0!==e.prototype.render}function r(e){return l(e)||a(e)}function o(e){return s(e)||c(e)}function i(e){return c(e)||e===!1||e===!0||s(e)}function u(e){return"function"==typeof e}function l(e){return"string"==typeof e}function a(e){return"number"==typeof e}function c(e){return null===e}function s(e){return void 0===e}function f(e,n,t){e.split(",").forEach(function(e){return n[e]=t})}function d(n,r,i,u,l){if(r=e(i,r),t(n)){var a=new n(r),c=a.getChildContext();o(c)||(u=Object.assign({},u,c)),a.context=u,a._pendingSetState=!0,a.componentWillMount();var s=a.render();return a._pendingSetState=!1,g(s,u,l)}return g(n(r),u,l)}function p(e,t){if(e&&n(e)){for(var o=[],u=!1,l=0;l<e.length;l++){var a=e[l];r(a)||i(a)?(u===!0&&(i(a)?o.push("<!--!-->"):o.push("<!---->")),o.push(a),u=!0):n(a)?(o.push("<!---->"),o.push(p(a)),o.push("<!--!-->"),u=!0):(u=!1,o.push(g(a,t,!1)))}return o.join("")}return i(e)?"":r(e)?e:g(e,t,!1)||""}function h(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function w(e){if(r(e))return e;for(var n=[],t=Object.keys(e),i=0;i<t.length;i++){var u=t[i],l=e[u],c=a(l)&&!A[u]?"px":"";o(l)||n.push(h(u)+":"+l+c+";")}return n.join()}function g(e,n,t){if(!i(e)){var r=e.bp,l=e.tag||r&&r.tag,a=[],c=e.className,s=e.style;if(u(l))return d(l,e.attrs,e.children,n,t);o(c)||a.push('class="'+c+'"'),o(s)||a.push('style="'+w(s)+'"');var f=e.attrs,h=f&&Object.keys(f)||[];return r&&r.hasAttrs===!0&&(h=r.attrKeys=r.attrKeys?r.attrKeys.concat(h):h),h.forEach(function(e,n){var t=h[n];a.push(t+'="'+f[t]+'"')}),t&&a.push("data-infernoroot"),"<"+l+(a.length>0?" "+a.join(" "):"")+">"+p(e.children,n)+"</"+l+">"}}function x(e,n){return g(e,null,!n)}var m="undefined"!=typeof window&&window.document,y=m&&window.screen.width,v=m&&window.screen.height,b=0,k=0,O=0;m&&(window.onscroll=function(){b=window.scrollX,k=window.scrollY,O=performance.now()},window.resize=function(){b=window.scrollX,k=window.scrollY,y=window.screen.width,v=window.screen.height,O=performance.now()});var S="http://www.w3.org/1999/xlink",j="http://www.w3.org/XML/1998/namespace",C={},I={},z={},A={};f("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",z,S),f("xml:base,xml:lang,xml:space",z,j),f("volume,value",C,!0),f("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",I,!0),f("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",A,!0);var W={renderToString:x};return W});