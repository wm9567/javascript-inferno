!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.InfernoServer=t()}(this,function(){"use strict";function n(n,e){if(!o(n)){var r=t(n);(r&&n.length>0||!r)&&(e?e.children=n:e={children:n})}return e}function t(n){return n instanceof Array}function e(n){return void 0!==n.prototype.render}function r(n){return"string"==typeof n||"number"==typeof n}function o(n){return void 0===n||null===n}function i(n){return void 0===n||null===n||n===!1}function u(n){return"function"==typeof n}function f(t,r,i,u){if(r=n(i,r),e(t)){var f=new t(r),c=f.getChildContext();o(c)||(u=d.extends({},u,c)),f.context=u,f._pendingSetState=!0,f.componentWillMount();var p=f.shouldComponentUpdate();if(p){f.componentWillUpdate();var l=f._pendingState,s=f.state;f.state=d.extends({},s,l)}var v=f.render();return f._pendingSetState=!1,a(v,u)}var y=t(r);return a(y,u)}function c(n,e){if(n&&t(n)){for(var o=[],u=!1,f=0;f<n.length;f++){var c=n[f];r(c)?(u===!0&&o.push("<!-- -->"),o.push(c),u=!0):(u=!1,o.push(a(c,e)))}return o.join("")}return i(n)?void 0:r(n)?n:a(n,e)}function a(n,t){if(!i(n)){var e=function(){var e=n.tag,r=[];if(u(e))return{v:f(e,n.attrs,n.children,t)};o(n.className)||r.push('class="'+n.className+'"');var i=n.attrs;return o(i)||!function(){var n=Object.keys(i);n.forEach(function(t,e){var o=n[e];r.push(o+'="'+i[o]+'"')})}(),{v:"<"+e+(r.length>0?" "+r.join(" "):"")+">"+(c(n.children,t)||"")+"</"+e+">"}}();if("object"===("undefined"==typeof e?"undefined":d.typeof(e)))return e.v}}function p(n){return a(n,null)}var d={};d.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},d.extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n};var l={renderToString:p};return l});