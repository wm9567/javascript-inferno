!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.InfernoServer=t()}(this,function(){"use strict";function n(n,e){if(!o(n)){var r=t(n);(r&&n.length>0||!r)&&(e=e?Object.assign({},e,{children:n}):{children:n})}return e}function t(n){return n instanceof Array}function e(n){return void 0!==n.prototype.render}function r(n){return"string"==typeof n||"number"==typeof n}function o(n){return void 0===n||f(n)}function u(n){return f(n)||n===!1||void 0===n}function i(n){return"function"==typeof n}function f(n){return null===n}function c(t,r,u,i,f){if(r=n(u,r),e(t)){var c=new t(r),a=c.getChildContext();o(a)||(i=Object.assign({},i,a)),c.context=i,c._pendingSetState=!0,c.componentWillMount();var d=c.render();return c._pendingSetState=!1,s(d,i,f)}return s(t(r),i,f)}function a(n,e){if(n&&t(n)){for(var o=[],i=!1,f=0;f<n.length;f++){var c=n[f];r(c)?(i===!0&&o.push("<!-- -->"),o.push(c),i=!0):(i=!1,o.push(s(c,e,!1)))}return o.join("")}return u(n)?"":r(n)?n:s(n,e,!1)||""}function s(n,t,e){if(!u(n)){var r=function(){var r=n.bp,u=n.tag||r&&r.tag,f=[],s=n.className||r&&r.className;if(i(u))return{v:c(u,n.attrs,n.children,t,e)};o(s)||f.push('class="'+s+'"');var d=n.attrs;return o(d)||!function(){var n=Object.keys(d);n.forEach(function(t,e){var r=n[e];f.push(r+'="'+d[r]+'"')})}(),e&&f.push("data-infernoroot"),{v:"<"+u+(f.length>0?" "+f.join(" "):"")+">"+a(n.children,t)+"</"+u+">"}}();if("object"===("undefined"==typeof r?"undefined":p(r)))return r.v}}function d(n,t){return s(n,null,!t)}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},l={renderToString:d};return l});