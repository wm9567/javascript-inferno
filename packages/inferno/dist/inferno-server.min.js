<<<<<<< HEAD
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("stream")):"function"==typeof define&&define.amd?define(["stream"],t):e.InfernoServer=t(e.stream)}(this,function(e){"use strict";function t(e){return e instanceof Array}function n(e){return i(e)||u(e)}function r(e){return l(e)||a(e)}function o(e){return a(e)||e===!1||s(e)||l(e)}function i(e){return"string"==typeof e}function u(e){return"number"==typeof e}function a(e){return null===e}function s(e){return e===!0}function l(e){return void 0===e}function p(e){throw e||(e=I),new Error("Inferno Error: "+e)}function c(e,t,n){e.split(",").forEach(function(e){return t[e]=n})}function d(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;")}function f(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function h(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function m(e){return!!L[e]}function g(e){return!!e.flags}function v(e,t,n,o){var i=e.type,u=e.props;if(o){var a=new i(u),s=a.getChildContext();r(s)||(n=Object.assign({},n,s)),a.context=n,a._pendingSetState=!0,a.componentWillMount();var l=a.render(u,e.context);return a._pendingSetState=!1,w(l,n,t)}return w(i(u,n),n,t)}function y(e,r){if(e&&t(e)){for(var i=[],u=!1,a=0;a<e.length;a++){var s=e[a],l=n(s);o(s)?i.push("<!--!-->"):l?(u&&i.push("<!---->"),l&&i.push(d(s)),u=!0):t(s)?(i.push("<!---->"),i.push(y(s,r)),i.push("<!--!-->"),u=!0):g(s)&&(s.flags&P.Text?(u&&i.push("<!---->"),u=!0):u=!1,i.push(w(s,r,!1)))}return i.join("")}return o(e)?"":n(e)?d(e):w(e,r,!1)||""}function x(e){if(n(e))return e;for(var t=[],o=Object.keys(e),i=0;i<o.length;i++){var a=o[i],s=e[a],l=u(s)&&!F[a]?"px":"";r(s)||t.push(h(a)+":"+f(s)+l+";")}return t.join("")}function C(e,t,r){var o=e.type,i=[],u=e.props,a="";for(var l in u){var p=u[l];"dangerouslySetInnerHTML"===l?a=p.__html:"style"===l?i.push('style="'+x(u.style)+'"'):"className"===l?i.push('class="'+p+'"'):n(p)?i.push(f(l)+'="'+f(p)+'"'):s(p)&&i.push(f(l))}if(t&&i.push("data-infernoroot"),m(o))return"<"+o+(i.length>0?" "+i.join(" "):"")+">";var c=a||y(e.children,r);return"<"+o+(i.length>0?" "+i.join(" "):"")+">"+c+"</"+o+">"}function k(e,t,n){return d(e.children)}function w(e,t,n){var r=e.flags;return r&P.Component?v(e,n,t,r&P.ComponentClass):r&P.Element?C(e,n,t):r&P.Text?k(e,n,t):void p('renderVNodeToString() expects a valid VNode, instead it received an object with the type "'+typeof e+'".')}function S(e){return w(e,null,!0)}function b(e){return w(e,null,!1)}function E(e){if(n(e))return e;for(var t=[],o=Object.keys(e),i=0;i<o.length;i++){var a=o[i],s=e[a],l=u(s)&&!F[a]?"px":"";r(s)||t.push(h(a)+":"+f(s)+l+";")}return t.join()}function T(e){var t=[],r=e&&Object.keys(e)||[];return r.forEach(function(r,o){var i=e[r];switch(r){case"dangerouslySetInnerHTML":case"className":case"style":return;default:n(i)?t.push(f(r)+'="'+f(i)+'"'):s(i)&&t.push(f(r))}}),t}function N(e){return new V(e,!1)}function j(e){return new V(e,!0)}var I="a runtime error occured! Use Inferno in development environment to find the error.",M="http://www.w3.org/1999/xlink",O="http://www.w3.org/XML/1998/namespace",_={},H={},A={},F={};c("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",A,M),c("xml:base,xml:lang,xml:space",A,O),c("volume,value,defaultValue,defaultChecked",_,!0),c("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",H,!0),c("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",F,!0);var P,L={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};!function(e){e[e.Text=1]="Text",e[e.HtmlElement=2]="HtmlElement",e[e.ComponentClass=4]="ComponentClass",e[e.ComponentFunction=8]="ComponentFunction",e[e.HasKeyedChildren=16]="HasKeyedChildren",e[e.HasNonKeyedChildren=32]="HasNonKeyedChildren",e[e.SvgElement=64]="SvgElement",e[e.MediaElement=128]="MediaElement",e[e.InputElement=256]="InputElement",e[e.TextAreaElement=512]="TextAreaElement",e[e.Fragment=1024]="Fragment",e[e.Void=2048]="Void",e[e.Element=962]="Element",e[e.Component=12]="Component"}(P||(P={}));var V=function(e){function i(t,n){e.call(this),this.started=!1,this.initNode=t,this.staticMarkup=n}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype._read=function(){var e=this;this.started||(this.started=!0,Promise.resolve().then(function(){return e.renderNode(e.initNode,null,e.staticMarkup)}).then(function(){e.push(null)}).catch(function(t){e.emit("error",t)}))},i.prototype.renderNode=function(e,t,n){if(!o(e)){var r=e.flags;return r&P.Component?this.renderComponent(e,n,t,r&P.ComponentClass):r&P.Element?this.renderElement(e,n,t):this.renderText(e,n,t)}},i.prototype.renderComponent=function(e,t,n,o){var i=this,u=e.type,a=e.props;if(!o)return this.renderNode(u(a),n,t);var s=new u(a),l=s.getChildContext();return r(l)||(n=Object.assign({},n,l)),s.context=n,s._pendingSetState=!0,Promise.resolve(s.componentWillMount()).then(function(){var e=s.render();return s._pendingSetState=!1,i.renderNode(e,n,t)})},i.prototype.renderChildren=function(e,r){var i=this;if(n(e))return this.push(d(e));if(e){var u=t(e);if(!u&&!o(e))return this.renderNode(e,r,!1);if(!u)throw new Error("invalid component");return e.reduce(function(e,u){return e.then(function(e){var a=n(u),s=o(u);return a||s?(e===!0&&(s?i.push("<!--!-->"):i.push("<!---->")),a&&i.push(d(u)),!0):t(u)?(i.push("<!---->"),Promise.resolve(i.renderChildren(u)).then(function(){return i.push("<!--!-->"),!0})):(u.flags&P.Text&&(e&&i.push("<!---->"),e=!0),i.renderNode(u,r,!1).then(function(e){return!!(u.flags&P.Text)}))})},Promise.resolve(!1))}},i.prototype.renderText=function(e,t,n){var r=this;return Promise.resolve().then(function(t){return r.push(e.children),t})},i.prototype.renderElement=function(e,t,n){var r=this,o=e.type,i=e.props,u=T(i),a="";if(i){var s=i.className;s&&u.push('class="'+f(s)+'"');var l=i.style;l&&u.push('style="'+E(l)+'"'),i.dangerouslySetInnerHTML&&(a=i.dangerouslySetInnerHTML.__html)}if(t&&u.push("data-infernoroot"),this.push("<"+o+(u.length>0?" "+u.join(" "):"")+">"),!m(o))return a?(this.push(a),void this.push("</"+o+">")):Promise.resolve(this.renderChildren(e.children,n)).then(function(){r.push("</"+o+">")})},i}(e.Readable),W={renderToString:S,renderToStaticMarkup:b,streamAsString:N,streamAsStaticMarkup:j,RenderStream:V};return W});
=======
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("./inferno"),require("stream")):"function"==typeof define&&define.amd?define(["inferno","stream"],t):e.InfernoServer=t(e.Inferno,e.stream)}(this,function(e,t){"use strict";function r(e){return e instanceof Array}function n(e){var t=e.type;return!p(t.prototype)&&!p(t.prototype.render)}function o(e){return a(e)||s(e)}function i(e){return p(e)||l(e)}function u(e){return l(e)||e===!1||c(e)||p(e)}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function l(e){return null===e}function c(e){return e===!0}function p(e){return void 0===e}function f(e,t,r){e.split(",").forEach(function(e){return t[e]=r})}function d(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\//g,"&#x2F;")}function h(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function m(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}function g(e){return!!q[e]}function y(e,t,r){var o=e.type,u=e.props;if(n(e)){var a=new o(u),s=a.getChildContext();i(s)||(r=Object.assign({},r,s)),a.context=r,a._pendingSetState=!0,a.componentWillMount();var l=a.render(u,e.context);return a._pendingSetState=!1,b(l,r,t)}return b(o(u,r),r,t)}function v(e,t){if(e&&r(e)){for(var n=[],i=!1,a=0;a<e.length;a++){var s=e[a],l=o(s);u(s)?n.push("<!--!-->"):l?(i&&n.push("<!---->"),l&&n.push(d(s)),i=!0):r(s)?(n.push("<!---->"),n.push(v(s,t)),n.push("<!--!-->"),i=!0):(i=!1,n.push(b(s,t,!1)))}return n.join("")}return u(e)?"":o(e)?d(e):b(e,t,!1)||""}function x(e){if(o(e))return e;for(var t=[],r=Object.keys(e),n=0;n<r.length;n++){var u=r[n],a=e[u],l=s(a)&&!P[u]?"px":"";i(a)||t.push(m(u)+":"+h(a)+l+";")}return t.join("")}function k(e,t,r){for(var n=e.tag,i=[],u=e.props,a=u&&Object.keys(u)||[],s="",l=0;l<a.length;l++){var p=a[l],f=u[p];"dangerouslySetInnerHTML"===p?s=f.__html:"style"===p?i.push('style="'+x(u.style)+'"'):"className"===p?i.push('class="'+f+'"'):o(f)?i.push(h(p)+'="'+h(f)+'"'):c(f)&&i.push(h(p))}return t&&i.push("data-infernoroot"),g(n)?"<"+n+(i.length>0?" "+i.join(" "):"")+">":"<"+n+(i.length>0?" "+i.join(" "):"")+">"+(s||v(e.children,r))+"</"+n+">"}function w(e,t,r){return b(R(e),r,t)}function b(e,t,r){switch(e.nodeType){case H:return w(e,r,t);case F:return y(e,r,t);case A:return k(e,r,t);case W:case z:case G:default:throw Error("Inferno Error: Bad input argument called on renderInputToString(). Input argument may need normalising.")}}function S(e){return b(e,null,!0)}function C(e){return b(e,null,!1)}function O(e){if(o(e))return e;for(var t=[],r=Object.keys(e),n=0;n<r.length;n++){var u=r[n],a=e[u],l=s(a)&&!P[u]?"px":"";i(a)||t.push(m(u)+":"+h(a)+l+";")}return t.join()}function j(e){var t=[],r=e&&Object.keys(e)||[];return r.forEach(function(r,n){var i=e[r];switch(r){case"dangerouslySetInnerHTML":case"className":case"style":return;default:o(i)?t.push(h(r)+'="'+h(i)+'"'):c(i)&&t.push(h(r))}}),t}function I(e){return new V(e,!1)}function N(e){return new V(e,!0)}e="default"in e?e.default:e;var _="http://www.w3.org/1999/xlink",M="http://www.w3.org/XML/1998/namespace",T={},E={},L={},P={};f("xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type",L,_),f("xml:base,xml:lang,xml:space",L,M),f("volume,value,defaultValue,defaultChecked",T,!0),f("muted,scoped,loop,open,checked,default,capture,disabled,selected,readonly,multiple,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate",E,!0),f("animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,",P,!0);var q={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},A=1,H=2,W=3,z=4,F=6,G=7,R=e.convertVOptElementToVElement,V=function(e){function t(t,r){e.call(this),this.started=!1,this.initNode=t,this.staticMarkup=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._read=function(){var e=this;this.started||(this.started=!0,Promise.resolve().then(function(){return e.renderNode(e.initNode,null,e.staticMarkup)}).then(function(){e.push(null)}).catch(function(t){e.emit("error",t)}))},t.prototype.renderNode=function(e,t,r){if(!u(e))return e.nodeType===F?this.renderComponent(e,r,t):e.nodeType===A?this.renderNative(e,r,t):void 0},t.prototype.renderComponent=function(e,t,r){var o=this,u=e.type,a=e.props;if(!n(e))return this.renderNode(u(a),r,t);var s=new u(a),l=s.getChildContext();return i(l)||(r=Object.assign({},r,l)),s.context=r,s._pendingSetState=!0,Promise.resolve(s.componentWillMount()).then(function(){var e=s.render();return s._pendingSetState=!1,o.renderNode(e,r,t)})},t.prototype.renderChildren=function(e,t){var n=this;if(o(e))return this.push(d(e));if(e){var i=r(e);if(!i&&!u(e))return this.renderNode(e,t,!1);if(!i)throw new Error("invalid component");return e.reduce(function(e,i){return e.then(function(e){var a=o(i),s=u(i);return a||s?(e===!0&&(s?n.push("<!--!-->"):n.push("<!---->")),a&&n.push(d(i)),!0):r(i)?(n.push("<!---->"),Promise.resolve(n.renderChildren(i)).then(function(){return n.push("<!--!-->"),!0})):n.renderNode(i,t,!1).then(function(){return!1})})},Promise.resolve(!1))}},t.prototype.renderNative=function(e,t,r){var n=this,o=e.tag,i=e.props,u=j(i),a="";if(i){var s=i.className;s&&u.push('class="'+h(s)+'"');var l=i.style;l&&u.push('style="'+O(l)+'"'),i.dangerouslySetInnerHTML&&(a=i.dangerouslySetInnerHTML.__html)}if(t&&u.push("data-infernoroot"),this.push("<"+o+(u.length>0?" "+u.join(" "):"")+">"),!g(o))return a?(this.push(a),void this.push("</"+o+">")):Promise.resolve(this.renderChildren(e.children,r)).then(function(){n.push("</"+o+">")})},t}(t.Readable),D={renderToString:S,renderToStaticMarkup:C,streamAsString:I,streamAsStaticMarkup:N,RenderStream:V};return D});
>>>>>>> dev
