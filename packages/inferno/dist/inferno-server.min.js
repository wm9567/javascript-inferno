!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("inferno")):"function"==typeof define&&define.amd?define(["inferno"],n):e.InfernoServer=n(e.Inferno)}(this,function(e){"use strict";function n(e){return e.tree.html.create(e)}function t(e){return{create:function(){return e}}}function l(e,n){return null!==n&&(e&n)===n}function r(e){for(var n=0,t=void 0;n<=e.length;){if(t=e[n],!isNaN(1*t))return!1;if(t==t.toUpperCase())return!1;if(t===t.toLowerCase())return!0;n++}return!1}function o(e,n){for(var t=0;t<e.length;t++){var l=e[t];if(l.node===n)return l.dynamicFlags}}function a(e){var n=e.attrs&&e.attrs.value;if(!H(n)){var t={};if(x(n))for(var l=0,r=n.length;r>l;l++)t[n[l]]=n[l];else t[n]=n;i(e,t),e.attrs&&e.attrs.value&&delete e.attrs.value}}function i(e,n){if("option"===e.tag){var t=e.attrs&&e.attrs.value;n[t]&&(e.attrs=e.attrs||{},e.attrs.selected="selected")}else for(var l=0,r=e.children.length;r>l;l++)i(e.children[l],n)}function u(e,n){var t="";for(var l in e)if(r(l)){var o=e[l];H(o)||(b[l]||"string"!=typeof o&&(o+="px"),t+=l+":",t+=o+";")}return t||null}function c(e,n){if("data-inferno"===e)return""+e;var t=D[e]||null;if(t){if(H(n)||t.hasBooleanValue&&!n||t.hasNumericValue&&n!==n||t.hasPositiveNumericValue&&1>n||"false"===n||0===n.length)return"";var l=t.attributeName;return l+"="+I(n)}return H(n)||!r(e)?"":(P[e]||e.toLowerCase())+"="+I(n)}function s(e,n){var t="";for(var l in e){var r=e[l];if(!H(r)){"style"===l&&(r=u(r));var o=null;o=c(l,r),o&&(t+=" "+o)}}return t}function f(e){var n=!1;return x(e)?e.map(function(e,t){return h(e)?n?(n=!0,"<!---->"+e):(n=!0,e):(n=!1,d(!1,e))}).join(""):h(e)?e:d(!1,e)}function d(e,n){var t=void 0;if(H(n))return"";if(n.tag){var l="string"==typeof n.tag&&n.tag.toLowerCase(),r=n.attrs,o={};for(var i in n.attrs){if("value"===i){if("select"===l){a(n);continue}if("textarea"===l||r.contenteditable){n.text=r[i];continue}}o[i]=r[i]}e&&(o["data-inferno"]=!0),t="<"+l,o.innerHTML?n.text=o.innerHTML:t+=s(o,null),j[l]?t+=" />":(t+=">",H(n.children)?H(n.text)||(t+=n.text):t+=f(n.children),t+="</"+l+">")}return t}function p(e,n,l){var r=o(l,e),a=void 0;return r?a:t(d(n,e))}e="default"in e?e["default"]:e;var m={};m["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var x=function(e){return e.constructor===Array},h=function(e){return"string"==typeof e||"number"==typeof e},k=!("undefined"==typeof window||"undefined"==typeof document||!window.document.createElement),y={canUseDOM:k,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:k&&!!window.addEventListener,canUseViewport:k&&!!window.screen,canUseSymbol:"function"==typeof Symbol&&"function"==typeof Symbol["for"]},v=function(){},g={},w=/\-./g,b={"animation-iteration-count":!0,"box-flex":!0,"box-flex-group":!0,"column-count":!0,"counter-increment":!0,"fill-opacity":!0,flex:!0,"flex-grow":!0,"flex-order":!0,"flex-positive":!0,"flex-shrink":!0,"float":!0,"font-weight":!0,"grid-column":!0,"line-height":!0,"line-clamp":!0,opacity:!0,order:!0,orphans:!0,"stop-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,transform:!0,"transform-origin":!0,widows:!0,"z-index":!0,zoom:!0},S=["Top","Right","Bottom","Left"],T=function(e,n){return S.map(function(t){return(e||"")+t+(n||"")})},L={font:[],padding:T("padding"),margin:T("margin"),"border-width":T("border","Width"),"border-style":T("border","Style")},C=function(e){return e.replace(w,function(e){return e[1].toUpperCase()})};y.canUseDOM&&!function(){var e=document.documentElement,n=window.getComputedStyle(e),t=Array.prototype.slice.call(n,0);for(var l in e.style)n[l]||t.push(l);t.forEach(function(e){var n="-"===e[0]?e.substr(1,e.indexOf("-",1)-1):null,t=C(e);g[t]={unPrefixed:n?e.substr(n.length+2):e,unitless:b[e]?!0:!1,shorthand:null}});var r={1:function(e,n,t){return n.forEach(function(n){return t[n]=e[0]})},2:function(e,n,t){return e.forEach(function(e,l){t[n[l]]=t[n[l+2]]=e})},4:function(e,n,t){return n.forEach(function(n,l){t[n]=e[l]})}};Object.keys(L).forEach(function(e){var n=C(e);g[n]={unPrefixed:e,unitless:!1,shorthand:function(n,t){var l="undefined"==typeof n?"undefined":m["typeof"](n);if("number"===l&&(n+="px"),n)if("cssText"in t)t.cssText+=";"+e+":"+n;else{var o=n.split(" ");(r[o.length]||v)(o,L[e],t)}}}})}();var E=1,M=2,O=4,N=6,z="http://www.w3.org/1999/xlink",A="http://www.w3.org/XML/1998/namespace",U={"xlink:actuate":z,"xlink:arcrole":z,"xlink:href":z,"xlink:role":z,"xlink:show":z,"xlink:title":z,"xlink:type":z,"xml:base":A,"xml:lang":A,"xml:space":A,xlinkActuate:z,xlinkArcrole:z,xlinkHref:z,xlinkRole:z,xlinkShow:z,xlinkTitle:z,xlinkType:z},P={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"},V={autoComplete:"autocomplete",autoFocus:"autofocus",autoSave:"autosave"},B={allowFullScreen:M,async:M,autoFocus:M,autoPlay:M,capture:M,checked:E|M,controls:M,currentTime:E|N,"default":M,defaultChecked:M,defaultMuted:M,defaultSelected:M,defer:M,disabled:E|M,download:M,enabled:M,formNoValidate:M,hidden:E|M,loop:M,multiple:E|M,muted:E|M,mediaGroup:E,noValidate:M,noShade:E|M,noResize:M,noWrap:M,typeMustMatch:M,open:M,paused:E,playbackRate:E|O,readOnly:M,required:E|M,reversed:M,radioGroup:E,icon:E,draggable:M,dropzone:null,scoped:E|M,visible:M,trueSpeed:M,sandbox:null,sortable:M,inert:M,indeterminate:M,nohref:M,compact:M,declare:M,ismap:E|M,pauseOnExit:E|M,seamless:M,translate:M,selected:E|M,srcLang:E,srcObject:E,value:E,volume:E|N,itemScope:M,className:null,tabindex:E|O,xlinkActuate:null,xlinkArcrole:null,xlinkHref:null,xlinkRole:null,xlinkShow:null,xlinkTitle:null,xlinkType:null,xmlBase:null,xmlLang:null,xmlSpace:null,clipPath:null,fillOpacity:null,fontFamily:null,fontSize:null,markerEnd:null,markerMid:null,markerStart:null,stopColor:null,stopOpacity:null,strokeDasharray:null,strokeLinecap:null,strokeOpacity:null,strokeWidth:null,textAnchor:null,cols:N,rows:O,rowspan:O,size:N,sizes:O,start:O,"xlink:actuate":null,"xlink:arcrole":null,"xlink:href":null,"xlink:role":null,"xlink:show":null,"xlink:title":null,"xlink:type":null,"xml:base":null,"xml:lang":null,"xml:space":null,id:null,dir:null,title:null,autocorrect:null,autoCapitalize:null,type:null,form:null,formAction:null,formEncType:null,formMethod:null,formTarget:null,frameBorder:null,unselectable:null,continuous:M,srcSet:null,inlist:null,minLength:null,marginWidth:null,marginHeight:null,list:null,keyType:null,is:null,inputMode:null,height:null,width:null,dateTime:null,contenteditable:null,contextMenu:null,classID:null,cellPadding:null,cellSpacing:null,charSet:null,allowTransparency:null,spellcheck:null,srcDoc:E},D={};for(var F in B){var W=B[F];D[F]={attributeName:P[F]||F.toLowerCase(),attributeNamespace:U[F]?U[F]:null,propertyName:V[F]||F,mustUseProperty:l(W,E),hasBooleanValue:l(W,M),hasNumericValue:l(W,O),hasPositiveNumericValue:l(W,N)}}var H=function(e){return null===e||void 0===e},R={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","`":"&#x60;","'":"&#x27;"},q=/[&><"'`]/g,I=function(e){return'"'+(""+e).replace(q,function(e){return R[e]})+'"'},j={area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0};if(e){if("function"!=typeof e.addTreeConstructor)throw"Your package is out-of-date! Upgrade to latest Inferno in order to use the InfernoDOM package.";e.addTreeConstructor("html",p)}var G={renderToString:n};return G});