!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n.Inferno=n.Inferno||{},n.Inferno.h=e())}(this,function(){"use strict";function n(n){return!s(n.prototype)&&!s(n.prototype.render)}function e(n){return l(n)||i(n)}function r(n){return s(n)||u(n)}function t(n){return u(n)||n===!1||c(n)||s(n)}function l(n){return"string"==typeof n}function i(n){return"number"==typeof n}function u(n){return null===n}function c(n){return n===!0}function s(n){return void 0===n}function o(n,e){for(var l=[],i=arguments.length-2;i-- >0;)l[i]=arguments[i+2];var c=l;l.length>0&&!u(l[0])&&(e||(e={}),1===l.length&&(c=l[0]),s(e.children)?e.children=c:A(c)?A(e.children)?e.children=e.children.concat(c):e.children=[e.children].concat(c):A(e.children)?e.children.push(c):(e.children=[e.children],e.children.push(c))),c=null;var f,a=n.flags,h=n.events||e&&e.events||null;if(A(n))f=n.map(function(n){return o(n)});else if(r(e)&&r(c))f=Object.assign({},n);else{var d=r(n.key)?e.key:n.key,v=n.ref||e.ref;28&a?f=p(a,n.type,Object.assign({},n.props,e),null,h,d,v,!0):3970&a&&(c=e&&e.children||n.children,f=p(a,n.type,Object.assign({},n.props,e),c,h,d,v,!c))}if(28&a){var g=f.props;if(g){var k=g.children;if(k)if(A(k))for(var m=0;m<k.length;m++){var b=k[m];!t(b)&&y(b)&&(g.children[m]=o(b))}else y(k)&&(g.children=o(k))}f.children=null}return f.dom=null,f}function f(n,r,l){for(;l<n.length;l++){var i=n[l];t(i)||(Array.isArray(i)?f(i,r,0):(e(i)?i=v(i):y(i)&&i.dom&&(i=o(i)),r.push(i)))}}function a(n){var r;n.$?n=n.slice():n.$=!0;for(var l=0;l<n.length;l++){var i=n[l];if(t(i))r||(r=n.slice(0,l)),r.push(i);else{if(Array.isArray(i)){var u=(r||n).slice(0,l);return f(n,u,l),u}e(i)?(r||(r=n.slice(0,l)),r.push(v(i))):y(i)&&i.dom?(r||(r=n.slice(0,l)),r.push(o(i))):r&&r.push(o(i))}}return r||n}function h(n){return A(n)?a(n):y(n)&&n.dom?o(n):n}function d(n){var e=n.props,i=n.children;l(n.type)&&28&n.flags&&(n.flags=3970),e&&(28&n.flags||!r(i)||r(e.children)||(n.children=e.children),e.ref&&(n.ref=e.ref),e.events&&(n.events=e.events),r(e.key)||(n.key=e.key)),t(i)||(n.children=h(i)),e&&!t(e.children)&&(e.children=h(e.children))}function p(e,r,t,l,i,u,c,o){16&e&&(e=n(r)?4:8);var f={children:s(l)?null:l,dom:null,events:i||null,flags:e||0,key:void 0===u?null:u,props:t||null,ref:c||null,type:r};return o||d(f),f}function v(n){return p(1,null,null,n)}function y(n){return!!n.flags}function g(n,e){if(!n)return"div";var r=e&&s(e.id),t=n.split(j),l=null;x.test(t[1])&&(l="div");for(var i,u=0;u<t.length;u++){var c=t[u];if(c){var o=c.charAt(0);l?"."===o?(i=i||[],i.push(c.substring(1,c.length))):"#"===o&&r&&(e.id=c.substring(1,c.length)):l=c}}return i&&(e.className&&i.push(e.className),e.className=i.join(" ")),l?l.toLowerCase():"div"}function k(n){return e(n)||n&&A(n)}function m(n,e){n=n||{};var r=!l(e),t=r?e:g(e,n),i={},u=null,c=null,s=null,o=null;for(var f in n)"key"===f?u=n[f]:"ref"===f?c=n[f]:"onComponent"===f.substr(0,11)&&r?(c||(c={}),c[f]=n[f]):"on"!==f.substr(0,2)||r?"hooks"===f?c=n[f]:"children"===f?s=n[f]:i[f]=n[f]:(o||(o={}),o[f]=n[f]);return{tag:t,props:i,key:u,ref:c,children:s,events:o}}function b(e,r,t,i){!t&&k(r)&&(t=r,r={});var u=m(r,e),c=u.tag,s=u.props,o=u.key,f=u.ref,a=u.children,h=u.events;if(l(c)){var d=2;switch(c){case"svg":d=128;break;case"input":d=512;break;case"textarea":d=1024;break;case"select":d=2048}return p(d,c,s,t||a,h,o,f)}var v=n(c)?4:8;return a&&(s.children=a),p(v,c,s,null,null,o,f)}var A=Array.isArray,j=/([.#]?[a-zA-Z0-9_:-]+)/,x=/^\.|#/;return b});
