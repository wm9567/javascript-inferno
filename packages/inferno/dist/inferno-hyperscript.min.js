!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):n.InfernoHyperscript=r()}(this,function(){"use strict";function n(n){return n instanceof Array}function r(n){return!l(n.prototype)&&!l(n.prototype.render)}function e(n){return u(n)||i(n)}function t(n){return o(n)||n===!1||f(n)||l(n)}function u(n){return"string"==typeof n}function i(n){return"number"==typeof n}function o(n){return null===n}function f(n){return n===!0}function l(n){return void 0===n}function a(n,r,u){for(;u<n.length;u++){var i=n[u];t(i)||(Array.isArray(i)?a(i,r,0):(e(i)&&(i=p(i)),r.push(i)))}}function s(n){for(var r=0;r<n.length;r++){var u=n[r];if(t(u)||Array.isArray(u)){var i=n.slice(0,r);return a(n,i,r),i}e(u)&&(n[r]=p(u))}return n}function c(e,t,u,i,f,a){return n(i)&&(i=s(i)),o(e)&&(e=r(t)?4:8),{children:l(i)?null:i,dom:null,flags:e||0,key:void 0===f?null:f,props:u||null,ref:a||null,type:t}}function p(n){return c(1,null,null,n)}function d(n,r){if(!n)return"div";var e=r&&l(r.id),t=n.split(g),u=null;m.test(t[1])&&(u="div");for(var i,o=0;o<t.length;o++){var f=t[o];if(f){var a=f.charAt(0);u?"."===a?(i=i||[],i.push(f.substring(1,f.length))):"#"===a&&e&&(r.id=f.substring(1,f.length)):u=f}}return i&&(r.className&&i.push(r.className),r.className=i.join(" ")),u?u.toLowerCase():"div"}function v(r){return e(r)||r&&n(r)}function y(n,r){n=n||{};var e=u(r)?d(r,n):r,t={},i=null,o=null,f=null;for(var l in n)"key"===l?i=n[l]:"ref"===l?o=n[l]:"onComponent"===l.substr(0,11)?(o||(o={}),o[l]=n[l]):"hooks"===l?o=n[l]:"children"===l?f=n[l]:t[l]=n[l];return{tag:e,props:t,key:i,ref:o,children:f}}function h(n,e,t,i){!t&&v(e)&&(t=e,e={});var o=y(e,n),f=o.tag,l=o.props,a=o.key,s=o.ref,p=o.children;if(u(f)){var d=2;switch(f){case"svg":d=64;break;case"input":d=256;break;case"textarea":d=512;break;case"select":d=1024}return c(d,f,l,t||p,a,s)}var h=r(f)?4:8;return c(h,f,l,null,a,s)}var g=/([\.#]?[a-zA-Z0-9_:-]+)/,m=/^\.|#/;return h});
