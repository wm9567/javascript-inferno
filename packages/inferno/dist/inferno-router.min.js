!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("./inferno-create-element"),require("./inferno-component"),require("./inferno")):"function"==typeof define&&define.amd?define(["inferno-create-element","inferno-component","inferno"],e):(t.Inferno=t.Inferno||{},t.Inferno.Router=e(t.Inferno.createElement,t.Inferno.Component,t.Inferno))}(this,function(t,e,n){"use strict";function r(e,n){var r=n.router,o=e.activeClassName,p=e.activeStyle,i=e.className,a=e.to,c={href:a};return i&&(c.className=i),r.location.pathname===a&&(o&&(c.className=(i?i+" ":"")+o),p&&(c.style=Object.assign({},e.style,p))),c.onclick=function(t){0!==t.button||t.ctrlKey||t.altKey||(t.preventDefault(),r.push(a,t.target.textContent))},t("a",c,e.children)}function o(e){return e.to="/",t(r,e)}function p(t){return k(t)?t:t?[t]:t}function i(t){return"string"==typeof t}function a(t){return"string"!=typeof t?t:decodeURIComponent(t)}function c(t){return!t||!(k(t)?t:Object.keys(t)).length}function u(t){var e=[];return v(t,e),e}function s(t){return i(t)?t:t.pathname+t.search}function l(t){if(""===t)return I;for(var e=Object.create(null),n=t.split("&"),r=0;r<n.length;r++){var o=n[r],p=o.split("=").map(h),i=p[0],a=p[1];e[i]?(e[i]=k(e[i])?e[i]:[e[i]],e[i].push(a)):e[i]=a}return e}function f(t,e){var n=t.props||I,r=e.props||I,o=m(r.path)-m(n.path);return o||r.path&&n.path?r.path.length-n.path.length:0}function h(t,e){return decodeURIComponent(0|e?t:t.replace("[]",""))}function d(t){return t.replace(/(^\/+|\/+$)/g,"")}function m(t){return void 0===t&&(t=""),(d(t).match(/\/+/g)||"").length}function v(t,e){for(var n=0;n<t.length;n++){var r=t[n];k(r)?v(r,e):e.push(r)}}function y(t,e){return e={exports:{}},t(e,e.exports),e.exports}function g(t,e,n){n=n||{},e=e||[];var r,o=n.strict,p=n.end!==!1,i=n.sensitive?"":"i",a=0,c=e.length,u=0,s=0;if(t instanceof RegExp){for(;r=C.exec(t.source);)e.push({name:s++,optional:!1,offset:r.index});return t}if(Array.isArray(t))return t=t.map(function(t){return g(t,e,n).source}),new RegExp("(?:"+t.join("|")+")",i);for(t=("^"+t+(o?"":"/"===t[t.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,function(t,n,r,o,p,i,c,u){n=n||"",r=r||"",p=p||"([^\\/"+r+"]+?)",c=c||"",e.push({name:o,optional:!!c,offset:u+a});var s=""+(c?"":n)+"(?:"+r+(c?n:"")+p+(i?"((?:[\\/"+r+"].+?)?)":"")+")"+c;return a+=s.length-t.length,s}).replace(/\*/g,function(t,n){for(var r=e.length;r-- >c&&e[r].offset>n;)e[r].offset+=3;return"(.*)"});r=C.exec(t);){for(var l=0,f=r.index;"\\"===t.charAt(--f);)l++;l%2!==1&&((c+u===e.length||e[c+u].offset>r.index)&&e.splice(c+u,0,{name:s++,optional:!1,offset:r.index}),u++)}return t+=p?"$":"/"===t[t.length-1]?"":"(?=\\/|$)",new RegExp(t,i)}function x(t,e){var n=s(e),r=b(p(t),n,"/");return r}function b(t,e,r){void 0===e&&(e="/"),void 0===r&&(r="/");var o=k(t)?u(t):p(t),i=e.split("?"),a=i[0];void 0===a&&(a="/");var s=i[1];void 0===s&&(s="");var h=l(s);o.sort(f);for(var d=0;d<o.length;d++){var m=o[d],v=(r+(m.props&&m.props.path||"/")).replace("//","/"),y=!m.props||c(m.props.children),g=j(y,v,a);if(g){var x=null;if(m.props&&m.props.children){var _=b(m.props.children,a,v);_&&(x=_.matched,Object.assign(h,_.matched.props.params))}return{location:v,matched:n.cloneVNode(m,{children:x,params:Object.assign(h,g.params),component:m.props.component})}}}}function j(t,e,n){var r=e+"|"+t,o=w.get(r);if(!o){var p=[];o={pattern:T(e,p,{end:t}),keys:p},w.set(r,o)}var i=o.pattern.exec(n);if(!i)return null;for(var c=i[0],u=Object.create(null),s=1;s<i.length;s+=1)u[o.keys[s-1].name]=a(i[s]);return{path:""===c?"/":c,params:u}}function _(t){if(!t)throw new TypeError('Inferno: Error "inferno-router" requires a history prop passed');return{push:t.push,listen:t.listen,get location(){return"blank"!==t.location.pathname?t.location:{pathname:"/",search:""}},get url(){return this.location.pathname+this.location.search}}}t="default"in t?t.default:t,e="default"in e?e.default:e,n="default"in n?n.default:n;var O=function(e){function n(t,n){e.call(this,t,n)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.onEnter,r=this.context,o=r.router;n&&Promise.resolve().then(function(){n({props:t.props,router:o})})},n.prototype.componentWillUnmount=function(){var t=this.props,e=t.onLeave,n=this.context,r=n.router;e&&e({props:this.props,router:r})},n.prototype.render=function(e){var n=e.component,r=e.children,o=e.params;return t(n,{params:o,children:r})},n}(e),R=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.render=function(e){var n=e.component,r=e.children,o=e.params;return t(n,{path:"/",params:o,children:r})},n}(O),k=Array.isArray,I=Object.create(null),E=g,C=/\((?!\?)/g,T=y(function(t){var e=E;t.exports=e,t.exports.parse=e.parse,t.exports.compile=e.compile,t.exports.tokensToFunction=e.tokensToFunction,t.exports.tokensToRegExp=e.tokensToRegExp,t.exports.default=t.exports}),w=new Map,A=function(t){function e(e,n){t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getChildContext=function(){return{router:this.props.router||{location:{pathname:this.props.location}}}},e.prototype.render=function(t){var e=t.children,n=t.location,r=t.matched;if(void 0===r&&(r=null),r)return r;var o=x(e,n);return o.matched},e}(e),N=function(e){function n(t,n){e.call(this,t,n),this.router=_(t.history),this.state={url:t.url||this.router.url}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.componentWillMount=function(){var t=this;this.router&&(this.unlisten=this.router.listen(function(e){t.routeTo(e.pathname)}))},n.prototype.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.prototype.routeTo=function(t){this.setState({url:t})},n.prototype.render=function(e){var n=e.children,r=e.url;return t(A,{location:r||this.state.url,router:this.router},n)},n}(e),q={Route:O,IndexRoute:R,Router:N,RouterContext:A,Link:r,IndexLink:o,match:x};return q});
