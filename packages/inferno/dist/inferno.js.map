{"version":3,"file":"inferno.js","sources":["../../../src/util/storage.js","../../../src/util/isArray.js","../../../src/util/isVoid.js","../../../src/core/variables.js","../../../src/core/scanTreeForDynamicNodes.js","../../../src/core/createTemplate.js","../../../src/core/TemplateFactory.js","../src/index.js"],"sourcesContent":["function Storage(iterable){\n\tlet _items = [];\n\tlet _keys = [];\n\tlet _values = [];\n\n\treturn Object.create(Storage.prototype, {\n\n\t\tget: {\n\t\t\tvalue(key) {\n\t\t\t\tconst index = [].indexOf.call(_keys, key); // TODO: is this preferred over: _keys.indexOf(key)\n\t\t\t\treturn _values[index] || undefined;\n\t\t\t}\n\t\t},\n\t\tset: {\n\t\t\tvalue(key, value) {\n\t\t\t\t// check if key exists and overwrite\n\n\t\t\t\tconst index = [].indexOf.call(_keys, key); // TODO: is this preferred over: _keys.indexOf(key)\n\t\t\t\tif (index > -1) {\n\t\t\t\t\t_items[index][1] = value;\n\t\t\t\t\t_values[index] = value;\n\t\t\t\t} else {\n\t\t\t\t\t_items.push([ key, value ]);\n\t\t\t\t\t_keys.push(key);\n\t\t\t\t\t_values.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport default Storage;\n","export default x => x.constructor === Array;\n","export default x => (x === null) || (x === undefined);\n","import isArray from '../util/isArray';\nimport isVoid from '../util/isVoid';\nimport isStringOrNumber from '../util/isStringOrNumber';\n\nexport const ObjectTypes = {\n\tVARIABLE: 1\n};\n\nexport const ValueTypes = {\n\tTEXT: 0,\n\tARRAY: 1,\n\tTREE: 2,\n\tEMPTY_OBJECT: 3,\n\tFUNCTION: 4,\n\tFRAGMENT: 5\n};\n\nexport function createVariable(index) {\n\treturn {\n\t\tindex,\n\t\ttype: ObjectTypes.VARIABLE\n\t};\n}\n\nexport function getValueWithIndex(item, index) {\n\treturn (index < 2) ? ((index === 0) ? item.v0 : item.v1) : item.values[index - 2];\n}\n\nexport function getTypeFromValue(value) {\n\n\tif (isStringOrNumber(value) || isVoid(value)) {\n\t\treturn ValueTypes.TEXT;\n\t} else if (isArray(value)) {\n\t\treturn ValueTypes.ARRAY;\n\t} else if (typeof value === 'object' && value.create) {\n\t\treturn ValueTypes.TREE;\n\t} else if (typeof value === 'object' && Object.keys(value).length === 0) {\n\t\treturn ValueTypes.EMPTY_OBJECT;\n\t} else if (typeof value === 'object' && value.tree.dom) {\n\t\treturn ValueTypes.FRAGMENT;\n\t} else if (typeof value === 'function') {\n\t\treturn ValueTypes.FUNCTION;\n\t}\n}\n\nexport function getValueForProps(props, item) {\n\tconst newProps = {};\n\n\tif (props.index) {\n\t\treturn getValueWithIndex(item, props.index);\n\t}\n\tfor (let name in props) {\n\t\tconst val = props[name];\n\n\t\tif (val && val.index) {\n\t\t\tnewProps[name] = getValueWithIndex(item, val.index);\n\t\t} else {\n\t\t\tnewProps[name] = val;\n\t\t}\n\n\t\tif (name === 'children') {\n\t\t\tnewProps[name].overrideItem = item;\n\t\t}\n\t}\n\treturn newProps;\n}\n\nexport function removeValueTree(value, treeLifecycle) {\n\tif (isVoid(value)) {\n\t\treturn;\n\t}\n\tif (isArray(value)) {\n\t\tfor (let i = 0; i < value.length; i++) {\n\t\t\tconst child = value[i];\n\n\t\t\tremoveValueTree(child, treeLifecycle);\n\t\t}\n\t} else if (typeof value === 'object') {\n\t\tconst tree = value.tree;\n\n\t\ttree.dom.remove(value, treeLifecycle);\n\t}\n}\n","import { ObjectTypes } from './variables';\nimport isArray from '../util/isArray';\nimport isVoid from '../util/isVoid';\n\nexport default function scanTreeForDynamicNodes(node, nodeMap) {\n\tlet nodeIsDynamic = false;\n\tconst dynamicFlags = {\n\t\tNODE: false,\n\t\tTEXT: false,\n\t\tATTRS: false, // attrs can also be an object\n\t\tCHILDREN: false,\n\t\tKEY: false,\n\t\tCOMPONENTS: false\n\t};\n\n\tif (isVoid(node)) {\n\t\treturn false;\n\t}\n\tif (node.type === ObjectTypes.VARIABLE) {\n\t\tnodeIsDynamic = true;\n\t\tdynamicFlags.NODE = true;\n\t} else {\n\t\tif (!isVoid(node)) {\n\t\t\tif (!isVoid(node.tag)) {\n\t\t\t\tif (typeof node.tag === 'object') {\n\t\t\t\t\tif (node.tag.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\t\tdynamicFlags.COMPONENTS = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow Error(`Inferno Error: Incorrect tag name passed. Tag name must be a reference to a component, function or string.`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isVoid(node.text)) {\n\t\t\t\tif (node.text.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\tdynamicFlags.TEXT = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isVoid(node.attrs)) {\n\t\t\t\tif (node.attrs.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\tdynamicFlags.ATTRS = true;\n\t\t\t\t} else {\n\t\t\t\t\tfor (let attr in node.attrs) {\n\t\t\t\t\t\tconst attrVal = node.attrs[attr];\n\n\t\t\t\t\t\tif (!isVoid(attrVal) && attrVal.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\t\t\tif (attr === 'xmlns') {\n\t\t\t\t\t\t\t\tthrow Error(`Inferno Error: The 'xmlns' attribute cannot be dynamic. Please use static value for 'xmlns' attribute instead.`);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (dynamicFlags.ATTRS === false) {\n\t\t\t\t\t\t\t\tdynamicFlags.ATTRS = {};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdynamicFlags.ATTRS[attr] = attrVal.index;\n\t\t\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isVoid(node.children)) {\n\t\t\t\tif (node.children.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (isArray(node.children)) {\n\t\t\t\t\t\tfor (let i = 0; i < node.children.length; i++) {\n\t\t\t\t\t\t\tconst childItem = node.children[i];\n\t\t\t\t\t\t\tconst result = scanTreeForDynamicNodes(childItem, nodeMap);\n\n\t\t\t\t\t\t\tif (result === true) {\n\t\t\t\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\t\t\t\tdynamicFlags.CHILDREN = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof node === 'object') {\n\t\t\t\t\t\tconst result = scanTreeForDynamicNodes(node.children, nodeMap);\n\n\t\t\t\t\t\tif (result === true) {\n\t\t\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\t\t\tdynamicFlags.CHILDREN = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isVoid(node.key)) {\n\t\t\t\tif (node.key.type === ObjectTypes.VARIABLE) {\n\t\t\t\t\tnodeIsDynamic = true;\n\t\t\t\t\tdynamicFlags.KEY = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (nodeIsDynamic === true) {\n\t\tnodeMap.set(node, dynamicFlags);\n\t}\n\treturn nodeIsDynamic;\n}\n","import ExecutionEnvironment from '../util/ExecutionEnvironment';\nimport Storage from '../util/storage';\nimport { createVariable } from './variables';\nimport scanTreeForDynamicNodes from './scanTreeForDynamicNodes';\nimport isVoid from '../util/isVoid';\n\n// Date.now() is the slowest thing on earth\n// http://jsperf.com/math-random-vs-date-now-vs-new-date/4\nlet uniqueId = Date.now();\n\n/*\n let UUID = (function() {\n var self = {};\n var lut = []; for (var i=0; i<256; i++) { lut[i] = (i<16?'0':'')+(i).toString(16); }\n self.generate = function() {\n var d0 = Math.random()*0xffffffff|0;\n var d1 = Math.random()*0xffffffff|0;\n var d2 = Math.random()*0xffffffff|0;\n var d3 = Math.random()*0xffffffff|0;\n return lut[d0&0xff]+lut[d0>>8&0xff]+lut[d0>>16&0xff]+lut[d0>>24&0xff]+'-'+\n lut[d1&0xff]+lut[d1>>8&0xff]+'-'+lut[d1>>16&0x0f|0x40]+lut[d1>>24&0xff]+'-'+\n lut[d2&0x3f|0x80]+lut[d2>>8&0xff]+'-'+lut[d2>>16&0xff]+lut[d2>>24&0xff]+\n lut[d3&0xff]+lut[d3>>8&0xff]+lut[d3>>16&0xff]+lut[d3>>24&0xff];\n }\n return self;\n })();\n let uniqueId = UUID.generate();\n */\nconst treeConstructors = {};\nconst validTreeNames = {\n\tdom: true,\n\thtml: true\n};\n\nexport function addTreeConstructor(name, treeConstructor) {\n\ttreeConstructors[name] = treeConstructor;\n}\n\nfunction applyTreeConstructors(schema, dynamicNodeMap) {\n\tconst tree = {};\n\n\tfor (let treeConstructor in treeConstructors) {\n\t\ttree[treeConstructor] = treeConstructors[treeConstructor](schema, true, dynamicNodeMap);\n\t}\n\treturn tree;\n}\n\nexport default function createTemplate(callback) {\n\tif (typeof callback === 'function') {\n\t\tlet construct = callback.construct || null;\n\n\t\tif (isVoid(construct)) {\n\t\t\tconst callbackLength = callback.length;\n\t\t\tconst callbackArguments = new Array(callbackLength);\n\n\t\t\tfor (let i = 0; i < callbackLength; i++) {\n\t\t\t\tcallbackArguments[i] = createVariable(i);\n\t\t\t}\n\t\t\tconst schema = callback(...callbackArguments);\n\t\t\tconst dynamicNodeMap = new Map() || new Storage();\n\n\t\t\tscanTreeForDynamicNodes(schema, dynamicNodeMap);\n\t\t\tconst tree = applyTreeConstructors(schema, dynamicNodeMap);\n\t\t\tconst key = schema.key;\n\t\t\tconst keyIndex = key ? key.index : -1;\n\n\t\t\tswitch (callbackLength) {\n\t\t\t\tcase 0:\n\t\t\t\t\tconstruct = () => ({\n\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\ttree,\n\t\t\t\t\t\tid: uniqueId++,\n\t\t\t\t\t\tkey: null,\n\t\t\t\t\t\tnextItem: null,\n\t\t\t\t\t\trootNode: null\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\t\tconstruct = (v0) => {\n\t\t\t\t\t\tlet key;\n\n\t\t\t\t\t\tif (keyIndex === 0) {\n\t\t\t\t\t\t\tkey = v0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\ttree,\n\t\t\t\t\t\t\tid: uniqueId++,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tnextItem: null,\n\t\t\t\t\t\t\trootNode: null,\n\t\t\t\t\t\t\tv0\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tcase 2:\n\t\t\t\t\tconstruct = (v0, v1) => {\n\t\t\t\t\t\tlet key;\n\n\t\t\t\t\t\tif (keyIndex === 0) {\n\t\t\t\t\t\t\tkey = v0;\n\t\t\t\t\t\t} else if (keyIndex === 1) {\n\t\t\t\t\t\t\tkey = v1;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\ttree,\n\t\t\t\t\t\t\tid: uniqueId++,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tnextItem: null,\n\t\t\t\t\t\t\trootNode: null,\n\t\t\t\t\t\t\tv0,\n\t\t\t\t\t\t\tv1\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconstruct = (v0, v1, ...values) => {\n\t\t\t\t\t\tlet key;\n\n\t\t\t\t\t\tif (keyIndex === 0) {\n\t\t\t\t\t\t\tkey = v0;\n\t\t\t\t\t\t} else if (keyIndex === 1) {\n\t\t\t\t\t\t\tkey = v1;\n\t\t\t\t\t\t} else if (keyIndex > 1) {\n\t\t\t\t\t\t\tkey = values[keyIndex];\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tparent: null,\n\t\t\t\t\t\t\ttree,\n\t\t\t\t\t\t\tid: uniqueId++,\n\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\tnextItem: null,\n\t\t\t\t\t\t\trootNode: null,\n\t\t\t\t\t\t\tv0,\n\t\t\t\t\t\t\tv1,\n\t\t\t\t\t\t\tvalues\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (!isVoid(construct)) {\n\t\t\t\tcallback.construct = construct;\n\t\t\t}\n\t\t}\n\n\t\treturn construct;\n\t}\n}","function createElement(tag, attrs, ...children) {\n\tif (tag) {\n\t\tconst vNode = {\n\t\t\ttag\n\t\t};\n\n\t\tif (attrs) {\n\t\t\tif (attrs.key !== undefined) {\n\t\t\t\tvNode.key = attrs.key;\n\t\t\t\tdelete attrs.key;\n\t\t\t}\n\t\t\tvNode.attrs = attrs;\n\t\t}\n\t\tif (children.length) {\n\t\t\tvNode.children = children;\n\t\t}\n\t\treturn vNode;\n\t} else {\n\t\treturn {\n\t\t\ttext: tag\n\t\t};\n\t}\n}\n\nexport default {\n\tcreateElement\n};\n","import createTemplate, { addTreeConstructor } from '../../../src/core/createTemplate';\nimport TemplateFactory from '../../../src/core/TemplateFactory';\n\nexport default {\n\tcreateTemplate,\n\tTemplateFactory,\n\taddTreeConstructor\n};\n"],"names":[],"mappings":"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"}