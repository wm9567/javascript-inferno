<html>
  <head>
    <title>InfernoJS Demo</title>
  </head>
  <body>
    <demo-app title="Todo Demo"></demo-app>
    <script>

      var DemoApp = Inferno.createClass({

        //called when the tag is created, assign our variables
        created: function() {
          this.todos = [
            "Clean the dishes",
            "Cook the dinner",
            "Code some coding",
            "Comment on stuff"
          ];
          this.testClassName = "foo-bar";
        },

        //called when the tag is added to the dom
        attached: function( props ) {
          this.title = props.title;
        },

        //called when the tag is removed from the dom
        detached: function() {

        },

        //renders the contents of the tag
        render: function() {
          return t7`
            <div>
              <header>
                <h1>Example ${ this.title }</h1>
              </header>
            </div>
            <div class="${ this.testClassName }">
              <demo-widget name="Hello world" title="${ this.title }"></demo-widget>
            </div>
            <div id="main">
              <div>
                ${
                  t7.if(this.todos.length > 0, t7`
                    <span.counter>
                      There are ${ this.todos.length } todos!
                    </span>
                  `).else( t7`
                    <span.no-todos>
                      There are no todos!
                    </span>
                  `)
                }
              </div>
              <ul class="todos">
                ${
                  this.todos.map( (todo, index) => t7`
                    <li class="todo">
                      <h2>A todo</h2>
                      <span>${ index + ': ' + todo }</span>
                    </li>
                  `)
                }
              </ul>
              <section>
                <form action="#" method="post">
                  <div class="form-control">
                    <input type="text" placeholder="Enter your name" />
                  </div>
                </form>
              </section>
            </div>
          `;
        }
      });

      Inferno.registerTag("demo-app", DemoApp);

      var Widget = Inferno.createClass({

        attached: function( props ) {
          this.name = props.name;
          this.title = props.title;
        },

        render: function() {
          return t7`
            <div>
              <span>${ name }</span>
              <div>
                <span>My parent's title is ${ this.title }</span>
              </div>
            </div>
          `
        }
      });

      Inferno.registerTag("demo-widget", Widget);

    </script>
  </body>
</html>
