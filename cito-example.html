<html>
<head>
  <title>Cito example</title>
</head>
<body>
  <div id="app"></div>
  <script src="cito.js"></script>
  <script>

    var myName = "Dominic";
    var className = "foo";
    var items = [
      "Dominic",
      "Jemma",
      "Charlie",
      "Harry"
    ];

    var rootNode = null;

    function update() {

      var vDom = {
        tag: "div",
        attrs: {},
        children: [
          {
            tag: "span",
            attrs: {
              "class": className
            },
            children: myName
          },
          {
            tag: "span",
            attrs: {
              "class": className
            },
            children: myName
          },
          {
            tag: "div",
            attrs: {
              "class": "test"
            },
            children: "static node"
          },
          {
            tag: "div",
            attrs: {
              "class": "test"
            },
            children: "static node"
          },
          {
            tag: "div",
            attrs: {
              "class": "test"
            },
            children: "static node"
          },
          {
            tag: "div",
            attrs: {
              "class": "test"
            },
            children: "static node"
          },
          {
            tag: "div",
            attrs: {
              "class": "test"
            },
            children: "static node"
          }
        ]
      }

      if(rootNode === null) {
        rootNode = cito.vdom.append(document.getElementById('app'), vDom);
      } else {
        cito.vdom.update(rootNode, vDom);
      }
    }

    //has to do it one time to build the dom
    update();

    console.log("Update with no data changed");
    console.time("Cito update");
    for(var i = 0; i < 10000; i++) {
      update();
    }
    console.timeEnd("Cito update");

    console.log("Update with data changed");
    console.time("Cito update");
    for(var i = 0; i < 10000; i++) {
      myName = "Rand " + (Math.round(Math.random() * 10000));
      className = "foo-" + i;
      update();
    }
    console.timeEnd("Cito update");

  </script>
</body>
</html>
