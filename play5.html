<html>
<body>
  <div id="app"></div>
  <script src="cito.js"></script>
  <script src="inferno-dev.js"></script>
  <script>

    function template() {

      return {
        tag: "div",
        attrs: {
          "class": "foo"
        },
        children: [
          {
            deps: [
              //automatically remove "this" from this.name
              "name"
            ],
            attrs: {
              "class": "bar"
            },
            tag: "div",
            render: function(ctx) { return "Hello my name is " + ctx.name }
          },
          {
            tag: "div",
            children: [
              {
                deps: [
                  "name"
                ],
                tag: "span",
                render: function(ctx) { return ctx.name + " is my name!" }
              }
            ]
          },
          {
            tag: "ul",
            attrs: {
              "class": "colours"
            },
            deps: [
              "colours"
            ],
            render: function(ctx) { return ctx.colours.map( function(ctx, index) {
              return {
                tag: "li",
                deps: [
                  "colours[" + index + "]"
                ],
                attrs: {
                  "class": "colour"
                },
                render: function(ctx) { return ctx }
              }
            })}
          }
        ]
      };


    }

    var tpl = template();

    var widget = new Inferno.Component({
      constructor: function() {
        this.name = "Dominic";
        this.colours = [
          "Red",
          "Blue",
          "Green",
          "Yellow",
          "Brown",
          "Pink",
          "Orange",
          "Black",
          "White",
          "Silver"
        ]
      },
      element: document.getElementById('app'),
      template: template
    })



  </script>
</body>
</html>
